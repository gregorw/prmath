var Zv=Object.defineProperty,Kv=Object.defineProperties;var Qv=Object.getOwnPropertyDescriptors;var $c=Object.getOwnPropertySymbols;var Jv=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable;var Yc=(e,n,t)=>n in e?Zv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ba=(e,n)=>{for(var t in n||(n={}))Jv.call(n,t)&&Yc(e,t,n[t]);if($c)for(var t of $c(n))tm.call(n,t)&&Yc(e,t,n[t]);return e},xa=(e,n)=>Kv(e,Qv(n));var em=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var xU=em((Be,Fe)=>{const nm=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}};nm();function ao(){}function At(e,n){for(const t in n)e[t]=n[t];return e}function Cd(e){return e()}function qc(){return Object.create(null)}function $n(e){e.forEach(Cd)}function rm(e){return typeof e=="function"}function we(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function im(e){return Object.keys(e).length===0}function yn(e,n,t,r){if(e){const i=Ad(e,n,t,r);return e[0](i)}}function Ad(e,n,t,r){return e[1]&&r?At(t.ctx.slice(),e[1](r(n))):t.ctx}function _n(e,n,t,r){if(e[2]&&r){const i=e[2](r(t));if(n.dirty===void 0)return i;if(typeof i=="object"){const a=[],o=Math.max(n.dirty.length,i.length);for(let s=0;s<o;s+=1)a[s]=n.dirty[s]|i[s];return a}return n.dirty|i}return n.dirty}function bn(e,n,t,r,i,a){if(i){const o=Ad(n,t,r,a);e.p(o,i)}}function xn(e){if(e.ctx.length>32){const n=[],t=e.ctx.length/32;for(let r=0;r<t;r++)n[r]=-1;return n}return-1}function $e(e){const n={};for(const t in e)t[0]!=="$"&&(n[t]=e[t]);return n}function te(e,n){const t={};n=new Set(n);for(const r in e)!n.has(r)&&r[0]!=="$"&&(t[r]=e[r]);return t}function Kt(e,n){e.appendChild(n)}function mt(e,n,t){e.insertBefore(n,t||null)}function vt(e){e.parentNode.removeChild(e)}function Dt(e){return document.createElement(e)}function ur(e){return document.createTextNode(e)}function It(){return ur(" ")}function $u(){return ur("")}function qt(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function ft(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function se(e,n){const t=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in n)n[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=n[r]:r==="__value"?e.value=e[r]=n[r]:t[r]&&t[r].set?e[r]=n[r]:ft(e,r,n[r])}function am(e){return Array.from(e.childNodes)}function Fi(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function xi(e,n,t,r){t===null?e.style.removeProperty(n):e.style.setProperty(n,t,r?"important":"")}function kt(e,n,t){e.classList[t?"add":"remove"](n)}function om(e,n,t=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t,!1,n),r}let Ui;function Di(e){Ui=e}function Dd(){if(!Ui)throw new Error("Function called outside component initialization");return Ui}function Pd(e){Dd().$$.on_mount.push(e)}function Ld(){const e=Dd();return(n,t)=>{const r=e.$$.callbacks[n];if(r){const i=om(n,t);r.slice().forEach(a=>{a.call(e,i)})}}}function ne(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(r=>r.call(this,n))}const Oi=[],be=[],Ua=[],al=[],sm=Promise.resolve();let ol=!1;function lm(){ol||(ol=!0,sm.then(kd))}function sl(e){Ua.push(e)}function cn(e){al.push(e)}const _s=new Set;let Oa=0;function kd(){const e=Ui;do{for(;Oa<Oi.length;){const n=Oi[Oa];Oa++,Di(n),um(n.$$)}for(Di(null),Oi.length=0,Oa=0;be.length;)be.pop()();for(let n=0;n<Ua.length;n+=1){const t=Ua[n];_s.has(t)||(_s.add(t),t())}Ua.length=0}while(Oi.length);for(;al.length;)al.pop()();ol=!1,_s.clear(),Di(e)}function um(e){if(e.fragment!==null){e.update(),$n(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(sl)}}const Ha=new Set;let ar;function Yu(){ar={r:0,c:[],p:ar}}function qu(){ar.r||$n(ar.c),ar=ar.p}function yt(e,n){e&&e.i&&(Ha.delete(e),e.i(n))}function bt(e,n,t,r){if(e&&e.o){if(Ha.has(e))return;Ha.add(e),ar.c.push(()=>{Ha.delete(e),r&&(t&&e.d(1),r())}),e.o(n)}}function Je(e,n){const t={},r={},i={$$scope:1};let a=e.length;for(;a--;){const o=e[a],s=n[a];if(s){for(const l in o)l in s||(r[l]=1);for(const l in s)i[l]||(t[l]=s[l],i[l]=1);e[a]=s}else for(const l in o)i[l]=1}for(const o in r)o in t||(t[o]=void 0);return t}function Rd(e){return typeof e=="object"&&e!==null?e:{}}function fn(e,n,t){const r=e.$$.props[n];r!==void 0&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function Ht(e){e&&e.c()}function Nt(e,n,t,r){const{fragment:i,on_mount:a,on_destroy:o,after_update:s}=e.$$;i&&i.m(n,t),r||sl(()=>{const l=a.map(Cd).filter(rm);o?o.push(...l):$n(l),e.$$.on_mount=[]}),s.forEach(sl)}function Bt(e,n){const t=e.$$;t.fragment!==null&&($n(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function cm(e,n){e.$$.dirty[0]===-1&&(Oi.push(e),lm(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Te(e,n,t,r,i,a,o,s=[-1]){const l=Ui;Di(e);const u=e.$$={fragment:null,ctx:null,props:a,update:ao,not_equal:i,bound:qc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(l?l.$$.context:[])),callbacks:qc(),dirty:s,skip_bound:!1,root:n.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(e,n.props||{},(h,f,...p)=>{const d=p.length?p[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=d)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](d),c&&cm(e,h)),f}):[],u.update(),c=!0,$n(u.before_update),u.fragment=r?r(u.ctx):!1,n.target){if(n.hydrate){const h=am(n.target);u.fragment&&u.fragment.l(h),h.forEach(vt)}else u.fragment&&u.fragment.c();n.intro&&yt(e.$$.fragment),Nt(e,n.target,n.anchor,n.customElement),kd()}Di(l)}class Ee{$destroy(){Bt(this,1),this.$destroy=ao}$on(n,t){const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!im(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}Object.freeze({sm:320,md:672,lg:1056,xlg:1312,max:1584});const bs=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Ur={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:e=>typeof console!="undefined"&&console.warn(e),getWeek:e=>{const n=new Date(e.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var t=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Hi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:e=>{const n=e%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ce=(e,n=2)=>`000${e}`.slice(n*-1),je=e=>e===!0?1:0;function Xc(e,n){let t;return function(){clearTimeout(t),t=setTimeout(()=>e.apply(this,arguments),n)}}const xs=e=>e instanceof Array?e:[e];function xe(e,n,t){if(t===!0)return e.classList.add(n);e.classList.remove(n)}function Lt(e,n,t){const r=window.document.createElement(e);return n=n||"",t=t||"",r.className=n,t!==void 0&&(r.textContent=t),r}function wa(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Id(e,n){if(n(e))return e;if(e.parentNode)return Id(e.parentNode,n)}function Ta(e,n){const t=Lt("div","numInputWrapper"),r=Lt("input","numInput "+e),i=Lt("span","arrowUp"),a=Lt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),n!==void 0)for(const o in n)r.setAttribute(o,n[o]);return t.appendChild(r),t.appendChild(i),t.appendChild(a),t}function Le(e){try{return typeof e.composedPath=="function"?e.composedPath()[0]:e.target}catch{return e.target}}const Os=()=>{},oo=(e,n,t)=>t.months[n?"shorthand":"longhand"][e],fm={D:Os,F:function(e,n,t){e.setMonth(t.months.longhand.indexOf(n))},G:(e,n)=>{e.setHours(parseFloat(n))},H:(e,n)=>{e.setHours(parseFloat(n))},J:(e,n)=>{e.setDate(parseFloat(n))},K:(e,n,t)=>{e.setHours(e.getHours()%12+12*je(new RegExp(t.amPM[1],"i").test(n)))},M:function(e,n,t){e.setMonth(t.months.shorthand.indexOf(n))},S:(e,n)=>{e.setSeconds(parseFloat(n))},U:(e,n)=>new Date(parseFloat(n)*1e3),W:function(e,n,t){const r=parseInt(n),i=new Date(e.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:(e,n)=>{e.setFullYear(parseFloat(n))},Z:(e,n)=>new Date(n),d:(e,n)=>{e.setDate(parseFloat(n))},h:(e,n)=>{e.setHours(parseFloat(n))},i:(e,n)=>{e.setMinutes(parseFloat(n))},j:(e,n)=>{e.setDate(parseFloat(n))},l:Os,m:(e,n)=>{e.setMonth(parseFloat(n)-1)},n:(e,n)=>{e.setMonth(parseFloat(n)-1)},s:(e,n)=>{e.setSeconds(parseFloat(n))},u:(e,n)=>new Date(parseFloat(n)),w:Os,y:(e,n)=>{e.setFullYear(2e3+parseFloat(n))}},ll={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Pi={Z:e=>e.toISOString(),D:function(e,n,t){return n.weekdays.shorthand[Pi.w(e,n,t)]},F:function(e,n,t){return oo(Pi.n(e,n,t)-1,!1,n)},G:function(e,n,t){return Ce(Pi.h(e,n,t))},H:e=>Ce(e.getHours()),J:function(e,n){return n.ordinal!==void 0?e.getDate()+n.ordinal(e.getDate()):e.getDate()},K:(e,n)=>n.amPM[je(e.getHours()>11)],M:function(e,n){return oo(e.getMonth(),!0,n)},S:e=>Ce(e.getSeconds()),U:e=>e.getTime()/1e3,W:function(e,n,t){return t.getWeek(e)},Y:e=>Ce(e.getFullYear(),4),d:e=>Ce(e.getDate()),h:e=>e.getHours()%12?e.getHours()%12:12,i:e=>Ce(e.getMinutes()),j:e=>e.getDate(),l:function(e,n){return n.weekdays.longhand[e.getDay()]},m:e=>Ce(e.getMonth()+1),n:e=>e.getMonth()+1,s:e=>e.getSeconds(),u:e=>e.getTime(),w:e=>e.getDay(),y:e=>String(e.getFullYear()).substring(2)},Nd=({config:e=Ur,l10n:n=Hi,isMobile:t=!1})=>(r,i,a)=>{const o=a||n;return e.formatDate!==void 0&&!t?e.formatDate(r,i,o):i.split("").map((s,l,u)=>Pi[s]&&u[l-1]!=="\\"?Pi[s](r,o,e):s!=="\\"?s:"").join("")},ul=({config:e=Ur,l10n:n=Hi})=>(t,r,i,a)=>{if(t!==0&&!t)return;const o=a||n;let s;const l=t;if(t instanceof Date)s=new Date(t.getTime());else if(typeof t!="string"&&t.toFixed!==void 0)s=new Date(t);else if(typeof t=="string"){const u=r||(e||Ur).dateFormat,c=String(t).trim();if(c==="today")s=new Date,i=!0;else if(/Z$/.test(c)||/GMT$/.test(c))s=new Date(t);else if(e&&e.parseDate)s=e.parseDate(t,u);else{s=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));let h,f=[];for(let p=0,d=0,g="";p<u.length;p++){const v=u[p],b=v==="\\",m=u[p-1]==="\\"||b;if(ll[v]&&!m){g+=ll[v];const y=new RegExp(g).exec(t);y&&(h=!0)&&f[v!=="Y"?"push":"unshift"]({fn:fm[v],val:y[++d]})}else b||(g+=".");f.forEach(({fn:y,val:w})=>s=y(s,w,o)||s)}s=h?s:void 0}}if(!(s instanceof Date&&!isNaN(s.getTime()))){e.errorHandler(new Error(`Invalid date provided: ${l}`));return}return i===!0&&s.setHours(0,0,0,0),s};function ke(e,n,t=!0){return t!==!1?new Date(e.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):e.getTime()-n.getTime()}const hm=(e,n,t)=>e>Math.min(n,t)&&e<Math.max(n,t),dm={DAY:864e5};function ws(e){let n=e.defaultHour,t=e.defaultMinute,r=e.defaultSeconds;if(e.minDate!==void 0){const i=e.minDate.getHours(),a=e.minDate.getMinutes(),o=e.minDate.getSeconds();n<i&&(n=i),n===i&&t<a&&(t=a),n===i&&t===a&&r<o&&(r=e.minDate.getSeconds())}if(e.maxDate!==void 0){const i=e.maxDate.getHours(),a=e.maxDate.getMinutes();n=Math.min(n,i),n===i&&(t=Math.min(a,t)),n===i&&t===a&&(r=e.maxDate.getSeconds())}return{hours:n,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(e,...n){if(!e)throw TypeError("Cannot convert undefined or null to object");for(const t of n)t&&Object.keys(t).forEach(r=>e[r]=t[r]);return e});const pm=300;function gm(e,n){const t={config:Object.assign(Object.assign({},Ur),ie.defaultConfig),l10n:Hi};t.parseDate=ul({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=d,t._setHoursFromDate=h,t._positionCalendar=St,t.changeMonth=z,t.changeYear=ot,t.clear=$,t.close=W,t._createElement=Lt,t.destroy=et,t.isEnabled=it,t.jumpToDate=b,t.open=Tt,t.redraw=ga,t.set=ds,t.setDate=ma,t.toggle=ce;function r(){t.utils={getDaysInMonth(T=t.currentMonth,D=t.currentYear){return T===1&&(D%4===0&&D%100!==0||D%400===0)?29:t.l10n.daysInMonth[T]}}}function i(){t.element=t.input=e,t.isOpen=!1,q(),j(),gs(),ps(),r(),t.isMobile||w(),v(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&h(t.config.noCalendar?t.latestSelectedDateObj:void 0),Fn(!1)),o();const T=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&T&&St(),jt("onReady")}function a(T){return T.bind(t)}function o(){const T=t.config;T.weekNumbers===!1&&T.showMonths===1||T.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){const D=(t.days.offsetWidth+1)*T.showMonths;t.daysContainer.style.width=D+"px",t.calendarContainer.style.width=D+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function s(T){if(t.selectedDates.length===0){const V=t.config.minDate===void 0||ke(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Y=ws(t.config);V.setHours(Y.hours,Y.minutes,Y.seconds,V.getMilliseconds()),t.selectedDates=[V],t.latestSelectedDateObj=V}T!==void 0&&T.type!=="blur"&&jv(T);const D=t._input.value;c(),Fn(),t._input.value!==D&&t._debouncedChange()}function l(T,D){return T%12+12*je(D===t.l10n.amPM[1])}function u(T){switch(T%24){case 0:case 12:return 12;default:return T%12}}function c(){if(t.hourElement===void 0||t.minuteElement===void 0)return;let T=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,D=(parseInt(t.minuteElement.value,10)||0)%60,V=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(T=l(T,t.amPM.textContent));const Y=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&ke(t.latestSelectedDateObj,t.config.minDate,!0)===0;if(t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&ke(t.latestSelectedDateObj,t.config.maxDate,!0)===0){const J=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;T=Math.min(T,J.getHours()),T===J.getHours()&&(D=Math.min(D,J.getMinutes())),D===J.getMinutes()&&(V=Math.min(V,J.getSeconds()))}if(Y){const J=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;T=Math.max(T,J.getHours()),T===J.getHours()&&D<J.getMinutes()&&(D=J.getMinutes()),D===J.getMinutes()&&(V=Math.max(V,J.getSeconds()))}f(T,D,V)}function h(T){const D=T||t.latestSelectedDateObj;D&&f(D.getHours(),D.getMinutes(),D.getSeconds())}function f(T,D,V){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(T%24,D,V||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Ce(t.config.time_24hr?T:(12+T)%12+12*je(T%12===0)),t.minuteElement.value=Ce(D),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[je(T>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Ce(V)))}function p(T){const D=Le(T),V=parseInt(D.value)+(T.delta||0);(V/1e3>1||T.key==="Enter"&&!/[^\d]/.test(V.toString()))&&ot(V)}function d(T,D,V,Y){if(D instanceof Array)return D.forEach(rt=>d(T,rt,V,Y));if(T instanceof Array)return T.forEach(rt=>d(rt,D,V,Y));T.addEventListener(D,V,Y),t._handlers.push({remove:()=>T.removeEventListener(D,V)})}function g(){jt("onChange")}function v(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(D=>{Array.prototype.forEach.call(t.element.querySelectorAll(`[data-${D}]`),V=>d(V,"click",t[D]))}),t.isMobile){xt();return}const T=Xc(X,50);if(t._debouncedChange=Xc(g,pm),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d(t.daysContainer,"mouseover",D=>{t.config.mode==="range"&&pt(Le(D))}),d(window.document.body,"keydown",at),!t.config.inline&&!t.config.static&&d(window,"resize",T),window.ontouchstart!==void 0?d(window.document,"touchstart",nt):d(window.document,"mousedown",nt),d(window.document,"focus",nt,{capture:!0}),t.config.clickOpens===!0&&(d(t._input,"focus",t.open),d(t._input,"click",t.open)),t.daysContainer!==void 0&&(d(t.monthNav,"click",zv),d(t.monthNav,["keyup","increment"],p),d(t.daysContainer,"click",Xn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){const D=V=>Le(V).select();d(t.timeContainer,["increment"],s),d(t.timeContainer,"blur",s,{capture:!0}),d(t.timeContainer,"click",m),d([t.hourElement,t.minuteElement],["focus","click"],D),t.secondElement!==void 0&&d(t.secondElement,"focus",()=>t.secondElement&&t.secondElement.select()),t.amPM!==void 0&&d(t.amPM,"click",V=>{s(V),g()})}t.config.allowInput&&d(t._input,"blur",tt)}function b(T,D){const V=T!==void 0?t.parseDate(T):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Y=t.currentYear,rt=t.currentMonth;try{V!==void 0&&(t.currentYear=V.getFullYear(),t.currentMonth=V.getMonth())}catch(J){J.message="Invalid date supplied: "+V,t.config.errorHandler(J)}D&&t.currentYear!==Y&&(jt("onYearChange"),P()),D&&(t.currentYear!==Y||t.currentMonth!==rt)&&jt("onMonthChange"),t.redraw()}function m(T){const D=Le(T);~D.className.indexOf("arrow")&&y(T,D.classList.contains("arrowUp")?1:-1)}function y(T,D,V){const Y=T&&Le(T),rt=V||Y&&Y.parentNode&&Y.parentNode.firstChild,J=vs("increment");J.delta=D,rt&&rt.dispatchEvent(J)}function w(){const T=window.document.createDocumentFragment();if(t.calendarContainer=Lt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(T.appendChild(R()),t.innerContainer=Lt("div","flatpickr-innerContainer"),t.config.weekNumbers){const{weekWrapper:V,weekNumbers:Y}=L();t.innerContainer.appendChild(V),t.weekNumbers=Y,t.weekWrapper=V}t.rContainer=Lt("div","flatpickr-rContainer"),t.rContainer.appendChild(F()),t.daysContainer||(t.daysContainer=Lt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),E(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),T.appendChild(t.innerContainer)}t.config.enableTime&&T.appendChild(I()),xe(t.calendarContainer,"rangeMode",t.config.mode==="range"),xe(t.calendarContainer,"animate",t.config.animate===!0),xe(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(T);const D=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!D&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){const V=Lt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(V,t.element),V.appendChild(t.element),t.altInput&&V.appendChild(t.altInput),V.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function O(T,D,V,Y){const rt=it(D,!0),J=Lt("span","flatpickr-day "+T,D.getDate().toString());return J.dateObj=D,J.$i=Y,J.setAttribute("aria-label",t.formatDate(D,t.config.ariaDateFormat)),T.indexOf("hidden")===-1&&ke(D,t.now)===0&&(t.todayDateElem=J,J.classList.add("today"),J.setAttribute("aria-current","date")),rt?(J.tabIndex=-1,ms(D)&&(J.classList.add("selected"),t.selectedDateElem=J,t.config.mode==="range"&&(xe(J,"startRange",t.selectedDates[0]&&ke(D,t.selectedDates[0],!0)===0),xe(J,"endRange",t.selectedDates[1]&&ke(D,t.selectedDates[1],!0)===0),T==="nextMonthDay"&&J.classList.add("inRange")))):J.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Gv(D)&&!ms(D)&&J.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&T!=="prevMonthDay"&&V%7===1&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(D)+"</span>"),jt("onDayCreate",J),J}function x(T){T.focus(),t.config.mode==="range"&&pt(T)}function M(T){const D=T>0?0:t.config.showMonths-1,V=T>0?t.config.showMonths:-1;for(let Y=D;Y!=V;Y+=T){const rt=t.daysContainer.children[Y],J=T>0?0:rt.children.length-1,ct=T>0?rt.children.length:-1;for(let lt=J;lt!=ct;lt+=T){const Ot=rt.children[lt];if(Ot.className.indexOf("hidden")===-1&&it(Ot.dateObj))return Ot}}}function S(T,D){const V=T.className.indexOf("Month")===-1?T.dateObj.getMonth():t.currentMonth,Y=D>0?t.config.showMonths:-1,rt=D>0?1:-1;for(let J=V-t.currentMonth;J!=Y;J+=rt){const ct=t.daysContainer.children[J],lt=V-t.currentMonth===J?T.$i+D:D<0?ct.children.length-1:0,Ot=ct.children.length;for(let Mt=lt;Mt>=0&&Mt<Ot&&Mt!=(D>0?Ot:-1);Mt+=rt){const Wt=ct.children[Mt];if(Wt.className.indexOf("hidden")===-1&&it(Wt.dateObj)&&Math.abs(T.$i-Mt)>=Math.abs(D))return x(Wt)}}t.changeMonth(rt),A(M(rt),0)}function A(T,D){const V=Z(document.activeElement||document.body),Y=T!==void 0?T:V?document.activeElement:t.selectedDateElem!==void 0&&Z(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Z(t.todayDateElem)?t.todayDateElem:M(D>0?1:-1);Y===void 0?t._input.focus():V?S(Y,D):x(Y)}function k(T,D){const V=(new Date(T,D,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Y=t.utils.getDaysInMonth((D-1+12)%12,T),rt=t.utils.getDaysInMonth(D,T),J=window.document.createDocumentFragment(),ct=t.config.showMonths>1,lt=ct?"prevMonthDay hidden":"prevMonthDay",Ot=ct?"nextMonthDay hidden":"nextMonthDay";let Mt=Y+1-V,Wt=0;for(;Mt<=Y;Mt++,Wt++)J.appendChild(O(lt,new Date(T,D-1,Mt),Mt,Wt));for(Mt=1;Mt<=rt;Mt++,Wt++)J.appendChild(O("",new Date(T,D,Mt),Mt,Wt));for(let ge=rt+1;ge<=42-V&&(t.config.showMonths===1||Wt%7!==0);ge++,Wt++)J.appendChild(O(Ot,new Date(T,D+1,ge%rt),ge,Wt));const Ge=Lt("div","dayContainer");return Ge.appendChild(J),Ge}function E(){if(t.daysContainer===void 0)return;wa(t.daysContainer),t.weekNumbers&&wa(t.weekNumbers);const T=document.createDocumentFragment();for(let D=0;D<t.config.showMonths;D++){const V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+D),T.appendChild(k(V.getFullYear(),V.getMonth()))}t.daysContainer.appendChild(T),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&pt()}function P(){if(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")return;const T=function(D){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&D<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&D>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(let D=0;D<12;D++){if(!T(D))continue;const V=Lt("option","flatpickr-monthDropdown-month");V.value=new Date(t.currentYear,D).getMonth().toString(),V.textContent=oo(D,t.config.shorthandCurrentMonth,t.l10n),V.tabIndex=-1,t.currentMonth===D&&(V.selected=!0),t.monthsDropdownContainer.appendChild(V)}}function B(){const T=Lt("div","flatpickr-month"),D=window.document.createDocumentFragment();let V;t.config.showMonths>1||t.config.monthSelectorType==="static"?V=Lt("span","cur-month"):(t.monthsDropdownContainer=Lt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),d(t.monthsDropdownContainer,"change",ct=>{const lt=Le(ct),Ot=parseInt(lt.value,10);t.changeMonth(Ot-t.currentMonth),jt("onMonthChange")}),P(),V=t.monthsDropdownContainer);const Y=Ta("cur-year",{tabindex:"-1"}),rt=Y.getElementsByTagName("input")[0];rt.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&rt.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(rt.setAttribute("max",t.config.maxDate.getFullYear().toString()),rt.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());const J=Lt("div","flatpickr-current-month");return J.appendChild(V),J.appendChild(Y),D.appendChild(J),T.appendChild(D),{container:T,yearElement:rt,monthElement:V}}function N(){wa(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(let T=t.config.showMonths;T--;){const D=B();t.yearElements.push(D.yearElement),t.monthElements.push(D.monthElement),t.monthNav.appendChild(D.container)}t.monthNav.appendChild(t.nextMonthNav)}function R(){return t.monthNav=Lt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Lt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Lt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,N(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:()=>t.__hidePrevMonthArrow,set(T){t.__hidePrevMonthArrow!==T&&(xe(t.prevMonthNav,"flatpickr-disabled",T),t.__hidePrevMonthArrow=T)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:()=>t.__hideNextMonthArrow,set(T){t.__hideNextMonthArrow!==T&&(xe(t.nextMonthNav,"flatpickr-disabled",T),t.__hideNextMonthArrow=T)}}),t.currentYearElement=t.yearElements[0],ya(),t.monthNav}function I(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");const T=ws(t.config);t.timeContainer=Lt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;const D=Lt("span","flatpickr-time-separator",":"),V=Ta("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=V.getElementsByTagName("input")[0];const Y=Ta("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Y.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Ce(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?T.hours:u(T.hours)),t.minuteElement.value=Ce(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():T.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(V),t.timeContainer.appendChild(D),t.timeContainer.appendChild(Y),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");const rt=Ta("flatpickr-second");t.secondElement=rt.getElementsByTagName("input")[0],t.secondElement.value=Ce(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():T.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Lt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(rt)}return t.config.time_24hr||(t.amPM=Lt("span","flatpickr-am-pm",t.l10n.amPM[je((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function F(){t.weekdayContainer?wa(t.weekdayContainer):t.weekdayContainer=Lt("div","flatpickr-weekdays");for(let T=t.config.showMonths;T--;){const D=Lt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(D)}return G(),t.weekdayContainer}function G(){if(!t.weekdayContainer)return;const T=t.l10n.firstDayOfWeek;let D=[...t.l10n.weekdays.shorthand];T>0&&T<D.length&&(D=[...D.splice(T,D.length),...D.splice(0,T)]);for(let V=t.config.showMonths;V--;)t.weekdayContainer.children[V].innerHTML=`
      <span class='flatpickr-weekday'>
        ${D.join("</span><span class='flatpickr-weekday'>")}
      </span>
      `}function L(){t.calendarContainer.classList.add("hasWeeks");const T=Lt("div","flatpickr-weekwrapper");T.appendChild(Lt("span","flatpickr-weekday",t.l10n.weekAbbreviation));const D=Lt("div","flatpickr-weeks");return T.appendChild(D),{weekWrapper:T,weekNumbers:D}}function z(T,D=!0){const V=D?T:T-t.currentMonth;V<0&&t._hidePrevMonthArrow===!0||V>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=V,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,jt("onYearChange"),P()),E(),jt("onMonthChange"),ya())}function $(T=!0,D=!0){if(t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,D===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){const{hours:V,minutes:Y,seconds:rt}=ws(t.config);f(V,Y,rt)}t.redraw(),T&&jt("onChange")}function W(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),jt("onClose")}function et(){t.config!==void 0&&jt("onDestroy");for(let T=t._handlers.length;T--;)t._handlers[T].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){const T=t.calendarContainer.parentNode;if(T.lastChild&&T.removeChild(T.lastChild),T.parentNode){for(;T.firstChild;)T.parentNode.insertBefore(T.firstChild,T);T.parentNode.removeChild(T)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(T=>{try{delete t[T]}catch{}})}function ut(T){return t.config.appendTo&&t.config.appendTo.contains(T)?!0:t.calendarContainer.contains(T)}function nt(T){if(t.isOpen&&!t.config.inline){const D=Le(T),V=ut(D),Y=D===t.input||D===t.altInput||t.element.contains(D)||T.path&&T.path.indexOf&&(~T.path.indexOf(t.input)||~T.path.indexOf(t.altInput)),rt=T.type==="blur"?Y&&T.relatedTarget&&!ut(T.relatedTarget):!Y&&!V&&!ut(T.relatedTarget),J=!t.config.ignoredFocusElements.some(ct=>ct.contains(D));rt&&J&&(t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&s(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&(t.clear(!1),t.redraw()))}}function ot(T){if(!T||t.config.minDate&&T<t.config.minDate.getFullYear()||t.config.maxDate&&T>t.config.maxDate.getFullYear())return;const D=T,V=t.currentYear!==D;t.currentYear=D||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),V&&(t.redraw(),jt("onYearChange"),P())}function it(T,D=!0){var V;const Y=t.parseDate(T,void 0,D);if(t.config.minDate&&Y&&ke(Y,t.config.minDate,D!==void 0?D:!t.minDateHasTime)<0||t.config.maxDate&&Y&&ke(Y,t.config.maxDate,D!==void 0?D:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Y===void 0)return!1;const rt=!!t.config.enable,J=(V=t.config.enable)!==null&&V!==void 0?V:t.config.disable;for(let ct=0,lt;ct<J.length;ct++){if(lt=J[ct],typeof lt=="function"&&lt(Y))return rt;if(lt instanceof Date&&Y!==void 0&&lt.getTime()===Y.getTime())return rt;if(typeof lt=="string"){const Ot=t.parseDate(lt,void 0,!0);return Ot&&Ot.getTime()===Y.getTime()?rt:!rt}else if(typeof lt=="object"&&Y!==void 0&&lt.from&&lt.to&&Y.getTime()>=lt.from.getTime()&&Y.getTime()<=lt.to.getTime())return rt}return!rt}function Z(T){return t.daysContainer!==void 0?T.className.indexOf("hidden")===-1&&T.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(T):!1}function tt(T){T.target===t._input&&(t.selectedDates.length>0||t._input.value.length>0)&&!(T.relatedTarget&&ut(T.relatedTarget))&&t.setDate(t._input.value,!0,T.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function at(T){const D=Le(T),V=t.config.wrap?e.contains(D):D===t._input,Y=t.config.allowInput,rt=t.isOpen&&(!Y||!V),J=t.config.inline&&V&&!Y;if(T.keyCode===13&&V){if(Y)return t.setDate(t._input.value,!0,D===t.altInput?t.config.altFormat:t.config.dateFormat),D.blur();t.open()}else if(ut(D)||rt||J){const ct=!!t.timeContainer&&t.timeContainer.contains(D);switch(T.keyCode){case 13:ct?(T.preventDefault(),s(),nn()):Xn(T);break;case 27:T.preventDefault(),nn();break;case 8:case 46:V&&!t.config.allowInput&&(T.preventDefault(),t.clear());break;case 37:case 39:if(!ct&&!V){if(T.preventDefault(),t.daysContainer!==void 0&&(Y===!1||document.activeElement&&Z(document.activeElement))){const Ot=T.keyCode===39?1:-1;T.ctrlKey?(T.stopPropagation(),z(Ot),A(M(1),0)):A(void 0,Ot)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:T.preventDefault();const lt=T.keyCode===40?1:-1;t.daysContainer&&D.$i!==void 0||D===t.input||D===t.altInput?T.ctrlKey?(T.stopPropagation(),ot(t.currentYear-lt),A(M(1),0)):ct||A(void 0,lt*7):D===t.currentYearElement?ot(t.currentYear-lt):t.config.enableTime&&(!ct&&t.hourElement&&t.hourElement.focus(),s(T),t._debouncedChange());break;case 9:if(ct){const Ot=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(Wt=>Wt),Mt=Ot.indexOf(D);if(Mt!==-1){const Wt=Ot[Mt+(T.shiftKey?-1:1)];T.preventDefault(),(Wt||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(D)&&T.shiftKey&&(T.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&D===t.amPM)switch(T.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],c(),Fn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],c(),Fn();break}(V||ut(D))&&jt("onKeyDown",T)}function pt(T){if(t.selectedDates.length!==1||T&&(!T.classList.contains("flatpickr-day")||T.classList.contains("flatpickr-disabled")))return;const D=T?T.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),V=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Y=Math.min(D,t.selectedDates[0].getTime()),rt=Math.max(D,t.selectedDates[0].getTime());let J=!1,ct=0,lt=0;for(let Ot=Y;Ot<rt;Ot+=dm.DAY)it(new Date(Ot),!0)||(J=J||Ot>Y&&Ot<rt,Ot<V&&(!ct||Ot>ct)?ct=Ot:Ot>V&&(!lt||Ot<lt)&&(lt=Ot));for(let Ot=0;Ot<t.config.showMonths;Ot++){const Mt=t.daysContainer.children[Ot];for(let Wt=0,Ge=Mt.children.length;Wt<Ge;Wt++){const ge=Mt.children[Wt],rn=ge.dateObj.getTime(),ui=ct>0&&rn<ct||lt>0&&rn>lt;if(ui){ge.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(ci=>{ge.classList.remove(ci)});continue}else if(J&&!ui)continue;["startRange","inRange","endRange","notAllowed"].forEach(ci=>{ge.classList.remove(ci)}),T!==void 0&&(T.classList.add(D<=t.selectedDates[0].getTime()?"startRange":"endRange"),V<D&&rn===V?ge.classList.add("startRange"):V>D&&rn===V&&ge.classList.add("endRange"),rn>=ct&&(lt===0||rn<=lt)&&hm(rn,V,D)&&ge.classList.add("inRange"))}}}function X(){t.isOpen&&!t.config.static&&!t.config.inline&&St()}function Tt(T,D=t._positionElement){if(t.isMobile===!0){if(T){T.preventDefault();const Y=Le(T);Y&&Y.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),jt("onOpen");return}else if(t._input.disabled||t.config.inline)return;const V=t.isOpen;t.isOpen=!0,V||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),jt("onOpen"),St(D)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(T===void 0||!t.timeContainer.contains(T.relatedTarget))&&setTimeout(()=>t.hourElement.select(),50)}function gt(T){return D=>{const V=t.config[`_${T}Date`]=t.parseDate(D,t.config.dateFormat),Y=t.config[`_${T==="min"?"max":"min"}Date`];V!==void 0&&(t[T==="min"?"minDateHasTime":"maxDateHasTime"]=V.getHours()>0||V.getMinutes()>0||V.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(rt=>it(rt)),!t.selectedDates.length&&T==="min"&&h(V),Fn()),t.daysContainer&&(ga(),V!==void 0?t.currentYearElement[T]=V.getFullYear().toString():t.currentYearElement.removeAttribute(T),t.currentYearElement.disabled=!!Y&&V!==void 0&&Y.getFullYear()===V.getFullYear())}}function q(){const T=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],D=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e.dataset||{}))),n),V={};t.config.parseDate=D.parseDate,t.config.formatDate=D.formatDate,Object.defineProperty(t.config,"enable",{get:()=>t.config._enable,set:J=>{t.config._enable=Zn(J)}}),Object.defineProperty(t.config,"disable",{get:()=>t.config._disable,set:J=>{t.config._disable=Zn(J)}});const Y=D.mode==="time";if(!D.dateFormat&&(D.enableTime||Y)){const J=ie.defaultConfig.dateFormat||Ur.dateFormat;V.dateFormat=D.noCalendar||Y?"H:i"+(D.enableSeconds?":S":""):J+" H:i"+(D.enableSeconds?":S":"")}if(D.altInput&&(D.enableTime||Y)&&!D.altFormat){const J=ie.defaultConfig.altFormat||Ur.altFormat;V.altFormat=D.noCalendar||Y?"h:i"+(D.enableSeconds?":S K":" K"):J+` h:i${D.enableSeconds?":S":""} K`}Object.defineProperty(t.config,"minDate",{get:()=>t.config._minDate,set:gt("min")}),Object.defineProperty(t.config,"maxDate",{get:()=>t.config._maxDate,set:gt("max")});const rt=J=>ct=>{t.config[J==="min"?"_minTime":"_maxTime"]=t.parseDate(ct,"H:i:S")};Object.defineProperty(t.config,"minTime",{get:()=>t.config._minTime,set:rt("min")}),Object.defineProperty(t.config,"maxTime",{get:()=>t.config._maxTime,set:rt("max")}),D.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,V,D);for(let J=0;J<T.length;J++)t.config[T[J]]=t.config[T[J]]===!0||t.config[T[J]]==="true";bs.filter(J=>t.config[J]!==void 0).forEach(J=>{t.config[J]=xs(t.config[J]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let J=0;J<t.config.plugins.length;J++){const ct=t.config.plugins[J](t)||{};for(const lt in ct)bs.indexOf(lt)>-1?t.config[lt]=xs(ct[lt]).map(a).concat(t.config[lt]):typeof D[lt]=="undefined"&&(t.config[lt]=ct[lt])}D.altInputClass||(t.config.altInputClass=Q().className+" "+t.config.altInputClass),jt("onParseConfig")}function Q(){return t.config.wrap?e.querySelector("[data-input]"):e}function j(){typeof t.config.locale!="object"&&typeof ie.l10ns[t.config.locale]=="undefined"&&t.config.errorHandler(new Error(`flatpickr: invalid locale ${t.config.locale}`)),t.l10n=Object.assign(Object.assign({},ie.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?ie.l10ns[t.config.locale]:void 0),ll.K=`(${t.l10n.amPM[0]}|${t.l10n.amPM[1]}|${t.l10n.amPM[0].toLowerCase()}|${t.l10n.amPM[1].toLowerCase()})`,Object.assign(Object.assign({},n),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr===void 0&&ie.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Nd(t),t.parseDate=ul({config:t.config,l10n:t.l10n})}function St(T){if(typeof t.config.position=="function")return void t.config.position(t,T);if(t.calendarContainer===void 0)return;jt("onPreCalendarPosition");const D=T||t._positionElement,V=Array.prototype.reduce.call(t.calendarContainer.children,(fi,ys)=>fi+ys.offsetHeight,0),Y=t.calendarContainer.offsetWidth,rt=t.config.position.split(" "),J=rt[0],ct=rt.length>1?rt[1]:null,lt=D.getBoundingClientRect(),Ot=window.innerHeight-lt.bottom,Mt=J==="above"||J!=="below"&&Ot<V&&lt.top>V,Wt=window.pageYOffset+lt.top+(Mt?-V-2:D.offsetHeight+2);if(xe(t.calendarContainer,"arrowTop",!Mt),xe(t.calendarContainer,"arrowBottom",Mt),t.config.inline)return;let Ge=window.pageXOffset+lt.left,ge=!1,_a=!1;ct==="center"?(Ge-=(Y-lt.width)/2,ge=!0):ct==="right"&&(Ge-=Y-lt.width,_a=!0),xe(t.calendarContainer,"arrowLeft",!ge&&!_a),xe(t.calendarContainer,"arrowCenter",ge),xe(t.calendarContainer,"arrowRight",_a);const rn=window.document.body.offsetWidth-(window.pageXOffset+lt.right),ui=Ge+Y>window.document.body.offsetWidth,ci=rn+Y>window.document.body.offsetWidth;if(xe(t.calendarContainer,"rightMost",ui),!t.config.static)if(t.calendarContainer.style.top=`${Wt}px`,!ui)t.calendarContainer.style.left=`${Ge}px`,t.calendarContainer.style.right="auto";else if(!ci)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=`${rn}px`;else{const fi=Tn();if(fi===void 0)return;const ys=window.document.body.offsetWidth,Wv=Math.max(0,ys/2-Y/2),$v=".flatpickr-calendar.centerMost:before",Yv=".flatpickr-calendar.centerMost:after",qv=fi.cssRules.length,Xv=`{left:${lt.left}px;right:auto;}`;xe(t.calendarContainer,"rightMost",!1),xe(t.calendarContainer,"centerMost",!0),fi.insertRule(`${$v},${Yv}${Xv}`,qv),t.calendarContainer.style.left=`${Wv}px`,t.calendarContainer.style.right="auto"}}function Tn(){let T=null;for(let D=0;D<document.styleSheets.length;D++){const V=document.styleSheets[D];try{V.cssRules}catch{continue}T=V;break}return T!=null?T:Ve()}function Ve(){const T=document.createElement("style");return document.head.appendChild(T),T.sheet}function ga(){t.config.noCalendar||t.isMobile||(P(),ya(),E())}function nn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Xn(T){T.preventDefault(),T.stopPropagation();const D=ct=>ct.classList&&ct.classList.contains("flatpickr-day")&&!ct.classList.contains("flatpickr-disabled")&&!ct.classList.contains("notAllowed"),V=Id(Le(T),D);if(V===void 0)return;const Y=V,rt=t.latestSelectedDateObj=new Date(Y.dateObj.getTime()),J=(rt.getMonth()<t.currentMonth||rt.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Y,t.config.mode==="single")t.selectedDates=[rt];else if(t.config.mode==="multiple"){const ct=ms(rt);ct?t.selectedDates.splice(parseInt(ct),1):t.selectedDates.push(rt)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=rt,t.selectedDates.push(rt),ke(rt,t.selectedDates[0],!0)!==0&&t.selectedDates.sort((ct,lt)=>ct.getTime()-lt.getTime()));if(c(),J){const ct=t.currentYear!==rt.getFullYear();t.currentYear=rt.getFullYear(),t.currentMonth=rt.getMonth(),ct&&(jt("onYearChange"),P()),jt("onMonthChange")}if(ya(),E(),Fn(),!J&&t.config.mode!=="range"&&t.config.showMonths===1?x(Y):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){const ct=t.config.mode==="single"&&!t.config.enableTime,lt=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(ct||lt)&&nn()}g()}const Er={locale:[j,G],showMonths:[N,o,F],minDate:[b],maxDate:[b],clickOpens:[()=>{t.config.clickOpens===!0?(d(t._input,"focus",t.open),d(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function ds(T,D){if(T!==null&&typeof T=="object"){Object.assign(t.config,T);for(const V in T)Er[V]!==void 0&&Er[V].forEach(Y=>Y())}else t.config[T]=D,Er[T]!==void 0?Er[T].forEach(V=>V()):bs.indexOf(T)>-1&&(t.config[T]=xs(D));t.redraw(),Fn(!0)}function va(T,D){let V=[];if(T instanceof Array)V=T.map(Y=>t.parseDate(Y,D));else if(T instanceof Date||typeof T=="number")V=[t.parseDate(T,D)];else if(typeof T=="string")switch(t.config.mode){case"single":case"time":V=[t.parseDate(T,D)];break;case"multiple":V=T.split(t.config.conjunction).map(Y=>t.parseDate(Y,D));break;case"range":V=T.split(t.l10n.rangeSeparator).map(Y=>t.parseDate(Y,D));break}else t.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(T)}`));t.selectedDates=t.config.allowInvalidPreload?V:V.filter(Y=>Y instanceof Date&&it(Y,!1)),t.config.mode==="range"&&t.selectedDates.sort((Y,rt)=>Y.getTime()-rt.getTime())}function ma(T,D=!1,V=t.config.dateFormat){if(T!==0&&!T||T instanceof Array&&T.length===0)return t.clear(D);va(T,V),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),b(void 0,D),h(),t.selectedDates.length===0&&t.clear(!1),Fn(D),D&&jt("onChange")}function Zn(T){return T.slice().map(D=>typeof D=="string"||typeof D=="number"||D instanceof Date?t.parseDate(D,void 0,!0):D&&typeof D=="object"&&D.from&&D.to?{from:t.parseDate(D.from,void 0),to:t.parseDate(D.to,void 0)}:D).filter(D=>D)}function ps(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;const T=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);T&&va(T,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function gs(){if(t.input=Q(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Lt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),t._positionElement=t.config.positionElement||t._input}function xt(){const T=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Lt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=T,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=T==="datetime-local"?"Y-m-d\\TH:i:S":T==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}d(t.mobileInput,"change",D=>{t.setDate(Le(D).value,!1,t.mobileFormatStr),jt("onChange"),jt("onClose")})}function ce(T){if(t.isOpen===!0)return t.close();t.open(T)}function jt(T,D){if(t.config===void 0)return;const V=t.config[T];if(V!==void 0&&V.length>0)for(let Y=0;V[Y]&&Y<V.length;Y++)V[Y](t.selectedDates,t.input.value,t,D);T==="onChange"&&(t.input.dispatchEvent(vs("change")),t.input.dispatchEvent(vs("input")))}function vs(T){const D=document.createEvent("Event");return D.initEvent(T,!0,!0),D}function ms(T){for(let D=0;D<t.selectedDates.length;D++)if(ke(t.selectedDates[D],T)===0)return""+D;return!1}function Gv(T){return t.config.mode!=="range"||t.selectedDates.length<2?!1:ke(T,t.selectedDates[0])>=0&&ke(T,t.selectedDates[1])<=0}function ya(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach((T,D)=>{const V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+D),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[D].textContent=oo(V.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=V.getMonth().toString(),T.value=V.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Wc(T){return t.selectedDates.map(D=>t.formatDate(D,T)).filter((D,V,Y)=>t.config.mode!=="range"||t.config.enableTime||Y.indexOf(D)===V).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Fn(T=!0){t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Wc(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Wc(t.config.altFormat)),T!==!1&&jt("onValueUpdate")}function zv(T){const D=Le(T),V=t.prevMonthNav.contains(D),Y=t.nextMonthNav.contains(D);V||Y?z(V?-1:1):t.yearElements.indexOf(D)>=0?D.select():D.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):D.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function jv(T){T.preventDefault();const D=T.type==="keydown",V=Le(T),Y=V;t.amPM!==void 0&&V===t.amPM&&(t.amPM.textContent=t.l10n.amPM[je(t.amPM.textContent===t.l10n.amPM[0])]);const rt=parseFloat(Y.getAttribute("min")),J=parseFloat(Y.getAttribute("max")),ct=parseFloat(Y.getAttribute("step")),lt=parseInt(Y.value,10),Ot=T.delta||(D?T.which===38?1:-1:0);let Mt=lt+ct*Ot;if(typeof Y.value!="undefined"&&Y.value.length===2){const Wt=Y===t.hourElement,Ge=Y===t.minuteElement;Mt<rt?(Mt=J+Mt+je(!Wt)+(je(Wt)&&je(!t.amPM)),Ge&&y(void 0,-1,t.hourElement)):Mt>J&&(Mt=Y===t.hourElement?Mt-J-je(!t.amPM):rt,Ge&&y(void 0,1,t.hourElement)),t.amPM&&Wt&&(ct===1?Mt+lt===23:Math.abs(Mt-lt)>ct)&&(t.amPM.textContent=t.l10n.amPM[je(t.amPM.textContent===t.l10n.amPM[0])]),Y.value=Ce(Mt)}}return i(),t}function Hr(e,n){const t=Array.prototype.slice.call(e).filter(i=>i instanceof HTMLElement),r=[];for(let i=0;i<t.length;i++){const a=t[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=gm(a,n||{}),r.push(a._flatpickr)}catch(o){console.error(o)}}return r.length===1?r[0]:r}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return Hr(this,e)},HTMLElement.prototype.flatpickr=function(e){return Hr([this],e)});var ie=function(e,n){return typeof e=="string"?Hr(window.document.querySelectorAll(e),n):e instanceof Node?Hr([e],n):Hr(e,n)};ie.defaultConfig={};ie.l10ns={en:Object.assign({},Hi),default:Object.assign({},Hi)};ie.localize=e=>{ie.l10ns.default=Object.assign(Object.assign({},ie.l10ns.default),e)};ie.setDefaults=e=>{ie.defaultConfig=Object.assign(Object.assign({},ie.defaultConfig),e)};ie.parseDate=ul({});ie.formatDate=Nd({});ie.compareDates=ke;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(e){return Hr(this,e)});Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof e=="string"?parseInt(e,10):e))};typeof window!="undefined"&&(window.flatpickr=ie);function vm(e){let n,t,r,i;const a=e[3].default,o=yn(a,e,e[2],null);let s=[e[1]],l={};for(let u=0;u<s.length;u+=1)l=At(l,s[u]);return{c(){n=Dt("form"),o&&o.c(),se(n,l),kt(n,"bx--form",!0)},m(u,c){mt(u,n,c),o&&o.m(n,null),e[10](n),t=!0,r||(i=[qt(n,"click",e[4]),qt(n,"keydown",e[5]),qt(n,"mouseover",e[6]),qt(n,"mouseenter",e[7]),qt(n,"mouseleave",e[8]),qt(n,"submit",e[9])],r=!0)},p(u,[c]){o&&o.p&&(!t||c&4)&&bn(o,a,u,u[2],t?_n(a,u[2],c,null):xn(u[2]),null),se(n,l=Je(s,[c&2&&u[1]])),kt(n,"bx--form",!0)},i(u){t||(yt(o,u),t=!0)},o(u){bt(o,u),t=!1},d(u){u&&vt(n),o&&o.d(u),e[10](null),r=!1,$n(i)}}}function mm(e,n,t){const r=["ref"];let i=te(n,r),{$$slots:a={},$$scope:o}=n,{ref:s=null}=n;function l(g){ne.call(this,e,g)}function u(g){ne.call(this,e,g)}function c(g){ne.call(this,e,g)}function h(g){ne.call(this,e,g)}function f(g){ne.call(this,e,g)}function p(g){ne.call(this,e,g)}function d(g){be[g?"unshift":"push"](()=>{s=g,t(0,s)})}return e.$$set=g=>{n=At(At({},n),$e(g)),t(1,i=te(n,r)),"ref"in g&&t(0,s=g.ref),"$$scope"in g&&t(2,o=g.$$scope)},[s,i,o,a,l,u,c,h,f,p,d]}class ym extends Ee{constructor(n){super();Te(this,n,mm,vm,we,{ref:0})}}function Zc(e){let n,t,r;return{c(){n=Dt("legend"),t=ur(e[4]),ft(n,"id",r=e[5]||e[6]["aria-labelledby"]),kt(n,"bx--label",!0)},m(i,a){mt(i,n,a),Kt(n,t)},p(i,a){a&16&&Fi(t,i[4]),a&96&&r!==(r=i[5]||i[6]["aria-labelledby"])&&ft(n,"id",r)},d(i){i&&vt(n)}}}function Kc(e){let n,t;return{c(){n=Dt("div"),t=ur(e[3]),kt(n,"bx--form__requirement",!0)},m(r,i){mt(r,n,i),Kt(n,t)},p(r,i){i&8&&Fi(t,r[3])},d(r){r&&vt(n)}}}function _m(e){let n,t,r,i,a,o,s,l,u=e[4]&&Zc(e);const c=e[8].default,h=yn(c,e,e[7],null);let f=e[2]&&Kc(e),p=[{"data-invalid":i=e[1]||void 0},{"aria-labelledby":a=e[6]["aria-labelledby"]||e[5]},e[6]],d={};for(let g=0;g<p.length;g+=1)d=At(d,p[g]);return{c(){n=Dt("fieldset"),u&&u.c(),t=It(),h&&h.c(),r=It(),f&&f.c(),se(n,d),kt(n,"bx--fieldset",!0),kt(n,"bx--fieldset--no-margin",e[0])},m(g,v){mt(g,n,v),u&&u.m(n,null),Kt(n,t),h&&h.m(n,null),Kt(n,r),f&&f.m(n,null),o=!0,s||(l=[qt(n,"click",e[9]),qt(n,"mouseover",e[10]),qt(n,"mouseenter",e[11]),qt(n,"mouseleave",e[12])],s=!0)},p(g,[v]){g[4]?u?u.p(g,v):(u=Zc(g),u.c(),u.m(n,t)):u&&(u.d(1),u=null),h&&h.p&&(!o||v&128)&&bn(h,c,g,g[7],o?_n(c,g[7],v,null):xn(g[7]),null),g[2]?f?f.p(g,v):(f=Kc(g),f.c(),f.m(n,null)):f&&(f.d(1),f=null),se(n,d=Je(p,[(!o||v&2&&i!==(i=g[1]||void 0))&&{"data-invalid":i},(!o||v&96&&a!==(a=g[6]["aria-labelledby"]||g[5]))&&{"aria-labelledby":a},v&64&&g[6]])),kt(n,"bx--fieldset",!0),kt(n,"bx--fieldset--no-margin",g[0])},i(g){o||(yt(h,g),o=!0)},o(g){bt(h,g),o=!1},d(g){g&&vt(n),u&&u.d(),h&&h.d(g),f&&f.d(),s=!1,$n(l)}}}function bm(e,n,t){const r=["noMargin","invalid","message","messageText","legendText","legendId"];let i=te(n,r),{$$slots:a={},$$scope:o}=n,{noMargin:s=!1}=n,{invalid:l=!1}=n,{message:u=!1}=n,{messageText:c=""}=n,{legendText:h=""}=n,{legendId:f=""}=n;function p(b){ne.call(this,e,b)}function d(b){ne.call(this,e,b)}function g(b){ne.call(this,e,b)}function v(b){ne.call(this,e,b)}return e.$$set=b=>{n=At(At({},n),$e(b)),t(6,i=te(n,r)),"noMargin"in b&&t(0,s=b.noMargin),"invalid"in b&&t(1,l=b.invalid),"message"in b&&t(2,u=b.message),"messageText"in b&&t(3,c=b.messageText),"legendText"in b&&t(4,h=b.legendText),"legendId"in b&&t(5,f=b.legendId),"$$scope"in b&&t(7,o=b.$$scope)},[s,l,u,c,h,f,i,o,a,p,d,g,v]}class Ts extends Ee{constructor(n){super();Te(this,n,bm,_m,we,{noMargin:0,invalid:1,message:2,messageText:3,legendText:4,legendId:5})}}const xm=e=>({props:e&2}),Qc=e=>({props:e[1]});function Om(e){let n,t;const r=e[10].default,i=yn(r,e,e[9],null);let a=[e[1]],o={};for(let s=0;s<a.length;s+=1)o=At(o,a[s]);return{c(){n=Dt("div"),i&&i.c(),se(n,o)},m(s,l){mt(s,n,l),i&&i.m(n,null),t=!0},p(s,l){i&&i.p&&(!t||l&512)&&bn(i,r,s,s[9],t?_n(r,s[9],l,null):xn(s[9]),null),se(n,o=Je(a,[l&2&&s[1]]))},i(s){t||(yt(i,s),t=!0)},o(s){bt(i,s),t=!1},d(s){s&&vt(n),i&&i.d(s)}}}function wm(e){let n;const t=e[10].default,r=yn(t,e,e[9],Qc);return{c(){r&&r.c()},m(i,a){r&&r.m(i,a),n=!0},p(i,a){r&&r.p&&(!n||a&514)&&bn(r,t,i,i[9],n?_n(t,i[9],a,xm):xn(i[9]),Qc)},i(i){n||(yt(r,i),n=!0)},o(i){bt(r,i),n=!1},d(i){r&&r.d(i)}}}function Tm(e){let n,t,r,i;const a=[wm,Om],o=[];function s(l,u){return l[0]?0:1}return n=s(e),t=o[n]=a[n](e),{c(){t.c(),r=$u()},m(l,u){o[n].m(l,u),mt(l,r,u),i=!0},p(l,[u]){let c=n;n=s(l),n===c?o[n].p(l,u):(Yu(),bt(o[c],1,1,()=>{o[c]=null}),qu(),t=o[n],t?t.p(l,u):(t=o[n]=a[n](l),t.c()),yt(t,1),t.m(r.parentNode,r))},i(l){i||(yt(t),i=!0)},o(l){bt(t),i=!1},d(l){o[n].d(l),l&&vt(r)}}}function Em(e,n,t){let r;const i=["as","condensed","narrow","fullWidth","noGutter","noGutterLeft","noGutterRight","padding"];let a=te(n,i),{$$slots:o={},$$scope:s}=n,{as:l=!1}=n,{condensed:u=!1}=n,{narrow:c=!1}=n,{fullWidth:h=!1}=n,{noGutter:f=!1}=n,{noGutterLeft:p=!1}=n,{noGutterRight:d=!1}=n,{padding:g=!1}=n;return e.$$set=v=>{n=At(At({},n),$e(v)),t(11,a=te(n,i)),"as"in v&&t(0,l=v.as),"condensed"in v&&t(2,u=v.condensed),"narrow"in v&&t(3,c=v.narrow),"fullWidth"in v&&t(4,h=v.fullWidth),"noGutter"in v&&t(5,f=v.noGutter),"noGutterLeft"in v&&t(6,p=v.noGutterLeft),"noGutterRight"in v&&t(7,d=v.noGutterRight),"padding"in v&&t(8,g=v.padding),"$$scope"in v&&t(9,s=v.$$scope)},e.$$.update=()=>{t(1,r=xa(ba({},a),{class:[a.class,"bx--grid",u&&"bx--grid--condensed",c&&"bx--grid--narrow",h&&"bx--grid--full-width",f&&"bx--no-gutter",p&&"bx--no-gutter--left",d&&"bx--no-gutter--right",g&&"bx--row-padding"].filter(Boolean).join(" ")}))},[l,r,u,c,h,f,p,d,g,s,o]}class Sm extends Ee{constructor(n){super();Te(this,n,Em,Tm,we,{as:0,condensed:2,narrow:3,fullWidth:4,noGutter:5,noGutterLeft:6,noGutterRight:7,padding:8})}}const Mm=e=>({props:e&2}),Jc=e=>({props:e[1]});function Cm(e){let n,t;const r=e[9].default,i=yn(r,e,e[8],null);let a=[e[1]],o={};for(let s=0;s<a.length;s+=1)o=At(o,a[s]);return{c(){n=Dt("div"),i&&i.c(),se(n,o)},m(s,l){mt(s,n,l),i&&i.m(n,null),t=!0},p(s,l){i&&i.p&&(!t||l&256)&&bn(i,r,s,s[8],t?_n(r,s[8],l,null):xn(s[8]),null),se(n,o=Je(a,[l&2&&s[1]]))},i(s){t||(yt(i,s),t=!0)},o(s){bt(i,s),t=!1},d(s){s&&vt(n),i&&i.d(s)}}}function Am(e){let n;const t=e[9].default,r=yn(t,e,e[8],Jc);return{c(){r&&r.c()},m(i,a){r&&r.m(i,a),n=!0},p(i,a){r&&r.p&&(!n||a&258)&&bn(r,t,i,i[8],n?_n(t,i[8],a,Mm):xn(i[8]),Jc)},i(i){n||(yt(r,i),n=!0)},o(i){bt(r,i),n=!1},d(i){r&&r.d(i)}}}function Dm(e){let n,t,r,i;const a=[Am,Cm],o=[];function s(l,u){return l[0]?0:1}return n=s(e),t=o[n]=a[n](e),{c(){t.c(),r=$u()},m(l,u){o[n].m(l,u),mt(l,r,u),i=!0},p(l,[u]){let c=n;n=s(l),n===c?o[n].p(l,u):(Yu(),bt(o[c],1,1,()=>{o[c]=null}),qu(),t=o[n],t?t.p(l,u):(t=o[n]=a[n](l),t.c()),yt(t,1),t.m(r.parentNode,r))},i(l){i||(yt(t),i=!0)},o(l){bt(t),i=!1},d(l){o[n].d(l),l&&vt(r)}}}function Pm(e,n,t){let r;const i=["as","condensed","narrow","noGutter","noGutterLeft","noGutterRight","padding"];let a=te(n,i),{$$slots:o={},$$scope:s}=n,{as:l=!1}=n,{condensed:u=!1}=n,{narrow:c=!1}=n,{noGutter:h=!1}=n,{noGutterLeft:f=!1}=n,{noGutterRight:p=!1}=n,{padding:d=!1}=n;return e.$$set=g=>{n=At(At({},n),$e(g)),t(10,a=te(n,i)),"as"in g&&t(0,l=g.as),"condensed"in g&&t(2,u=g.condensed),"narrow"in g&&t(3,c=g.narrow),"noGutter"in g&&t(4,h=g.noGutter),"noGutterLeft"in g&&t(5,f=g.noGutterLeft),"noGutterRight"in g&&t(6,p=g.noGutterRight),"padding"in g&&t(7,d=g.padding),"$$scope"in g&&t(8,s=g.$$scope)},e.$$.update=()=>{t(1,r=xa(ba({},a),{class:[a.class,"bx--row",u&&"bx--row--condensed",c&&"bx--row--narrow",h&&"bx--no-gutter",f&&"bx--no-gutter--left",p&&"bx--no-gutter--right",d&&"bx--row-padding"].filter(Boolean).join(" ")}))},[l,r,u,c,h,f,p,d,s,o]}class cl extends Ee{constructor(n){super();Te(this,n,Pm,Dm,we,{as:0,condensed:2,narrow:3,noGutter:4,noGutterLeft:5,noGutterRight:6,padding:7})}}const Lm=e=>({props:e&2}),tf=e=>({props:e[1]});function km(e){let n,t;const r=e[14].default,i=yn(r,e,e[13],null);let a=[e[1]],o={};for(let s=0;s<a.length;s+=1)o=At(o,a[s]);return{c(){n=Dt("div"),i&&i.c(),se(n,o)},m(s,l){mt(s,n,l),i&&i.m(n,null),t=!0},p(s,l){i&&i.p&&(!t||l&8192)&&bn(i,r,s,s[13],t?_n(r,s[13],l,null):xn(s[13]),null),se(n,o=Je(a,[l&2&&s[1]]))},i(s){t||(yt(i,s),t=!0)},o(s){bt(i,s),t=!1},d(s){s&&vt(n),i&&i.d(s)}}}function Rm(e){let n;const t=e[14].default,r=yn(t,e,e[13],tf);return{c(){r&&r.c()},m(i,a){r&&r.m(i,a),n=!0},p(i,a){r&&r.p&&(!n||a&8194)&&bn(r,t,i,i[13],n?_n(t,i[13],a,Lm):xn(i[13]),tf)},i(i){n||(yt(r,i),n=!0)},o(i){bt(r,i),n=!1},d(i){r&&r.d(i)}}}function Im(e){let n,t,r,i;const a=[Rm,km],o=[];function s(l,u){return l[0]?0:1}return n=s(e),t=o[n]=a[n](e),{c(){t.c(),r=$u()},m(l,u){o[n].m(l,u),mt(l,r,u),i=!0},p(l,[u]){let c=n;n=s(l),n===c?o[n].p(l,u):(Yu(),bt(o[c],1,1,()=>{o[c]=null}),qu(),t=o[n],t?t.p(l,u):(t=o[n]=a[n](l),t.c()),yt(t,1),t.m(r.parentNode,r))},i(l){i||(yt(t),i=!0)},o(l){bt(t),i=!1},d(l){o[n].d(l),l&&vt(r)}}}function Nm(e,n,t){let r,i;const a=["as","noGutter","noGutterLeft","noGutterRight","padding","aspectRatio","sm","md","lg","xlg","max"];let o=te(n,a),{$$slots:s={},$$scope:l}=n,{as:u=!1}=n,{noGutter:c=!1}=n,{noGutterLeft:h=!1}=n,{noGutterRight:f=!1}=n,{padding:p=!1}=n,{aspectRatio:d=void 0}=n,{sm:g=void 0}=n,{md:v=void 0}=n,{lg:b=void 0}=n,{xlg:m=void 0}=n,{max:y=void 0}=n;const w=["sm","md","lg","xlg","max"];return e.$$set=O=>{n=At(At({},n),$e(O)),t(16,o=te(n,a)),"as"in O&&t(0,u=O.as),"noGutter"in O&&t(2,c=O.noGutter),"noGutterLeft"in O&&t(3,h=O.noGutterLeft),"noGutterRight"in O&&t(4,f=O.noGutterRight),"padding"in O&&t(5,p=O.padding),"aspectRatio"in O&&t(6,d=O.aspectRatio),"sm"in O&&t(7,g=O.sm),"md"in O&&t(8,v=O.md),"lg"in O&&t(9,b=O.lg),"xlg"in O&&t(10,m=O.xlg),"max"in O&&t(11,y=O.max),"$$scope"in O&&t(13,l=O.$$scope)},e.$$.update=()=>{e.$$.dirty&3968&&t(12,r=[g,v,b,m,y].map((O,x)=>{const M=w[x];if(O===!0)return`bx--col-${M}`;if(typeof O=="number")return`bx--col-${M}-${O}`;if(typeof O=="object"){let S=[];return typeof O.span=="number"?S=[...S,`bx--col-${M}-${O.span}`]:O.span===!0&&(S=[...S,`bx--col-${M}`]),typeof O.offset=="number"&&(S=[...S,`bx--offset-${M}-${O.offset}`]),S.join(" ")}}).filter(Boolean).join(" ")),t(1,i=xa(ba({},o),{class:[o.class,r,!r&&"bx--col",c&&"bx--no-gutter",h&&"bx--no-gutter--left",f&&"bx--no-gutter--right",d&&`bx--aspect-ratio bx--aspect-ratio--${d}`,p&&"bx--col-padding"].filter(Boolean).join(" ")}))},[u,i,c,h,f,p,d,g,v,b,m,y,r,l,s]}class so extends Ee{constructor(n){super();Te(this,n,Nm,Im,we,{as:0,noGutter:2,noGutterLeft:3,noGutterRight:4,padding:5,aspectRatio:6,sm:7,md:8,lg:9,xlg:10,max:11})}}const Bm=e=>({}),ef=e=>({});function Fm(e){let n;return{c(){n=ur(e[15])},m(t,r){mt(t,n,r)},p(t,r){r[0]&32768&&Fi(n,t[15])},d(t){t&&vt(n)}}}function Um(e){let n,t,r,i,a,o=(e[5]||e[4])+"",s,l,u,c,h,f,p,d,g,v,b,m,y=(e[3]||e[2])+"",w,O,x,M,S,A,k,E,P,B,N,R,I;const F=e[30].labelText,G=yn(F,e,e[29],ef),L=G||Fm(e);let z=[e[25]],$={};for(let W=0;W<z.length;W+=1)$=At($,z[W]);return{c(){n=Dt("div"),t=Dt("label"),L&&L.c(),r=It(),i=Dt("div"),a=Dt("span"),s=ur(o),l=It(),u=Dt("div"),c=Dt("div"),h=It(),f=Dt("div"),p=It(),d=Dt("div"),g=It(),v=Dt("input"),b=It(),m=Dt("span"),w=ur(y),O=It(),x=Dt("input"),ft(t,"for",e[13]),ft(t,"id",e[20]),kt(t,"bx--label",!0),kt(t,"bx--label--disabled",e[10]),kt(a,"bx--slider__range-label",!0),ft(c,"role","slider"),ft(c,"tabindex","0"),xi(c,"left",e[19]+"%"),ft(c,"aria-valuemax",e[2]),ft(c,"aria-valuemin",e[4]),ft(c,"aria-valuenow",e[0]),ft(c,"id",e[13]),kt(c,"bx--slider__thumb",!0),kt(f,"bx--slider__track",!0),xi(d,"transform","translate(0, -50%) scaleX("+e[19]/100+")"),kt(d,"bx--slider__filled-track",!0),ft(v,"type","hidden"),ft(v,"name",e[16]),v.value=e[0],v.required=e[8],ft(v,"min",e[4]),ft(v,"max",e[2]),ft(v,"step",e[6]),kt(v,"bx--slider__input",!0),ft(u,"role","presentation"),ft(u,"tabindex","-1"),kt(u,"bx--slider",!0),kt(u,"bx--slider--disabled",e[10]),kt(m,"bx--slider__range-label",!0),ft(x,"type",M=e[12]?"hidden":e[9]),ft(x,"style",S=e[12]?"display: none":void 0),ft(x,"id",A="input-"+e[13]),ft(x,"name",e[16]),x.value=e[0],ft(x,"aria-labelledby",k=e[26]["aria-label"]?void 0:e[20]),ft(x,"aria-label",E=e[26]["aria-label"]||"Slider number input"),x.disabled=e[10],x.required=e[8],ft(x,"min",e[4]),ft(x,"max",e[2]),ft(x,"step",e[6]),ft(x,"data-invalid",P=e[14]||null),ft(x,"aria-invalid",B=e[14]||null),kt(x,"bx--text-input",!0),kt(x,"bx--slider-text-input",!0),kt(x,"bx--text-input--light",e[11]),kt(x,"bx--text-input--invalid",e[14]),kt(i,"bx--slider-container",!0),se(n,$),kt(n,"bx--form-item",!0)},m(W,et){mt(W,n,et),Kt(n,t),L&&L.m(t,null),Kt(n,r),Kt(n,i),Kt(i,a),Kt(a,s),Kt(i,l),Kt(i,u),Kt(u,c),Kt(u,h),Kt(u,f),e[35](f),Kt(u,p),Kt(u,d),Kt(u,g),Kt(u,v),e[36](u),Kt(i,b),Kt(i,m),Kt(m,w),Kt(i,O),Kt(i,x),N=!0,R||(I=[qt(window,"mousemove",e[24]),qt(window,"touchmove",e[24]),qt(window,"mouseup",e[23]),qt(window,"touchend",e[23]),qt(window,"touchcancel",e[23]),qt(u,"mousedown",e[21]),qt(u,"mousedown",e[22]),qt(u,"touchstart",e[22],{passive:!0}),qt(u,"keydown",e[37]),qt(x,"change",e[38]),qt(n,"click",e[31]),qt(n,"mouseover",e[32]),qt(n,"mouseenter",e[33]),qt(n,"mouseleave",e[34])],R=!0)},p(W,et){G?G.p&&(!N||et[0]&536870912)&&bn(G,F,W,W[29],N?_n(F,W[29],et,Bm):xn(W[29]),ef):L&&L.p&&(!N||et[0]&32768)&&L.p(W,N?et:[-1,-1]),(!N||et[0]&8192)&&ft(t,"for",W[13]),(!N||et[0]&1048576)&&ft(t,"id",W[20]),et[0]&1024&&kt(t,"bx--label--disabled",W[10]),(!N||et[0]&48)&&o!==(o=(W[5]||W[4])+"")&&Fi(s,o),(!N||et[0]&524288)&&xi(c,"left",W[19]+"%"),(!N||et[0]&4)&&ft(c,"aria-valuemax",W[2]),(!N||et[0]&16)&&ft(c,"aria-valuemin",W[4]),(!N||et[0]&1)&&ft(c,"aria-valuenow",W[0]),(!N||et[0]&8192)&&ft(c,"id",W[13]),(!N||et[0]&524288)&&xi(d,"transform","translate(0, -50%) scaleX("+W[19]/100+")"),(!N||et[0]&65536)&&ft(v,"name",W[16]),(!N||et[0]&1)&&(v.value=W[0]),(!N||et[0]&256)&&(v.required=W[8]),(!N||et[0]&16)&&ft(v,"min",W[4]),(!N||et[0]&4)&&ft(v,"max",W[2]),(!N||et[0]&64)&&ft(v,"step",W[6]),et[0]&1024&&kt(u,"bx--slider--disabled",W[10]),(!N||et[0]&12)&&y!==(y=(W[3]||W[2])+"")&&Fi(w,y),(!N||et[0]&4608&&M!==(M=W[12]?"hidden":W[9]))&&ft(x,"type",M),(!N||et[0]&4096&&S!==(S=W[12]?"display: none":void 0))&&ft(x,"style",S),(!N||et[0]&8192&&A!==(A="input-"+W[13]))&&ft(x,"id",A),(!N||et[0]&65536)&&ft(x,"name",W[16]),(!N||et[0]&1&&x.value!==W[0])&&(x.value=W[0]),(!N||et[0]&68157440&&k!==(k=W[26]["aria-label"]?void 0:W[20]))&&ft(x,"aria-labelledby",k),(!N||et[0]&67108864&&E!==(E=W[26]["aria-label"]||"Slider number input"))&&ft(x,"aria-label",E),(!N||et[0]&1024)&&(x.disabled=W[10]),(!N||et[0]&256)&&(x.required=W[8]),(!N||et[0]&16)&&ft(x,"min",W[4]),(!N||et[0]&4)&&ft(x,"max",W[2]),(!N||et[0]&64)&&ft(x,"step",W[6]),(!N||et[0]&16384&&P!==(P=W[14]||null))&&ft(x,"data-invalid",P),(!N||et[0]&16384&&B!==(B=W[14]||null))&&ft(x,"aria-invalid",B),et[0]&2048&&kt(x,"bx--text-input--light",W[11]),et[0]&16384&&kt(x,"bx--text-input--invalid",W[14]),se(n,$=Je(z,[et[0]&33554432&&W[25]])),kt(n,"bx--form-item",!0)},i(W){N||(yt(L,W),N=!0)},o(W){bt(L,W),N=!1},d(W){W&&vt(n),L&&L.d(W),e[35](null),e[36](null),R=!1,$n(I)}}}function Hm(e,n,t){let r,i,a;const o=["value","max","maxLabel","min","minLabel","step","stepMultiplier","required","inputType","disabled","light","hideTextInput","id","invalid","labelText","name","ref"];let s=te(n,o),{$$slots:l={},$$scope:u}=n,{value:c=0}=n,{max:h=100}=n,{maxLabel:f=""}=n,{min:p=0}=n,{minLabel:d=""}=n,{step:g=1}=n,{stepMultiplier:v=4}=n,{required:b=!1}=n,{inputType:m="number"}=n,{disabled:y=!1}=n,{light:w=!1}=n,{hideTextInput:O=!1}=n,{id:x="ccs-"+Math.random().toString(36)}=n,{invalid:M=!1}=n,{labelText:S=""}=n,{name:A=""}=n,{ref:k=null}=n;const E=Ld();let P=null,B=!1,N=!1;function R(){t(27,B=!0)}function I(){t(28,N=!0)}function F(){t(28,N=!1),t(27,B=!1)}function G(){N&&R()}function L(Z){if(y)return;const tt=Z.touches?Z.touches[0].clientX:Z.clientX,{left:at,width:pt}=P.getBoundingClientRect();let X=p+Math.round((h-p)*((tt-at)/pt)/g)*g;X<=p?X=p:X>=h&&(X=h),t(0,c=X)}function z(Z){ne.call(this,e,Z)}function $(Z){ne.call(this,e,Z)}function W(Z){ne.call(this,e,Z)}function et(Z){ne.call(this,e,Z)}function ut(Z){be[Z?"unshift":"push"](()=>{P=Z,t(18,P)})}function nt(Z){be[Z?"unshift":"push"](()=>{k=Z,t(1,k)})}const ot=({shiftKey:Z,key:tt})=>{const at={ArrowDown:-1,ArrowLeft:-1,ArrowRight:1,ArrowUp:1};at[tt]&&t(0,c+=g*(Z?i/g/v:1)*at[tt])},it=({target:Z})=>{t(0,c=Number(Z.value))};return e.$$set=Z=>{t(26,n=At(At({},n),$e(Z))),t(25,s=te(n,o)),"value"in Z&&t(0,c=Z.value),"max"in Z&&t(2,h=Z.max),"maxLabel"in Z&&t(3,f=Z.maxLabel),"min"in Z&&t(4,p=Z.min),"minLabel"in Z&&t(5,d=Z.minLabel),"step"in Z&&t(6,g=Z.step),"stepMultiplier"in Z&&t(7,v=Z.stepMultiplier),"required"in Z&&t(8,b=Z.required),"inputType"in Z&&t(9,m=Z.inputType),"disabled"in Z&&t(10,y=Z.disabled),"light"in Z&&t(11,w=Z.light),"hideTextInput"in Z&&t(12,O=Z.hideTextInput),"id"in Z&&t(13,x=Z.id),"invalid"in Z&&t(14,M=Z.invalid),"labelText"in Z&&t(15,S=Z.labelText),"name"in Z&&t(16,A=Z.name),"ref"in Z&&t(1,k=Z.ref),"$$scope"in Z&&t(29,u=Z.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&8192&&t(20,r=`label-${x}`),e.$$.dirty[0]&20&&t(17,i=h-p),e.$$.dirty[0]&402654229&&(c<=p?t(0,c=p):c>=h&&t(0,c=h),B&&(L(event),t(27,B=!1)),!N&&!y&&E("change",c)),e.$$.dirty[0]&131089&&t(19,a=(c-p)/i*100)},n=$e(n),[c,k,h,f,p,d,g,v,b,m,y,w,O,x,M,S,A,i,P,a,r,R,I,F,G,s,n,B,N,u,l,z,$,W,et,ut,nt,ot,it]}class kr extends Ee{constructor(n){super();Te(this,n,Hm,Um,we,{value:0,max:2,maxLabel:3,min:4,minLabel:5,step:6,stepMultiplier:7,required:8,inputType:9,disabled:10,light:11,hideTextInput:12,id:13,invalid:14,labelText:15,name:16,ref:1},null,[-1,-1])}}function Vm(e){let n,t;const r=e[3].default,i=yn(r,e,e[2],null);let a=[{id:e[0]},e[1]],o={};for(let s=0;s<a.length;s+=1)o=At(o,a[s]);return{c(){n=Dt("main"),i&&i.c(),se(n,o),kt(n,"bx--content",!0)},m(s,l){mt(s,n,l),i&&i.m(n,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&4)&&bn(i,r,s,s[2],t?_n(r,s[2],l,null):xn(s[2]),null),se(n,o=Je(a,[(!t||l&1)&&{id:s[0]},l&2&&s[1]])),kt(n,"bx--content",!0)},i(s){t||(yt(i,s),t=!0)},o(s){bt(i,s),t=!1},d(s){s&&vt(n),i&&i.d(s)}}}function Gm(e,n,t){const r=["id"];let i=te(n,r),{$$slots:a={},$$scope:o}=n,{id:s="main-content"}=n;return e.$$set=l=>{n=At(At({},n),$e(l)),t(1,i=te(n,r)),"id"in l&&t(0,s=l.id),"$$scope"in l&&t(2,o=l.$$scope)},[s,i,o,a]}class zm extends Ee{constructor(n){super();Te(this,n,Gm,Vm,we,{id:0})}}var _t;(function(e){e.GRAPHICS_DOCUMENT="graphics-document",e.GRAPHICS_OBJECT="graphics-object",e.GRAPHICS_SYMBOL="graphics-symbol",e.GROUP="group",e.DOCUMENT="document",e.CHECKBOX="checkbox",e.BUTTON="button",e.MENU="menu",e.MENU_ITEM="menuitem",e.IMG="img"})(_t||(_t={}));var fl;(function(e){e.RENDER_FINISHED="render-finished",e.RESIZE="chart-resize",e.MOUSEOVER="chart-mouseover",e.MOUSEOUT="chart-mouseout"})(fl||(fl={}));var hl;(function(e){e.SHOW="show-modal",e.HIDE="hide-modal"})(hl||(hl={}));var dl;(function(e){e.UPDATE="model-update"})(dl||(dl={}));var pl;(function(e){e.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",e.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",e.BUTTON_CLICK="toolbar-button-click"})(pl||(pl={}));var gl;(function(e){e.UPDATE="zoom-bar-update",e.SELECTION_START="zoom-bar-selection-start",e.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",e.SELECTION_END="zoom-bar-selection-end"})(gl||(gl={}));var vl;(function(e){e.CHANGE="zoom-domain-change"})(vl||(vl={}));var ml;(function(e){e.CANVAS_ZOOM_IN="canvas-zoom-in",e.CANVAS_ZOOM_OUT="canvas-zoom-out"})(ml||(ml={}));var yl;(function(e){e.LABEL_MOUSEOVER="axis-label-mouseover",e.LABEL_MOUSEMOVE="axis-label-mousemove",e.LABEL_CLICK="axis-label-click",e.LABEL_MOUSEOUT="axis-label-mouseout",e.LABEL_FOCUS="axis-label-focus",e.LABEL_BLUR="axis-label-blur",e.RENDER_COMPLETE="axis-render-complete"})(yl||(yl={}));var _l;(function(e){e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout"})(_l||(_l={}));var bl;(function(e){e.WORD_MOUSEOVER="wordcloud-word-mouseover",e.WORD_MOUSEMOVE="wordcloud-word-mousemove",e.WORD_CLICK="wordcloud-word-click",e.WORD_MOUSEOUT="wordcloud-word-mouseout"})(bl||(bl={}));var xl;(function(e){e.SLICE_MOUSEOVER="pie-slice-mouseover",e.SLICE_MOUSEMOVE="pie-slice-mousemove",e.SLICE_CLICK="pie-slice-click",e.SLICE_MOUSEOUT="pie-slice-mouseout"})(xl||(xl={}));var Ol;(function(e){e.ARC_MOUSEOVER="gauge-arc-mouseover",e.ARC_MOUSEMOVE="gauge-arc-mousemove",e.ARC_CLICK="gauge-arc-click",e.ARC_MOUSEOUT="gauge-arc-mouseout"})(Ol||(Ol={}));var wl;(function(e){e.BAR_MOUSEOVER="bar-mouseover",e.BAR_MOUSEMOVE="bar-mousemove",e.BAR_CLICK="bar-click",e.BAR_MOUSEOUT="bar-mouseout"})(wl||(wl={}));var Tl;(function(e){e.BOX_MOUSEOVER="box-mouseover",e.BOX_MOUSEMOVE="box-mousemove",e.BOX_CLICK="box-click",e.BOX_MOUSEOUT="box-mouseout",e.OUTLIER_MOUSEOVER="outlier-mouseover",e.OUTLIER_MOUSEMOVE="outlier-mousemove",e.OUTLIER_CLICK="outlier-click",e.OUTLIER_MOUSEOUT="outlier-mouseout"})(Tl||(Tl={}));var El;(function(e){e.SCATTER_MOUSEOVER="scatter-mouseover",e.SCATTER_MOUSEMOVE="scatter-mousemove",e.SCATTER_CLICK="scatter-click",e.SCATTER_MOUSEOUT="scatter-mouseout"})(El||(El={}));var Sl;(function(e){e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout"})(Sl||(Sl={}));var Ml;(function(e){e.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",e.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",e.X_AXIS_CLICK="radar-x-axis-click",e.X_AXIS_MOUSEOUT="radar-x-axis-mouseout"})(Ml||(Ml={}));var Cl;(function(e){e.NODE_MOUSEOVER="tree-node-mouseover",e.NODE_CLICK="tree-node-click",e.NODE_MOUSEOUT="tree-node-mouseout"})(Cl||(Cl={}));var Al;(function(e){e.LEAF_MOUSEOVER="leaf-mouseover",e.LEAF_MOUSEMOVE="leaf-mousemove",e.LEAF_CLICK="leaf-click",e.LEAF_MOUSEOUT="leaf-mouseout"})(Al||(Al={}));var Dl;(function(e){e.SHOW="show-tooltip",e.MOVE="move-tooltip",e.HIDE="hide-tooltip"})(Dl||(Dl={}));var Pl;(function(e){e.SHOW="show-threshold",e.HIDE="hide-threshold"})(Pl||(Pl={}));var Ll;(function(e){e.ITEM_HOVER="legend-item-onhover",e.ITEM_CLICK="legend-item-onclick",e.ITEM_MOUSEOUT="legend-item-onmouseout",e.ITEMS_UPDATE="legend-items-update"})(Ll||(Ll={}));var kl;(function(e){e.CIRCLE_MOUSEOVER="circle-leaf-mouseover",e.CIRCLE_CLICK="circle-leaf-click",e.CIRCLE_MOUSEOUT="circle-leaf-mouseout",e.CIRCLE_MOUSEMOVE="circle-leaf-mousemove"})(kl||(kl={}));var Rl;(function(e){e.NODE_MOUSEOVER="alluvial-node-mouseover",e.NODE_CLICK="alluvial-node-click",e.NODE_MOUSEOUT="alluvial-node-mouseout",e.NODE_MOUSEMOVE="alluvial-node-mousemove",e.LINE_MOUSEOVER="alluvial-line-mouseover",e.LINE_CLICK="alluvial-line-click",e.LINE_MOUSEOUT="alluvial-line-mouseout",e.LINE_MOUSEMOVE="alluvial-line-mousemove"})(Rl||(Rl={}));var Il;(function(e){e.METER_MOUSEOVER="meter-mouseover",e.METER_CLICK="meter-click",e.METER_MOUSEOUT="meter-mouseout",e.METER_MOUSEMOVE="meter-mousemove"})(Il||(Il={}));var Nl;(function(e){e.HEATMAP_MOUSEOVER="heatmap-mouseover",e.HEATMAP_CLICK="heatmap-click",e.HEATMAP_MOUSEOUT="heatmap-mouseout",e.HEATMAP_MOUSEMOVE="hetmap-mousemove"})(Nl||(Nl={}));var jm=Object.freeze(Object.defineProperty({__proto__:null,get Chart(){return fl},get Modal(){return hl},get Model(){return dl},get Toolbar(){return pl},get ZoomBar(){return gl},get ZoomDomain(){return vl},get CanvasZoom(){return ml},get Axis(){return yl},get Area(){return _l},get WordCloud(){return bl},get Pie(){return xl},get Gauge(){return Ol},get Bar(){return wl},get Boxplot(){return Tl},get Scatter(){return El},get Line(){return Sl},get Radar(){return Ml},get Tree(){return Cl},get Treemap(){return Al},get Tooltip(){return Dl},get Threshold(){return Pl},get Legend(){return Ll},get CirclePack(){return kl},get Alluvial(){return Rl},get Meter(){return Il},get Heatmap(){return Nl}},Symbol.toStringTag,{value:"Module"})),C=jm,ht;(function(e){e.HTML="html",e.SVG="svg"})(ht||(ht={}));var nf;(function(e){e.DEFAULT="default",e.G100="g100",e.G90="g90",e.G10="g10"})(nf||(nf={}));var dt;(function(e){e.BACKGROUND="background",e.FILL="fill",e.STROKE="stroke",e.TOOLTIP="tooltip"})(dt||(dt={}));var K;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(K||(K={}));var Xe;(function(e){e.GRAPH_VIEW="graph_view",e.SLIDER_VIEW="slider_view"})(Xe||(Xe={}));var Pn;(function(e){e.END_LINE="end_line",e.MID_LINE="mid_line",e.FRONT_LINE="front_line",e.NONE="none"})(Pn||(Pn={}));var ae;(function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"})(ae||(ae={}));var st;(function(e){e.TIME="time",e.LINEAR="linear",e.LOG="log",e.LABELS="labels",e.LABELS_RATIO="labels-ratio"})(st||(st={}));var Vr;(function(e){e.RIGHT="right",e.LEFT="left",e.TOP="top",e.BOTTOM="bottom"})(Vr||(Vr={}));var de;(function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"})(de||(de={}));var Yr;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Yr||(Yr={}));var lo;(function(e){e.TREE="tree",e.DENDROGRAM="dendrogram"})(lo||(lo={}));var Xt;(function(e){e.ROW="row",e.COLUMN="column",e.ROW_REVERSE="row-reverse",e.COLUMN_REVERSE="column-reverse"})(Xt||(Xt={}));var Et;(function(e){e.FIXED="fixed",e.PREFERRED="preferred",e.STRETCH="stretch"})(Et||(Et={}));var qr;(function(e){e.CENTER="center"})(qr||(qr={}));var Li;(function(e){e.LEFT="left",e.RIGHT="right"})(Li||(Li={}));var re;(function(e){e.GRID="grid",e.VERT_OR_HORIZ="vertOrHoriz",e.PIE="pie",e.DONUT="donut"})(re||(re={}));var on;(function(e){e.START="start",e.MIDDLE="middle",e.END="end"})(on||(on={}));var sn;(function(e){e.BASELINE="baseline",e.MIDDLE="middle",e.HANGING="hanging"})(sn||(sn={}));var or;(function(e){e.SEMI="semi",e.FULL="full"})(or||(or={}));var uo;(function(e){e.UP="up",e.DOWN="down"})(uo||(uo={}));var ki;(function(e){e.SUCCESS="success",e.WARNING="warning",e.DANGER="danger"})(ki||(ki={}));var Ri;(function(e){e.ALWAYS="always",e.AUTO="auto",e.NEVER="never"})(Ri||(Ri={}));var Ie;(function(e){e.SCATTER="scatter",e.LINE="line",e.SIMPLE_BAR="simple-bar",e.STACKED_BAR="stacked-bar",e.GROUPED_BAR="grouped-bar",e.AREA="area",e.STACKED_AREA="stacked-area"})(Ie||(Ie={}));var Yt;(function(e){e.EXPORT_CSV="Export as CSV",e.EXPORT_PNG="Export as PNG",e.EXPORT_JPG="Export as JPG",e.ZOOM_IN="Zoom in",e.ZOOM_OUT="Zoom out",e.RESET_ZOOM="Reset zoom",e.MAKE_FULLSCREEN="Make fullscreen",e.SHOW_AS_DATATABLE="Show as data-table",e.CUSTOM="Custom"})(Yt||(Yt={}));var co;(function(e){e.LEFT="left",e.RIGHT="right"})(co||(co={}));var ee;(function(e){e.CHECKBOX="checkbox",e.RADIUS="radius",e.AREA="area",e.SIZE="size",e.LINE="line",e.QUARTILE="quartile",e.ZOOM="zoom"})(ee||(ee={}));var Ii;(function(e){e.LINEAR="linear",e.QUANTIZE="quantize"})(Ii||(Ii={}));var Gr;(function(e){e.ON="on",e.AUTO="auto",e.OFF="off"})(Gr||(Gr={}));var Vi;(function(e){e.DEFAULT="default",e.HOVERABLE="hoverable"})(Vi||(Vi={}));const Wm=e=>+e;function Bd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ea,un={opacity:{unselected:.05,selected:.4}},Cn={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1,hover:{rectanglePadding:4}},zr={duration:1e3,ease:Bd,zoomLevel:3},rr={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},hierarchyLevel:2},Xu={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}},Re={circle:{radius:4,opacity:{hovered:1,default:.3}},box:{opacity:{hovered:.5,default:.3}},strokeWidth:{default:1,thicker:2}},Fd={defaultBins:10},Qt={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"},color:{barWidth:300,barHeight:8,axisYTranslation:10}},ln={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}},oe={statusBar:{paddingRight:5},status:{indicatorSize:16,paddingLeft:15},total:{paddingLeft:36,paddingRight:24},height:{default:8,proportional:16},dividerWidth:2},Ut={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}},zn={opacity:{unselected:.1,selected:.3},xLabelPadding:10,yLabelPadding:8,yTicksNumber:4,minRange:10,xAxisRectHeight:50,dotsRadius:5},ze={nodeWidth:4,nodeHoveredWidth:8,minNodePadding:24,opacity:{unfocus:.3,default:.8,selected:1}},Bl={minCellDividerDimension:16,chartPadding:.5},Fl={default:{size:24}},Ud={horizontalOffset:10},Ul={default:{duration:300},pie_slice_mouseover:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}},$m={buttonSize:32,iconSize:20,height:32,spacerHeight:10,iconPadding:6},Me={height:(Ea={},Ea[Xe.GRAPH_VIEW]=32,Ea[Xe.SLIDER_VIEW]=10,Ea),spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},Hd=[{type:ee.RADIUS,name:"Radius"},{type:ee.AREA,name:"Poor area"},{type:ee.AREA,name:"Satisfactory area"},{type:ee.AREA,name:"Great area"},{type:ee.QUARTILE,name:"Quartiles"}],Ym=typeof global=="object"&&global&&global.Object===Object&&global,Vd=Ym,qm=typeof self=="object"&&self&&self.Object===Object&&self,Xm=Vd||qm||Function("return this")(),tn=Xm,Zm=tn.Symbol,Ye=Zm,Gd=Object.prototype,Km=Gd.hasOwnProperty,Qm=Gd.toString,hi=Ye?Ye.toStringTag:void 0;function Jm(e){var n=Km.call(e,hi),t=e[hi];try{e[hi]=void 0;var r=!0}catch{}var i=Qm.call(e);return r&&(n?e[hi]=t:delete e[hi]),i}var ty=Object.prototype,ey=ty.toString;function ny(e){return ey.call(e)}var ry="[object Null]",iy="[object Undefined]",rf=Ye?Ye.toStringTag:void 0;function yr(e){return e==null?e===void 0?iy:ry:rf&&rf in Object(e)?Jm(e):ny(e)}function vn(e){return e!=null&&typeof e=="object"}var ay="[object Symbol]";function Go(e){return typeof e=="symbol"||vn(e)&&yr(e)==ay}function zd(e,n){for(var t=-1,r=e==null?0:e.length,i=Array(r);++t<r;)i[t]=n(e[t],t,e);return i}var oy=Array.isArray,pe=oy,sy=1/0,af=Ye?Ye.prototype:void 0,of=af?af.toString:void 0;function jd(e){if(typeof e=="string")return e;if(pe(e))return zd(e,jd)+"";if(Go(e))return of?of.call(e):"";var n=e+"";return n=="0"&&1/e==-sy?"-0":n}var ly=/\s/;function uy(e){for(var n=e.length;n--&&ly.test(e.charAt(n)););return n}var cy=/^\s+/;function fy(e){return e&&e.slice(0,uy(e)+1).replace(cy,"")}function qe(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var sf=0/0,hy=/^[-+]0x[0-9a-f]+$/i,dy=/^0b[01]+$/i,py=/^0o[0-7]+$/i,gy=parseInt;function Ni(e){if(typeof e=="number")return e;if(Go(e))return sf;if(qe(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=qe(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=fy(e);var t=dy.test(e);return t||py.test(e)?gy(e.slice(2),t?2:8):hy.test(e)?sf:+e}function Zu(e){return e}var vy="[object AsyncFunction]",my="[object Function]",yy="[object GeneratorFunction]",_y="[object Proxy]";function Ku(e){if(!qe(e))return!1;var n=yr(e);return n==my||n==yy||n==vy||n==_y}var by=tn["__core-js_shared__"],Es=by,lf=function(){var e=/[^.]+$/.exec(Es&&Es.keys&&Es.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xy(e){return!!lf&&lf in e}var Oy=Function.prototype,wy=Oy.toString;function _r(e){if(e!=null){try{return wy.call(e)}catch{}try{return e+""}catch{}}return""}var Ty=/[\\^$.*+?()[\]{}|]/g,Ey=/^\[object .+?Constructor\]$/,Sy=Function.prototype,My=Object.prototype,Cy=Sy.toString,Ay=My.hasOwnProperty,Dy=RegExp("^"+Cy.call(Ay).replace(Ty,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Py(e){if(!qe(e)||xy(e))return!1;var n=Ku(e)?Dy:Ey;return n.test(_r(e))}function Ly(e,n){return e==null?void 0:e[n]}function br(e,n){var t=Ly(e,n);return Py(t)?t:void 0}var ky=br(tn,"WeakMap"),Hl=ky,uf=Object.create,Ry=function(){function e(){}return function(n){if(!qe(n))return{};if(uf)return uf(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}(),Iy=Ry;function Ny(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function By(){}function Wd(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var Fy=800,Uy=16,Hy=Date.now;function Vy(e){var n=0,t=0;return function(){var r=Hy(),i=Uy-(r-t);if(t=r,i>0){if(++n>=Fy)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function Gy(e){return function(){return e}}var zy=function(){try{var e=br(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fo=zy,jy=fo?function(e,n){return fo(e,"toString",{configurable:!0,enumerable:!1,value:Gy(n),writable:!0})}:Zu,Wy=jy,$y=Vy(Wy),Yy=$y;function qy(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}function Xy(e,n,t,r){for(var i=e.length,a=t+(r?1:-1);r?a--:++a<i;)if(n(e[a],a,e))return a;return-1}function Zy(e){return e!==e}function Ky(e,n,t){for(var r=t-1,i=e.length;++r<i;)if(e[r]===n)return r;return-1}function Qy(e,n,t){return n===n?Ky(e,n,t):Xy(e,Zy,t)}function Jy(e,n){var t=e==null?0:e.length;return!!t&&Qy(e,n,0)>-1}var t0=9007199254740991,e0=/^(?:0|[1-9]\d*)$/;function Qu(e,n){var t=typeof e;return n=n==null?t0:n,!!n&&(t=="number"||t!="symbol"&&e0.test(e))&&e>-1&&e%1==0&&e<n}function zo(e,n,t){n=="__proto__"&&fo?fo(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function na(e,n){return e===n||e!==e&&n!==n}var n0=Object.prototype,r0=n0.hasOwnProperty;function $d(e,n,t){var r=e[n];(!(r0.call(e,n)&&na(r,t))||t===void 0&&!(n in e))&&zo(e,n,t)}function ra(e,n,t,r){var i=!t;t||(t={});for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r?r(t[s],e[s],s,t,e):void 0;l===void 0&&(l=e[s]),i?zo(t,s,l):$d(t,s,l)}return t}var cf=Math.max;function i0(e,n,t){return n=cf(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=cf(r.length-n,0),o=Array(a);++i<a;)o[i]=r[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=r[i];return s[n]=t(o),Ny(e,this,s)}}function Yd(e,n){return Yy(i0(e,n,Zu),e+"")}var a0=9007199254740991;function Ju(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=a0}function xr(e){return e!=null&&Ju(e.length)&&!Ku(e)}function qd(e,n,t){if(!qe(t))return!1;var r=typeof n;return(r=="number"?xr(t)&&Qu(n,t.length):r=="string"&&n in t)?na(t[n],e):!1}function o0(e){return Yd(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&qd(t[0],t[1],o)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var s=t[r];s&&e(n,s,r,a)}return n})}var s0=Object.prototype;function jo(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||s0;return e===t}function l0(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var u0="[object Arguments]";function ff(e){return vn(e)&&yr(e)==u0}var Xd=Object.prototype,c0=Xd.hasOwnProperty,f0=Xd.propertyIsEnumerable,h0=ff(function(){return arguments}())?ff:function(e){return vn(e)&&c0.call(e,"callee")&&!f0.call(e,"callee")},Xr=h0;function d0(){return!1}var Zd=typeof Be=="object"&&Be&&!Be.nodeType&&Be,hf=Zd&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,p0=hf&&hf.exports===Zd,df=p0?tn.Buffer:void 0,g0=df?df.isBuffer:void 0,v0=g0||d0,Zr=v0,m0="[object Arguments]",y0="[object Array]",_0="[object Boolean]",b0="[object Date]",x0="[object Error]",O0="[object Function]",w0="[object Map]",T0="[object Number]",E0="[object Object]",S0="[object RegExp]",M0="[object Set]",C0="[object String]",A0="[object WeakMap]",D0="[object ArrayBuffer]",P0="[object DataView]",L0="[object Float32Array]",k0="[object Float64Array]",R0="[object Int8Array]",I0="[object Int16Array]",N0="[object Int32Array]",B0="[object Uint8Array]",F0="[object Uint8ClampedArray]",U0="[object Uint16Array]",H0="[object Uint32Array]",$t={};$t[L0]=$t[k0]=$t[R0]=$t[I0]=$t[N0]=$t[B0]=$t[F0]=$t[U0]=$t[H0]=!0;$t[m0]=$t[y0]=$t[D0]=$t[_0]=$t[P0]=$t[b0]=$t[x0]=$t[O0]=$t[w0]=$t[T0]=$t[E0]=$t[S0]=$t[M0]=$t[C0]=$t[A0]=!1;function V0(e){return vn(e)&&Ju(e.length)&&!!$t[yr(e)]}function tc(e){return function(n){return e(n)}}var Kd=typeof Be=="object"&&Be&&!Be.nodeType&&Be,Bi=Kd&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,G0=Bi&&Bi.exports===Kd,Ss=G0&&Vd.process,z0=function(){try{var e=Bi&&Bi.require&&Bi.require("util").types;return e||Ss&&Ss.binding&&Ss.binding("util")}catch{}}(),Kr=z0,pf=Kr&&Kr.isTypedArray,j0=pf?tc(pf):V0,Wo=j0,W0=Object.prototype,$0=W0.hasOwnProperty;function Qd(e,n){var t=pe(e),r=!t&&Xr(e),i=!t&&!r&&Zr(e),a=!t&&!r&&!i&&Wo(e),o=t||r||i||a,s=o?l0(e.length,String):[],l=s.length;for(var u in e)(n||$0.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Qu(u,l)))&&s.push(u);return s}function Jd(e,n){return function(t){return e(n(t))}}var Y0=Jd(Object.keys,Object),q0=Y0,X0=Object.prototype,Z0=X0.hasOwnProperty;function tp(e){if(!jo(e))return q0(e);var n=[];for(var t in Object(e))Z0.call(e,t)&&t!="constructor"&&n.push(t);return n}function ia(e){return xr(e)?Qd(e):tp(e)}function K0(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var Q0=Object.prototype,J0=Q0.hasOwnProperty;function t_(e){if(!qe(e))return K0(e);var n=jo(e),t=[];for(var r in e)r=="constructor"&&(n||!J0.call(e,r))||t.push(r);return t}function aa(e){return xr(e)?Qd(e,!0):t_(e)}var e_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n_=/^\w*$/;function ec(e,n){if(pe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Go(e)?!0:n_.test(e)||!e_.test(e)||n!=null&&e in Object(n)}var r_=br(Object,"create"),Gi=r_;function i_(){this.__data__=Gi?Gi(null):{},this.size=0}function a_(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var o_="__lodash_hash_undefined__",s_=Object.prototype,l_=s_.hasOwnProperty;function u_(e){var n=this.__data__;if(Gi){var t=n[e];return t===o_?void 0:t}return l_.call(n,e)?n[e]:void 0}var c_=Object.prototype,f_=c_.hasOwnProperty;function h_(e){var n=this.__data__;return Gi?n[e]!==void 0:f_.call(n,e)}var d_="__lodash_hash_undefined__";function p_(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Gi&&n===void 0?d_:n,this}function cr(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}cr.prototype.clear=i_;cr.prototype.delete=a_;cr.prototype.get=u_;cr.prototype.has=h_;cr.prototype.set=p_;function g_(){this.__data__=[],this.size=0}function $o(e,n){for(var t=e.length;t--;)if(na(e[t][0],n))return t;return-1}var v_=Array.prototype,m_=v_.splice;function y_(e){var n=this.__data__,t=$o(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():m_.call(n,t,1),--this.size,!0}function __(e){var n=this.__data__,t=$o(n,e);return t<0?void 0:n[t][1]}function b_(e){return $o(this.__data__,e)>-1}function x_(e,n){var t=this.__data__,r=$o(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Rn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Rn.prototype.clear=g_;Rn.prototype.delete=y_;Rn.prototype.get=__;Rn.prototype.has=b_;Rn.prototype.set=x_;var O_=br(tn,"Map"),zi=O_;function w_(){this.size=0,this.__data__={hash:new cr,map:new(zi||Rn),string:new cr}}function T_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Yo(e,n){var t=e.__data__;return T_(n)?t[typeof n=="string"?"string":"hash"]:t.map}function E_(e){var n=Yo(this,e).delete(e);return this.size-=n?1:0,n}function S_(e){return Yo(this,e).get(e)}function M_(e){return Yo(this,e).has(e)}function C_(e,n){var t=Yo(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function In(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}In.prototype.clear=w_;In.prototype.delete=E_;In.prototype.get=S_;In.prototype.has=M_;In.prototype.set=C_;var A_="Expected a function";function nc(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(A_);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return t.cache=a.set(i,o)||a,o};return t.cache=new(nc.Cache||In),t}nc.Cache=In;var D_=500;function P_(e){var n=nc(e,function(r){return t.size===D_&&t.clear(),r}),t=n.cache;return n}var L_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k_=/\\(\\)?/g,R_=P_(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(L_,function(t,r,i,a){n.push(i?a.replace(k_,"$1"):r||t)}),n}),I_=R_;function oa(e){return e==null?"":jd(e)}function ep(e,n){return pe(e)?e:ec(e,n)?[e]:I_(oa(e))}var N_=1/0;function qo(e){if(typeof e=="string"||Go(e))return e;var n=e+"";return n=="0"&&1/e==-N_?"-0":n}function np(e,n){n=ep(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[qo(n[t++])];return t&&t==r?e:void 0}function zt(e,n,t){var r=e==null?void 0:np(e,n);return r===void 0?t:r}function rc(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var gf=Ye?Ye.isConcatSpreadable:void 0;function B_(e){return pe(e)||Xr(e)||!!(gf&&e&&e[gf])}function Xo(e,n,t,r,i){var a=-1,o=e.length;for(t||(t=B_),i||(i=[]);++a<o;){var s=e[a];n>0&&t(s)?n>1?Xo(s,n-1,t,r,i):rc(i,s):r||(i[i.length]=s)}return i}function F_(e){var n=e==null?0:e.length;return n?Xo(e,1):[]}var U_=Jd(Object.getPrototypeOf,Object),ic=U_,H_="[object Object]",V_=Function.prototype,G_=Object.prototype,rp=V_.toString,z_=G_.hasOwnProperty,j_=rp.call(Object);function W_(e){if(!vn(e)||yr(e)!=H_)return!1;var n=ic(e);if(n===null)return!0;var t=z_.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&rp.call(t)==j_}function $_(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+n];return a}function Y_(e,n,t){var r=e.length;return t=t===void 0?r:t,!n&&t>=r?e:$_(e,n,t)}var q_="\\ud800-\\udfff",X_="\\u0300-\\u036f",Z_="\\ufe20-\\ufe2f",K_="\\u20d0-\\u20ff",Q_=X_+Z_+K_,J_="\\ufe0e\\ufe0f",t1="\\u200d",e1=RegExp("["+t1+q_+Q_+J_+"]");function ip(e){return e1.test(e)}function n1(e){return e.split("")}var ap="\\ud800-\\udfff",r1="\\u0300-\\u036f",i1="\\ufe20-\\ufe2f",a1="\\u20d0-\\u20ff",o1=r1+i1+a1,s1="\\ufe0e\\ufe0f",l1="["+ap+"]",Vl="["+o1+"]",Gl="\\ud83c[\\udffb-\\udfff]",u1="(?:"+Vl+"|"+Gl+")",op="[^"+ap+"]",sp="(?:\\ud83c[\\udde6-\\uddff]){2}",lp="[\\ud800-\\udbff][\\udc00-\\udfff]",c1="\\u200d",up=u1+"?",cp="["+s1+"]?",f1="(?:"+c1+"(?:"+[op,sp,lp].join("|")+")"+cp+up+")*",h1=cp+up+f1,d1="(?:"+[op+Vl+"?",Vl,sp,lp,l1].join("|")+")",p1=RegExp(Gl+"(?="+Gl+")|"+d1+h1,"g");function g1(e){return e.match(p1)||[]}function v1(e){return ip(e)?g1(e):n1(e)}function m1(e){return function(n){n=oa(n);var t=ip(n)?v1(n):void 0,r=t?t[0]:n.charAt(0),i=t?Y_(t,1).join(""):n.slice(1);return r[e]()+i}}var y1=m1("toUpperCase"),_1=y1;function b1(e){return _1(oa(e).toLowerCase())}function x1(e,n,t,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(t=e[++i]);++i<a;)t=n(t,e[i],i,e);return t}function O1(e){return function(n){return e==null?void 0:e[n]}}var w1={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},T1=O1(w1),E1=T1,S1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,M1="\\u0300-\\u036f",C1="\\ufe20-\\ufe2f",A1="\\u20d0-\\u20ff",D1=M1+C1+A1,P1="["+D1+"]",L1=RegExp(P1,"g");function k1(e){return e=oa(e),e&&e.replace(S1,E1).replace(L1,"")}var R1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function I1(e){return e.match(R1)||[]}var N1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function B1(e){return N1.test(e)}var fp="\\ud800-\\udfff",F1="\\u0300-\\u036f",U1="\\ufe20-\\ufe2f",H1="\\u20d0-\\u20ff",V1=F1+U1+H1,hp="\\u2700-\\u27bf",dp="a-z\\xdf-\\xf6\\xf8-\\xff",G1="\\xac\\xb1\\xd7\\xf7",z1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",j1="\\u2000-\\u206f",W1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pp="A-Z\\xc0-\\xd6\\xd8-\\xde",$1="\\ufe0e\\ufe0f",gp=G1+z1+j1+W1,vp="['\u2019]",vf="["+gp+"]",Y1="["+V1+"]",mp="\\d+",q1="["+hp+"]",yp="["+dp+"]",_p="[^"+fp+gp+mp+hp+dp+pp+"]",X1="\\ud83c[\\udffb-\\udfff]",Z1="(?:"+Y1+"|"+X1+")",K1="[^"+fp+"]",bp="(?:\\ud83c[\\udde6-\\uddff]){2}",xp="[\\ud800-\\udbff][\\udc00-\\udfff]",Pr="["+pp+"]",Q1="\\u200d",mf="(?:"+yp+"|"+_p+")",J1="(?:"+Pr+"|"+_p+")",yf="(?:"+vp+"(?:d|ll|m|re|s|t|ve))?",_f="(?:"+vp+"(?:D|LL|M|RE|S|T|VE))?",Op=Z1+"?",wp="["+$1+"]?",tb="(?:"+Q1+"(?:"+[K1,bp,xp].join("|")+")"+wp+Op+")*",eb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rb=wp+Op+tb,ib="(?:"+[q1,bp,xp].join("|")+")"+rb,ab=RegExp([Pr+"?"+yp+"+"+yf+"(?="+[vf,Pr,"$"].join("|")+")",J1+"+"+_f+"(?="+[vf,Pr+mf,"$"].join("|")+")",Pr+"?"+mf+"+"+yf,Pr+"+"+_f,nb,eb,mp,ib].join("|"),"g");function ob(e){return e.match(ab)||[]}function sb(e,n,t){return e=oa(e),n=t?void 0:n,n===void 0?B1(e)?ob(e):I1(e):e.match(n)||[]}var lb="['\u2019]",ub=RegExp(lb,"g");function Tp(e){return function(n){return x1(sb(k1(n).replace(ub,"")),e,"")}}var cb=Tp(function(e,n,t){return n=n.toLowerCase(),e+(t?b1(n):n)}),fb=cb;function hb(e,n,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),n!==void 0&&(e=e>=n?e:n)),e}function db(e,n,t){return t===void 0&&(t=n,n=void 0),t!==void 0&&(t=Ni(t),t=t===t?t:0),n!==void 0&&(n=Ni(n),n=n===n?n:0),hb(Ni(e),n,t)}function pb(){this.__data__=new Rn,this.size=0}function gb(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function vb(e){return this.__data__.get(e)}function mb(e){return this.__data__.has(e)}var yb=200;function _b(e,n){var t=this.__data__;if(t instanceof Rn){var r=t.__data__;if(!zi||r.length<yb-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new In(r)}return t.set(e,n),this.size=t.size,this}function Ke(e){var n=this.__data__=new Rn(e);this.size=n.size}Ke.prototype.clear=pb;Ke.prototype.delete=gb;Ke.prototype.get=vb;Ke.prototype.has=mb;Ke.prototype.set=_b;function bb(e,n){return e&&ra(n,ia(n),e)}function xb(e,n){return e&&ra(n,aa(n),e)}var Ep=typeof Be=="object"&&Be&&!Be.nodeType&&Be,bf=Ep&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,Ob=bf&&bf.exports===Ep,xf=Ob?tn.Buffer:void 0,Of=xf?xf.allocUnsafe:void 0;function Sp(e,n){if(n)return e.slice();var t=e.length,r=Of?Of(t):new e.constructor(t);return e.copy(r),r}function wb(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var o=e[t];n(o,t,e)&&(a[i++]=o)}return a}function Mp(){return[]}var Tb=Object.prototype,Eb=Tb.propertyIsEnumerable,wf=Object.getOwnPropertySymbols,Sb=wf?function(e){return e==null?[]:(e=Object(e),wb(wf(e),function(n){return Eb.call(e,n)}))}:Mp,ac=Sb;function Mb(e,n){return ra(e,ac(e),n)}var Cb=Object.getOwnPropertySymbols,Ab=Cb?function(e){for(var n=[];e;)rc(n,ac(e)),e=ic(e);return n}:Mp,Cp=Ab;function Db(e,n){return ra(e,Cp(e),n)}function Ap(e,n,t){var r=n(e);return pe(e)?r:rc(r,t(e))}function zl(e){return Ap(e,ia,ac)}function Pb(e){return Ap(e,aa,Cp)}var Lb=br(tn,"DataView"),jl=Lb,kb=br(tn,"Promise"),Wl=kb,Rb=br(tn,"Set"),jr=Rb,Tf="[object Map]",Ib="[object Object]",Ef="[object Promise]",Sf="[object Set]",Mf="[object WeakMap]",Cf="[object DataView]",Nb=_r(jl),Bb=_r(zi),Fb=_r(Wl),Ub=_r(jr),Hb=_r(Hl),Jn=yr;(jl&&Jn(new jl(new ArrayBuffer(1)))!=Cf||zi&&Jn(new zi)!=Tf||Wl&&Jn(Wl.resolve())!=Ef||jr&&Jn(new jr)!=Sf||Hl&&Jn(new Hl)!=Mf)&&(Jn=function(e){var n=yr(e),t=n==Ib?e.constructor:void 0,r=t?_r(t):"";if(r)switch(r){case Nb:return Cf;case Bb:return Tf;case Fb:return Ef;case Ub:return Sf;case Hb:return Mf}return n});var Qr=Jn,Vb=Object.prototype,Gb=Vb.hasOwnProperty;function zb(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&Gb.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var jb=tn.Uint8Array,ho=jb;function oc(e){var n=new e.constructor(e.byteLength);return new ho(n).set(new ho(e)),n}function Wb(e,n){var t=n?oc(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var $b=/\w*$/;function Yb(e){var n=new e.constructor(e.source,$b.exec(e));return n.lastIndex=e.lastIndex,n}var Af=Ye?Ye.prototype:void 0,Df=Af?Af.valueOf:void 0;function qb(e){return Df?Object(Df.call(e)):{}}function Dp(e,n){var t=n?oc(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Xb="[object Boolean]",Zb="[object Date]",Kb="[object Map]",Qb="[object Number]",Jb="[object RegExp]",tx="[object Set]",ex="[object String]",nx="[object Symbol]",rx="[object ArrayBuffer]",ix="[object DataView]",ax="[object Float32Array]",ox="[object Float64Array]",sx="[object Int8Array]",lx="[object Int16Array]",ux="[object Int32Array]",cx="[object Uint8Array]",fx="[object Uint8ClampedArray]",hx="[object Uint16Array]",dx="[object Uint32Array]";function px(e,n,t){var r=e.constructor;switch(n){case rx:return oc(e);case Xb:case Zb:return new r(+e);case ix:return Wb(e,t);case ax:case ox:case sx:case lx:case ux:case cx:case fx:case hx:case dx:return Dp(e,t);case Kb:return new r;case Qb:case ex:return new r(e);case Jb:return Yb(e);case tx:return new r;case nx:return qb(e)}}function Pp(e){return typeof e.constructor=="function"&&!jo(e)?Iy(ic(e)):{}}var gx="[object Map]";function vx(e){return vn(e)&&Qr(e)==gx}var Pf=Kr&&Kr.isMap,mx=Pf?tc(Pf):vx,yx=mx,_x="[object Set]";function bx(e){return vn(e)&&Qr(e)==_x}var Lf=Kr&&Kr.isSet,xx=Lf?tc(Lf):bx,Ox=xx,wx=1,Tx=2,Ex=4,Lp="[object Arguments]",Sx="[object Array]",Mx="[object Boolean]",Cx="[object Date]",Ax="[object Error]",kp="[object Function]",Dx="[object GeneratorFunction]",Px="[object Map]",Lx="[object Number]",Rp="[object Object]",kx="[object RegExp]",Rx="[object Set]",Ix="[object String]",Nx="[object Symbol]",Bx="[object WeakMap]",Fx="[object ArrayBuffer]",Ux="[object DataView]",Hx="[object Float32Array]",Vx="[object Float64Array]",Gx="[object Int8Array]",zx="[object Int16Array]",jx="[object Int32Array]",Wx="[object Uint8Array]",$x="[object Uint8ClampedArray]",Yx="[object Uint16Array]",qx="[object Uint32Array]",Gt={};Gt[Lp]=Gt[Sx]=Gt[Fx]=Gt[Ux]=Gt[Mx]=Gt[Cx]=Gt[Hx]=Gt[Vx]=Gt[Gx]=Gt[zx]=Gt[jx]=Gt[Px]=Gt[Lx]=Gt[Rp]=Gt[kx]=Gt[Rx]=Gt[Ix]=Gt[Nx]=Gt[Wx]=Gt[$x]=Gt[Yx]=Gt[qx]=!0;Gt[Ax]=Gt[kp]=Gt[Bx]=!1;function Va(e,n,t,r,i,a){var o,s=n&wx,l=n&Tx,u=n&Ex;if(t&&(o=i?t(e,r,i,a):t(e)),o!==void 0)return o;if(!qe(e))return e;var c=pe(e);if(c){if(o=zb(e),!s)return Wd(e,o)}else{var h=Qr(e),f=h==kp||h==Dx;if(Zr(e))return Sp(e,s);if(h==Rp||h==Lp||f&&!i){if(o=l||f?{}:Pp(e),!s)return l?Db(e,xb(o,e)):Mb(e,bb(o,e))}else{if(!Gt[h])return i?e:{};o=px(e,h,s)}}a||(a=new Ke);var p=a.get(e);if(p)return p;a.set(e,o),Ox(e)?e.forEach(function(v){o.add(Va(v,n,t,v,e,a))}):yx(e)&&e.forEach(function(v,b){o.set(b,Va(v,n,t,b,e,a))});var d=u?l?Pb:zl:l?aa:ia,g=c?void 0:d(e);return qy(g||e,function(v,b){g&&(b=v,v=e[b]),$d(o,b,Va(v,n,t,b,e,a))}),o}var Xx=1,Zx=4;function Kx(e){return Va(e,Xx|Zx)}var Qx="__lodash_hash_undefined__";function Jx(e){return this.__data__.set(e,Qx),this}function tO(e){return this.__data__.has(e)}function ji(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new In;++n<t;)this.add(e[n])}ji.prototype.add=ji.prototype.push=Jx;ji.prototype.has=tO;function Ip(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function Np(e,n){return e.has(n)}var eO=1,nO=2;function Bp(e,n,t,r,i,a){var o=t&eO,s=e.length,l=n.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(n);if(u&&c)return u==n&&c==e;var h=-1,f=!0,p=t&nO?new ji:void 0;for(a.set(e,n),a.set(n,e);++h<s;){var d=e[h],g=n[h];if(r)var v=o?r(g,d,h,n,e,a):r(d,g,h,e,n,a);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!Ip(n,function(b,m){if(!Np(p,m)&&(d===b||i(d,b,t,r,a)))return p.push(m)})){f=!1;break}}else if(!(d===g||i(d,g,t,r,a))){f=!1;break}}return a.delete(e),a.delete(n),f}function rO(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function sc(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var iO=1,aO=2,oO="[object Boolean]",sO="[object Date]",lO="[object Error]",uO="[object Map]",cO="[object Number]",fO="[object RegExp]",hO="[object Set]",dO="[object String]",pO="[object Symbol]",gO="[object ArrayBuffer]",vO="[object DataView]",kf=Ye?Ye.prototype:void 0,Ms=kf?kf.valueOf:void 0;function mO(e,n,t,r,i,a,o){switch(t){case vO:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case gO:return!(e.byteLength!=n.byteLength||!a(new ho(e),new ho(n)));case oO:case sO:case cO:return na(+e,+n);case lO:return e.name==n.name&&e.message==n.message;case fO:case dO:return e==n+"";case uO:var s=rO;case hO:var l=r&iO;if(s||(s=sc),e.size!=n.size&&!l)return!1;var u=o.get(e);if(u)return u==n;r|=aO,o.set(e,n);var c=Bp(s(e),s(n),r,i,a,o);return o.delete(e),c;case pO:if(Ms)return Ms.call(e)==Ms.call(n)}return!1}var yO=1,_O=Object.prototype,bO=_O.hasOwnProperty;function xO(e,n,t,r,i,a){var o=t&yO,s=zl(e),l=s.length,u=zl(n),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var f=s[h];if(!(o?f in n:bO.call(n,f)))return!1}var p=a.get(e),d=a.get(n);if(p&&d)return p==n&&d==e;var g=!0;a.set(e,n),a.set(n,e);for(var v=o;++h<l;){f=s[h];var b=e[f],m=n[f];if(r)var y=o?r(m,b,f,n,e,a):r(b,m,f,e,n,a);if(!(y===void 0?b===m||i(b,m,t,r,a):y)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var w=e.constructor,O=n.constructor;w!=O&&"constructor"in e&&"constructor"in n&&!(typeof w=="function"&&w instanceof w&&typeof O=="function"&&O instanceof O)&&(g=!1)}return a.delete(e),a.delete(n),g}var OO=1,Rf="[object Arguments]",If="[object Array]",Sa="[object Object]",wO=Object.prototype,Nf=wO.hasOwnProperty;function TO(e,n,t,r,i,a){var o=pe(e),s=pe(n),l=o?If:Qr(e),u=s?If:Qr(n);l=l==Rf?Sa:l,u=u==Rf?Sa:u;var c=l==Sa,h=u==Sa,f=l==u;if(f&&Zr(e)){if(!Zr(n))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Ke),o||Wo(e)?Bp(e,n,t,r,i,a):mO(e,n,l,t,r,i,a);if(!(t&OO)){var p=c&&Nf.call(e,"__wrapped__"),d=h&&Nf.call(n,"__wrapped__");if(p||d){var g=p?e.value():e,v=d?n.value():n;return a||(a=new Ke),i(g,v,t,r,a)}}return f?(a||(a=new Ke),xO(e,n,t,r,i,a)):!1}function Zo(e,n,t,r,i){return e===n?!0:e==null||n==null||!vn(e)&&!vn(n)?e!==e&&n!==n:TO(e,n,t,r,Zo,i)}var EO=1,SO=2;function MO(e,n,t,r){var i=t.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=t[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=t[i];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var h=new Ke;if(r)var f=r(u,c,l,e,n,h);if(!(f===void 0?Zo(c,u,EO|SO,r,h):f))return!1}}return!0}function Fp(e){return e===e&&!qe(e)}function CO(e){for(var n=ia(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,Fp(i)]}return n}function Up(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}function AO(e){var n=CO(e);return n.length==1&&n[0][2]?Up(n[0][0],n[0][1]):function(t){return t===e||MO(t,e,n)}}function DO(e,n){return e!=null&&n in Object(e)}function PO(e,n,t){n=ep(n,e);for(var r=-1,i=n.length,a=!1;++r<i;){var o=qo(n[r]);if(!(a=e!=null&&t(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Ju(i)&&Qu(o,i)&&(pe(e)||Xr(e)))}function LO(e,n){return e!=null&&PO(e,n,DO)}var kO=1,RO=2;function IO(e,n){return ec(e)&&Fp(n)?Up(qo(e),n):function(t){var r=zt(t,e);return r===void 0&&r===n?LO(t,e):Zo(n,r,kO|RO)}}function NO(e){return function(n){return n==null?void 0:n[e]}}function BO(e){return function(n){return np(n,e)}}function FO(e){return ec(e)?NO(qo(e)):BO(e)}function Ko(e){return typeof e=="function"?e:e==null?Zu:typeof e=="object"?pe(e)?IO(e[0],e[1]):AO(e):FO(e)}function UO(e,n,t,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];n(r,o,t(o),e)}return r}function HO(e){return function(n,t,r){for(var i=-1,a=Object(n),o=r(n),s=o.length;s--;){var l=o[e?s:++i];if(t(a[l],l,a)===!1)break}return n}}var VO=HO(),Hp=VO;function GO(e,n){return e&&Hp(e,n,ia)}function zO(e,n){return function(t,r){if(t==null)return t;if(!xr(t))return e(t,r);for(var i=t.length,a=n?i:-1,o=Object(t);(n?a--:++a<i)&&r(o[a],a,o)!==!1;);return t}}var jO=zO(GO),lc=jO;function WO(e,n,t,r){return lc(e,function(i,a,o){n(r,i,t(i),o)}),r}function $O(e,n){return function(t,r){var i=pe(t)?UO:WO,a=n?n():{};return i(t,e,Ko(r),a)}}var YO=function(){return tn.Date.now()},Cs=YO,qO="Expected a function",XO=Math.max,ZO=Math.min;function KO(e,n,t){var r,i,a,o,s,l,u=0,c=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(qO);n=Ni(n)||0,qe(t)&&(c=!!t.leading,h="maxWait"in t,a=h?XO(Ni(t.maxWait)||0,n):a,f="trailing"in t?!!t.trailing:f);function p(x){var M=r,S=i;return r=i=void 0,u=x,o=e.apply(S,M),o}function d(x){return u=x,s=setTimeout(b,n),c?p(x):o}function g(x){var M=x-l,S=x-u,A=n-M;return h?ZO(A,a-S):A}function v(x){var M=x-l,S=x-u;return l===void 0||M>=n||M<0||h&&S>=a}function b(){var x=Cs();if(v(x))return m(x);s=setTimeout(b,g(x))}function m(x){return s=void 0,f&&r?p(x):(r=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function w(){return s===void 0?o:m(Cs())}function O(){var x=Cs(),M=v(x);if(r=arguments,i=this,l=x,M){if(s===void 0)return d(l);if(h)return clearTimeout(s),s=setTimeout(b,n),p(l)}return s===void 0&&(s=setTimeout(b,n)),o}return O.cancel=y,O.flush=w,O}function $l(e,n,t){(t!==void 0&&!na(e[n],t)||t===void 0&&!(n in e))&&zo(e,n,t)}function Yl(e){return vn(e)&&xr(e)}function ql(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function QO(e){return ra(e,aa(e))}function JO(e,n,t,r,i,a,o){var s=ql(e,t),l=ql(n,t),u=o.get(l);if(u){$l(e,t,u);return}var c=a?a(s,l,t+"",e,n,o):void 0,h=c===void 0;if(h){var f=pe(l),p=!f&&Zr(l),d=!f&&!p&&Wo(l);c=l,f||p||d?pe(s)?c=s:Yl(s)?c=Wd(s):p?(h=!1,c=Sp(l,!0)):d?(h=!1,c=Dp(l,!0)):c=[]:W_(l)||Xr(l)?(c=s,Xr(s)?c=QO(s):(!qe(s)||Ku(s))&&(c=Pp(l))):h=!1}h&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),$l(e,t,c)}function Vp(e,n,t,r,i){e!==n&&Hp(n,function(a,o){if(i||(i=new Ke),qe(a))JO(e,n,o,t,Vp,r,i);else{var s=r?r(ql(e,o),a,o+"",e,n,i):void 0;s===void 0&&(s=a),$l(e,o,s)}},aa)}function tw(e,n,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(n,e[r]))return!0;return!1}function ew(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}function nw(e,n){var t=-1,r=xr(e)?Array(e.length):[];return lc(e,function(i,a,o){r[++t]=n(i,a,o)}),r}function rw(e,n){var t=pe(e)?zd:nw;return t(e,Ko(n))}var iw=1/0;function aw(e,n){return Xo(rw(e,n),iw)}function ow(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}var sw=Object.prototype,lw=sw.hasOwnProperty,uw=$O(function(e,n,t){lw.call(e,t)?e[t].push(n):zo(e,t,[n])}),cw=uw,fw="[object Map]",hw="[object Set]",dw=Object.prototype,pw=dw.hasOwnProperty;function gw(e){if(e==null)return!0;if(xr(e)&&(pe(e)||typeof e=="string"||typeof e.splice=="function"||Zr(e)||Wo(e)||Xr(e)))return!e.length;var n=Qr(e);if(n==fw||n==hw)return!e.size;if(jo(e))return!tp(e).length;for(var t in e)if(pw.call(e,t))return!1;return!0}function vw(e,n){return Zo(e,n)}var mw=Tp(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),yw=mw,_w=o0(function(e,n,t){Vp(e,n,t)}),bw=_w;function xw(e,n){var t;return lc(e,function(r,i,a){return t=n(r,i,a),!t}),!!t}function Ow(e,n,t){var r=pe(e)?Ip:xw;return t&&qd(e,n,t)&&(n=void 0),r(e,Ko(n))}var ww=1/0,Tw=jr&&1/sc(new jr([,-0]))[1]==ww?function(e){return new jr(e)}:By,Ew=Tw,Sw=200;function Gp(e,n,t){var r=-1,i=Jy,a=e.length,o=!0,s=[],l=s;if(t)o=!1,i=tw;else if(a>=Sw){var u=n?null:Ew(e);if(u)return sc(u);o=!1,i=Np,l=new ji}else l=n?[]:s;t:for(;++r<a;){var c=e[r],h=n?n(c):c;if(c=t||c!==0?c:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;n&&l.push(h),s.push(c)}else i(l,h,t)||(l!==s&&l.push(h),s.push(c))}return s}var Mw=Yd(function(e){var n=ew(e);return Yl(n)&&(n=void 0),Gp(Xo(e,1,Yl,!0),Ko(n))}),Cw=Mw;function Aw(e){return e&&e.length?Gp(e):[]}var Xl="http://www.w3.org/1999/xhtml",Bf={svg:"http://www.w3.org/2000/svg",xhtml:Xl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qo(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Bf.hasOwnProperty(n)?{space:Bf[n],local:e}:e}function Dw(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===Xl&&n.documentElement.namespaceURI===Xl?n.createElement(e):n.createElementNS(t,e)}}function Pw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zp(e){var n=Qo(e);return(n.local?Pw:Dw)(n)}function Lw(){}function uc(e){return e==null?Lw:function(){return this.querySelector(e)}}function kw(e){typeof e!="function"&&(e=uc(e));for(var n=this._groups,t=n.length,r=new Array(t),i=0;i<t;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Ue(r,this._parents)}function Rw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Iw(){return[]}function jp(e){return e==null?Iw:function(){return this.querySelectorAll(e)}}function Nw(e){return function(){return Rw(e.apply(this,arguments))}}function Bw(e){typeof e=="function"?e=Nw(e):e=jp(e);for(var n=this._groups,t=n.length,r=[],i=[],a=0;a<t;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Ue(r,i)}function Wp(e){return function(){return this.matches(e)}}function $p(e){return function(n){return n.matches(e)}}var Fw=Array.prototype.find;function Uw(e){return function(){return Fw.call(this.children,e)}}function Hw(){return this.firstElementChild}function Vw(e){return this.select(e==null?Hw:Uw(typeof e=="function"?e:$p(e)))}var Gw=Array.prototype.filter;function zw(){return Array.from(this.children)}function jw(e){return function(){return Gw.call(this.children,e)}}function Ww(e){return this.selectAll(e==null?zw:jw(typeof e=="function"?e:$p(e)))}function $w(e){typeof e!="function"&&(e=Wp(e));for(var n=this._groups,t=n.length,r=new Array(t),i=0;i<t;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Ue(r,this._parents)}function Yp(e){return new Array(e.length)}function Yw(){return new Ue(this._enter||this._groups.map(Yp),this._parents)}function po(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}po.prototype={constructor:po,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qw(e){return function(){return e}}function Xw(e,n,t,r,i,a){for(var o=0,s,l=n.length,u=a.length;o<u;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):t[o]=new po(e,a[o]);for(;o<l;++o)(s=n[o])&&(i[o]=s)}function Zw(e,n,t,r,i,a,o){var s,l,u=new Map,c=n.length,h=a.length,f=new Array(c),p;for(s=0;s<c;++s)(l=n[s])&&(f[s]=p=o.call(l,l.__data__,s,n)+"",u.has(p)?i[s]=l:u.set(p,l));for(s=0;s<h;++s)p=o.call(e,a[s],s,a)+"",(l=u.get(p))?(r[s]=l,l.__data__=a[s],u.delete(p)):t[s]=new po(e,a[s]);for(s=0;s<c;++s)(l=n[s])&&u.get(f[s])===l&&(i[s]=l)}function Kw(e){return e.__data__}function Qw(e,n){if(!arguments.length)return Array.from(this,Kw);var t=n?Zw:Xw,r=this._parents,i=this._groups;typeof e!="function"&&(e=qw(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,p=Jw(e.call(c,c&&c.__data__,u,r)),d=p.length,g=s[u]=new Array(d),v=o[u]=new Array(d),b=l[u]=new Array(f);t(c,h,g,v,b,p,n);for(var m=0,y=0,w,O;m<d;++m)if(w=g[m]){for(m>=y&&(y=m+1);!(O=v[y])&&++y<d;);w._next=O||null}}return o=new Ue(o,r),o._enter=s,o._exit=l,o}function Jw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tT(){return new Ue(this._exit||this._groups.map(Yp),this._parents)}function eT(e,n,t){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),n!=null&&(i=n(i),i&&(i=i.selection())),t==null?a.remove():t(a),r&&i?r.merge(i).order():i}function nT(e){for(var n=e.selection?e.selection():e,t=this._groups,r=n._groups,i=t.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=t[l],c=r[l],h=u.length,f=s[l]=new Array(h),p,d=0;d<h;++d)(p=u[d]||c[d])&&(f[d]=p);for(;l<i;++l)s[l]=t[l];return new Ue(s,this._parents)}function rT(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var r=e[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function iT(e){e||(e=aT);function n(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var t=this._groups,r=t.length,i=new Array(r),a=0;a<r;++a){for(var o=t[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(n)}return new Ue(i,this._parents).order()}function aT(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function oT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sT(){return Array.from(this)}function lT(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var r=e[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function uT(){let e=0;for(const n of this)++e;return e}function cT(){return!this.node()}function fT(e){for(var n=this._groups,t=0,r=n.length;t<r;++t)for(var i=n[t],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function hT(e){return function(){this.removeAttribute(e)}}function dT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pT(e,n){return function(){this.setAttribute(e,n)}}function gT(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function vT(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function mT(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function yT(e,n){var t=Qo(e);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((n==null?t.local?dT:hT:typeof n=="function"?t.local?mT:vT:t.local?gT:pT)(t,n))}function qp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _T(e){return function(){this.style.removeProperty(e)}}function bT(e,n,t){return function(){this.style.setProperty(e,n,t)}}function xT(e,n,t){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function OT(e,n,t){return arguments.length>1?this.each((n==null?_T:typeof n=="function"?xT:bT)(e,n,t==null?"":t)):Jr(this.node(),e)}function Jr(e,n){return e.style.getPropertyValue(n)||qp(e).getComputedStyle(e,null).getPropertyValue(n)}function wT(e){return function(){delete this[e]}}function TT(e,n){return function(){this[e]=n}}function ET(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function ST(e,n){return arguments.length>1?this.each((n==null?wT:typeof n=="function"?ET:TT)(e,n)):this.node()[e]}function Xp(e){return e.trim().split(/^|\s+/)}function cc(e){return e.classList||new Zp(e)}function Zp(e){this._node=e,this._names=Xp(e.getAttribute("class")||"")}Zp.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kp(e,n){for(var t=cc(e),r=-1,i=n.length;++r<i;)t.add(n[r])}function Qp(e,n){for(var t=cc(e),r=-1,i=n.length;++r<i;)t.remove(n[r])}function MT(e){return function(){Kp(this,e)}}function CT(e){return function(){Qp(this,e)}}function AT(e,n){return function(){(n.apply(this,arguments)?Kp:Qp)(this,e)}}function DT(e,n){var t=Xp(e+"");if(arguments.length<2){for(var r=cc(this.node()),i=-1,a=t.length;++i<a;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof n=="function"?AT:n?MT:CT)(t,n))}function PT(){this.textContent=""}function LT(e){return function(){this.textContent=e}}function kT(e){return function(){var n=e.apply(this,arguments);this.textContent=n==null?"":n}}function RT(e){return arguments.length?this.each(e==null?PT:(typeof e=="function"?kT:LT)(e)):this.node().textContent}function IT(){this.innerHTML=""}function NT(e){return function(){this.innerHTML=e}}function BT(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n==null?"":n}}function FT(e){return arguments.length?this.each(e==null?IT:(typeof e=="function"?BT:NT)(e)):this.node().innerHTML}function UT(){this.nextSibling&&this.parentNode.appendChild(this)}function HT(){return this.each(UT)}function VT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GT(){return this.each(VT)}function zT(e){var n=typeof e=="function"?e:zp(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function jT(){return null}function WT(e,n){var t=typeof e=="function"?e:zp(e),r=n==null?jT:typeof n=="function"?n:uc(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function $T(){var e=this.parentNode;e&&e.removeChild(this)}function YT(){return this.each($T)}function qT(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function XT(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ZT(e){return this.select(e?XT:qT)}function KT(e){return arguments.length?this.property("__data__",e):this.node().__data__}function QT(e){return function(n){e.call(this,n,this.__data__)}}function JT(e){return e.trim().split(/^|\s+/).map(function(n){var t="",r=n.indexOf(".");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{type:n,name:t}})}function tE(e){return function(){var n=this.__on;if(!!n){for(var t=0,r=-1,i=n.length,a;t<i;++t)a=n[t],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function eE(e,n,t){return function(){var r=this.__on,i,a=QT(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=t),i.value=n;return}}this.addEventListener(e.type,a,t),i={type:e.type,name:e.name,value:n,listener:a,options:t},r?r.push(i):this.__on=[i]}}function nE(e,n,t){var r=JT(e+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?eE:tE,i=0;i<a;++i)this.each(s(r[i],n,t));return this}function Jp(e,n,t){var r=qp(e),i=r.CustomEvent;typeof i=="function"?i=new i(n,t):(i=r.document.createEvent("Event"),t?(i.initEvent(n,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(n,!1,!1)),e.dispatchEvent(i)}function rE(e,n){return function(){return Jp(this,e,n)}}function iE(e,n){return function(){return Jp(this,e,n.apply(this,arguments))}}function aE(e,n){return this.each((typeof n=="function"?iE:rE)(e,n))}function*oE(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var r=e[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var tg=[null];function Ue(e,n){this._groups=e,this._parents=n}function sa(){return new Ue([[document.documentElement]],tg)}function sE(){return this}Ue.prototype=sa.prototype={constructor:Ue,select:kw,selectAll:Bw,selectChild:Vw,selectChildren:Ww,filter:$w,data:Qw,enter:Yw,exit:tT,join:eT,merge:nT,selection:sE,order:rT,sort:iT,call:oT,nodes:sT,node:lT,size:uT,empty:cT,each:fT,attr:yT,style:OT,property:ST,classed:DT,text:RT,html:FT,raise:HT,lower:GT,append:zT,insert:WT,remove:YT,clone:ZT,datum:KT,on:nE,dispatch:aE,[Symbol.iterator]:oE};function H(e){return typeof e=="string"?new Ue([[document.querySelector(e)]],[document.documentElement]):new Ue([[e]],tg)}function lE(e){let n;for(;n=e.sourceEvent;)e=n;return e}function fr(e,n){if(e=lE(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[e.clientX-i.left-n.clientLeft,e.clientY-i.top-n.clientTop]}}return[e.pageX,e.pageY]}var _;(function(e){e.debounce=KO,e.clone=Kx,e.merge=bw,e.unionBy=Cw,e.removeArrayDuplicates=Aw,e.clamp=db,e.flatten=F_,e.groupBy=cw,e.camelCase=fb,e.isEmpty=gw,e.isEqual=vw,e.flatMapDeep=aw,e.kebabCase=yw,e.fromPairs=ow,e.some=Ow;function n(g,v,b){var m=null;return function(){var y=this,w=arguments;y.mousePosition=fr(w[0],b),clearTimeout(m),m=setTimeout(function(){g.apply(y,w)},v)}}e.debounceWithD3MousePosition=n;function t(g,v){var b,m,y=e.clone(g),w=Object.keys(v.axes||{});!((m=(b=v)===null||b===void 0?void 0:b.toolbar)===null||m===void 0)&&m.controls&&delete y.toolbar.controls,w.length===0&&delete y.axes;for(var O in y.axes)if(w.includes(O)){var x=v.axes[O];(x.primary||x.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var M=x.mapsTo;if(M==null){var S=x.scaleType;S==null?x.mapsTo="value":S===st.TIME?x.mapsTo="date":S===st.LABELS&&(x.mapsTo="key")}}else delete y.axes[O];return c(y,v),e.merge(y,v)}e.mergeDefaultChartOptions=t;function r(g){return{width:parseFloat(g.style.width.replace("px","")||g.offsetWidth),height:parseFloat(g.style.height.replace("px","")||g.offsetHeight)}}e.getDimensions=r;function i(g){if(!!g){var v=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,b=g.getAttribute("transform").match(v);if(!b)return null;if(b[0]){var m=b[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:m[0],ty:m[1]}}return null}}e.getTranslationValues=i;function a(g){var v=/\(([^)]+)\)/,b=v.exec(g)[1],m=b.split(",");return{x:parseFloat(m[0]),y:parseFloat(m[1])}}e.getTranformOffsets=a;function o(g){var v=g.toString();return v.match(/[a-z]/i)?v:v+"px"}e.formatWidthHeightValues=o;function s(g){return g[0].toUpperCase()+g.slice(1)}e.capitalizeFirstLetter=s;function l(g,v,b){b===void 0&&(b="value");var m=g/v.reduce(function(y,w){return y+w[b]},0)*100;return m%1!==0?parseFloat(m.toFixed(1)):m}e.convertValueToPercentage=l;function u(g,v,b){if(b>g.length)return g;if(v===Pn.MID_LINE)return g.substr(0,b/2)+"..."+g.substr(-b/2);if(v===Pn.FRONT_LINE)return"..."+g.substr(-b);if(v===Pn.END_LINE)return g.substr(0,b)+"..."}e.truncateLabel=u;function c(g,v){var b=e.getProperty(g,"legend","additionalItems"),m=e.getProperty(v,"legend","additionalItems");if(b&&m){var y=m.map(function(x){return x.type}),w=b.map(function(x){return x.type}),O=Hd.filter(function(x){return w.includes(x.type)&&!y.includes(x.type)});g.legend.additionalItems=O,v.legend.additionalItems=e.unionBy(O,m,"name")}}e.updateLegendAdditionalItems=c;function h(g,v){var b={missing:[],added:[]};return g.forEach(function(m){v.indexOf(m)===-1&&b.missing.push(m)}),v.forEach(function(m){g.indexOf(m)===-1&&b.added.push(m)}),b}e.arrayDifferences=h;function f(g){var v=[],b=[];return g.forEach(function(m){v.indexOf(m)!==-1&&b.indexOf(m)===-1&&b.push(m),v.push(m)}),b}e.getDuplicateValues=f;function p(g){return g.each(function(){this.parentNode.appendChild(this)})}e.moveToFront=p,e.getProperty=function(g){for(var v=[],b=1;b<arguments.length;b++)v[b-1]=arguments[b];var m=g;if(m){for(var y=0,w=v;y<w.length;y++){var O=w[y];if(m[O]!==null&&m[O]!==void 0)m=m[O];else return null}return m}return null},e.flipSVGCoordinatesBasedOnOrientation=function(g,v){return v===ae.HORIZONTAL?{y0:g.x0,y1:g.x1,x0:g.y0,x1:g.y1}:g},e.generateSVGPathString=function(g,v){var b=e.flipSVGCoordinatesBasedOnOrientation(g,v),m=b.x0,y=b.x1,w=b.y0,O=b.y1;return"M"+m+","+w+"L"+m+","+O+"L"+y+","+O+"L"+y+","+w+"L"+m+","+w};function d(g,v,b){return b===ae.VERTICAL?[g,v]:[v,g]}e.flipDomainAndRangeBasedOnOrientation=d,e.compareNumeric=function(g,v){return Number(g)===Number(v)}})(_||(_={}));function uE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cE(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var Zl={exports:{}},Kl={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(i,a,o){o=o||{};var s;return typeof t[i]=="string"?s=t[i]:a===1?s=t[i].one:s=t[i].other.replace("{{count}}",a),o.addSuffix?o.comparison>0?"in "+s:s+" ago":s}e.exports=n.default})(Kl,Kl.exports);var Ql={exports:{}},Jl={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;function t(r){return function(i){var a=i||{},o=a.width?String(a.width):r.defaultWidth,s=r.formats[o]||r.formats[r.defaultWidth];return s}}e.exports=n.default})(Jl,Jl.exports);(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=r(Jl.exports);function r(u){return u&&u.__esModule?u:{default:u}}var i={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,t.default)({formats:i,defaultWidth:"full"}),time:(0,t.default)({formats:a,defaultWidth:"full"}),dateTime:(0,t.default)({formats:o,defaultWidth:"full"})},l=s;n.default=l,e.exports=n.default})(Ql,Ql.exports);var tu={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function r(i,a,o,s){return t[i]}e.exports=n.default})(tu,tu.exports);var eu={exports:{}},nu={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;function t(r){return function(i,a){var o=a||{},s=o.context?String(o.context):"standalone",l;if(s==="formatting"&&r.formattingValues){var u=r.defaultFormattingWidth||r.defaultWidth,c=o.width?String(o.width):u;l=r.formattingValues[c]||r.formattingValues[u]}else{var h=r.defaultWidth,f=o.width?String(o.width):r.defaultWidth;l=r.values[f]||r.values[h]}var p=r.argumentCallback?r.argumentCallback(i):i;return l[p]}}e.exports=n.default})(nu,nu.exports);(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=r(nu.exports);function r(p){return p&&p.__esModule?p:{default:p}}var i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function c(p,d){var g=Number(p),v=g%100;if(v>20||v<10)switch(v%10){case 1:return g+"st";case 2:return g+"nd";case 3:return g+"rd"}return g+"th"}var h={ordinalNumber:c,era:(0,t.default)({values:i,defaultWidth:"wide"}),quarter:(0,t.default)({values:a,defaultWidth:"wide",argumentCallback:function(p){return Number(p)-1}}),month:(0,t.default)({values:o,defaultWidth:"wide"}),day:(0,t.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;n.default=f,e.exports=n.default})(eu,eu.exports);var ru={exports:{}},iu={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;function t(r){return function(i,a){var o=String(i),s=a||{},l=o.match(r.matchPattern);if(!l)return null;var u=l[0],c=o.match(r.parsePattern);if(!c)return null;var h=r.valueCallback?r.valueCallback(c[0]):c[0];return h=s.valueCallback?s.valueCallback(h):h,{value:h,rest:o.slice(u.length)}}}e.exports=n.default})(iu,iu.exports);var au={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;function t(a){return function(o,s){var l=String(o),u=s||{},c=u.width,h=c&&a.matchPatterns[c]||a.matchPatterns[a.defaultMatchWidth],f=l.match(h);if(!f)return null;var p=f[0],d=c&&a.parsePatterns[c]||a.parsePatterns[a.defaultParseWidth],g;return Object.prototype.toString.call(d)==="[object Array]"?g=i(d,function(v){return v.test(l)}):g=r(d,function(v){return v.test(l)}),g=a.valueCallback?a.valueCallback(g):g,g=u.valueCallback?u.valueCallback(g):g,{value:g,rest:l.slice(p.length)}}}function r(a,o){for(var s in a)if(a.hasOwnProperty(s)&&o(a[s]))return s}function i(a,o){for(var s=0;s<a.length;s++)if(o(a[s]))return s}e.exports=n.default})(au,au.exports);(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=i(iu.exports),r=i(au.exports);function i(y){return y&&y.__esModule?y:{default:y}}var a=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b={ordinalNumber:(0,t.default)({matchPattern:a,parsePattern:o,valueCallback:function(y){return parseInt(y,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(y){return y+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:g,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})},m=b;n.default=m,e.exports=n.default})(ru,ru.exports);(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=s(Kl.exports),r=s(Ql.exports),i=s(tu.exports),a=s(eu.exports),o=s(ru.exports);function s(c){return c&&c.__esModule?c:{default:c}}var l={code:"en-US",formatDistance:t.default,formatLong:r.default,formatRelative:i.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;n.default=u,e.exports=n.default})(Zl,Zl.exports);var fE=uE(Zl.exports),hE=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Rr={type:Pn.END_LINE,threshold:16,numCharacter:14},dE={enabled:!0,position:Vr.BOTTOM,clickable:!0,truncation:Rr,alignment:de.LEFT,order:null,additionalItems:[]},eg={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},ng={enabled:!0},fc={enabled:!0,showTotal:!0,truncation:Rr,groupLabel:"Group"},rg={top:{visible:!0,includeZero:!0,truncation:Rr},bottom:{visible:!0,includeZero:!0,truncation:Rr},left:{visible:!0,includeZero:!0,truncation:Rr},right:{visible:!0,includeZero:!0,truncation:Rr}},la={addSpaceOnEdges:1,showDayName:!1,localeObject:fE,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},pE=typeof document!="undefined"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),Oe={width:null,height:null,resizable:!0,tooltip:fc,legend:dE,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:hE([{type:Yt.SHOW_AS_DATATABLE}],pE?[{type:Yt.MAKE_FULLSCREEN}]:[],[{type:Yt.EXPORT_CSV},{type:Yt.EXPORT_PNG},{type:Yt.EXPORT_JPG}])}},ua=_.merge({},Oe,{axes:rg,timeScale:la,grid:eg,ruler:ng,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:Xe.GRAPH_VIEW}}}),hr=_.merge({},ua,{bars:{maxWidth:16,spacingFactor:.25},timeScale:_.merge(la,{addSpaceOnEdges:1})}),gE=_.merge({},hr,{}),vE=_.merge({},hr,{}),mE=_.merge({},hr,{bars:_.merge({},hr.bars,{dividerSize:1.5})}),yE=_.merge({},hr,{}),hc=_.merge({},ua,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),_E=hc,ig=_.merge({},hc,{points:{radius:3,filled:!1,enabled:!0}}),ag=_.merge({},ig,{timeScale:_.merge(la,{addSpaceOnEdges:0})}),bE=ag,xE=_.merge({},ua,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:function(e,n){var t=Math.min(e.width,e.height);return[t*3/400,t*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:ee.RADIUS,name:"Radius"}]}}),OE=_.merge({},ua,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:ee.AREA,name:"Poor area"},{type:ee.AREA,name:"Satisfactory area"},{type:ee.AREA,name:"Great area"},{type:ee.QUARTILE,name:"Quartiles"}]}}),wE=_.merge({},hr,{bars:{dividerSize:1.5},timeScale:_.merge(la,{addSpaceOnEdges:0})}),TE=_.merge({},Oe,{tooltip:_.merge({},fc,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:function(e,n){var t=Math.min(e.width,e.height);return[t*20/400,t*75/400]},wordMapsTo:"word"}}),og=_.merge({},Oe,{pie:{labels:{formatter:null,enabled:!0},alignment:de.LEFT,sortFunction:null,valueMapsTo:"value"}}),EE=_.merge({},Oe,{legend:{enabled:!1},gauge:{type:or.SEMI,arcWidth:16,deltaArrow:{size:function(e){return e/8},enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:function(e){return e/8},valueFontSize:function(e){return e/2.5},numberFormatter:function(e){return e.toFixed(2)%1!==0?e.toFixed(2).toLocaleString():e.toFixed().toLocaleString()},alignment:de.LEFT}}),SE=_.merge({},og,{donut:{center:{numberFontSize:function(e){return Math.min(e/100*24,24)+"px"},titleFontSize:function(e){return Math.min(e/100*15,15)+"px"},titleYPosition:function(e){return Math.min(e/80*20,20)},numberFormatter:function(e){return Math.floor(e).toLocaleString()}},alignment:de.LEFT}}),sg=_.merge({},Oe,{legend:{enabled:!1,clickable:!1},meter:{showLabels:!0,proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),ME=_.merge({},sg,{legend:{enabled:!0}}),CE=_.merge({},Oe,{radar:{axes:{angle:"key",value:"value"},alignment:de.LEFT},tooltip:{gridline:{enabled:!0},valueFormatter:function(e){return e!=null?e:"N/A"}}}),AE=_.merge({},hr,{comboChartTypes:[]}),DE=_.merge({tree:{type:lo.TREE}},Oe,{}),PE=_.merge({},Oe,{data:_.merge(Oe.data,{groupMapsTo:"name"})}),LE=_.merge({},Oe,rr,{data:_.merge(Oe.data,{groupMapsTo:"name"})}),kE=_.merge({},Oe,{alluvial:{data:_.merge(Oe.data,{groupMapsTo:"source"}),nodePadding:24,monochrome:!1,nodes:[]}}),RE=_.merge({},Oe,{axes:rg,heatmap:{divider:{state:Gr.AUTO},colorLegend:{type:"linear"}}}),Vt={chart:Oe,axisChart:ua,simpleBarChart:gE,groupedBarChart:vE,stackedBarChart:mE,boxplotChart:yE,bubbleChart:xE,bulletChart:OE,histogramChart:wE,lineChart:ig,areaChart:ag,stackedAreaChart:bE,scatterChart:hc,lollipopChart:_E,pieChart:og,donutChart:SE,meterChart:sg,proportionalMeterChart:ME,radarChart:CE,gaugeChart:EE,comboChart:AE,treeChart:DE,treemapChart:PE,circlePackChart:LE,wordCloudChart:TE,alluvialChart:kE,heatmapChart:RE},lg=Object.freeze(Object.defineProperty({__proto__:null,grid:eg,ruler:ng,baseTooltip:fc,timeScale:la,options:Vt,area:un,axis:Cn,canvasZoomSettings:zr,circlePack:rr,color:Xu,boxplot:Re,histogram:Fd,legend:Qt,lines:ln,meter:oe,pie:Ut,radar:zn,alluvial:ze,heatmap:Bl,spacers:Fl,tooltips:Ud,transitions:Ul,toolbar:$m,zoomBar:Me,defaultLegendAdditionalItems:Hd},Symbol.toStringTag,{value:"Module"}));function ti(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function dc(e){let n=e,t=e,r=e;e.length!==2&&(n=(s,l)=>e(s)-l,t=ti,r=(s,l)=>ti(e(s),l));function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const h=u+c>>>1;r(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const h=u+c>>>1;r(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&n(s[h-1],l)>-n(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function IE(e){return e===null?NaN:+e}function*NE(e,n){if(n===void 0)for(let t of e)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let r of e)(r=n(r,++t,e))!=null&&(r=+r)>=r&&(yield r)}}const BE=dc(ti),FE=BE.right;dc(IE).center;var pc=FE;function UE(e,n){let t=0;if(n===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++t;else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(i=+i)>=i&&++t}return t}function hn(e,n){let t,r;if(n===void 0)for(const i of e)i!=null&&(t===void 0?i>=i&&(t=r=i):(t>i&&(t=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(t===void 0?a>=a&&(t=r=a):(t>a&&(t=a),r<a&&(r=a)))}return[t,r]}class Ff extends Map{constructor(n,t=GE){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Uf(this,n))}has(n){return super.has(Uf(this,n))}set(n,t){return super.set(HE(this,n),t)}delete(n){return super.delete(VE(this,n))}}function Uf({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):t}function HE({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function VE({_intern:e,_key:n},t){const r=n(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function GE(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zE(e){return e}function jE(e=ti){if(e===ti)return ug;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,t)=>{const r=e(n,t);return r||r===0?r:(e(t,t)===0)-(e(n,n)===0)}}function ug(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}var WE=Array.prototype,$E=WE.slice;function Ma(e){return()=>e}var ou=Math.sqrt(50),su=Math.sqrt(10),lu=Math.sqrt(2);function go(e,n,t){var r,i=-1,a,o,s;if(n=+n,e=+e,t=+t,e===n&&t>0)return[e];if((r=n<e)&&(a=e,e=n,n=a),(s=Wi(e,n,t))===0||!isFinite(s))return[];if(s>0){let l=Math.round(e/s),u=Math.round(n/s);for(l*s<e&&++l,u*s>n&&--u,o=new Array(a=u-l+1);++i<a;)o[i]=(l+i)*s}else{s=-s;let l=Math.round(e*s),u=Math.round(n*s);for(l/s<e&&++l,u/s>n&&--u,o=new Array(a=u-l+1);++i<a;)o[i]=(l+i)/s}return r&&o.reverse(),o}function Wi(e,n,t){var r=(n-e)/Math.max(0,t),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ou?10:a>=su?5:a>=lu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ou?10:a>=su?5:a>=lu?2:1)}function uu(e,n,t){var r=Math.abs(n-e)/Math.max(0,t),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ou?i*=10:a>=su?i*=5:a>=lu&&(i*=2),n<e?-i:i}function YE(e,n,t){let r;for(;;){const i=Wi(e,n,t);if(i===r||i===0||!isFinite(i))return[e,n];i>0?(e=Math.floor(e/i)*i,n=Math.ceil(n/i)*i):i<0&&(e=Math.ceil(e*i)/i,n=Math.floor(n*i)/i),r=i}}function qE(e){return Math.ceil(Math.log(UE(e))/Math.LN2)+1}function XE(){var e=zE,n=hn,t=qE;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,u=new Array(o);for(a=0;a<o;++a)u[a]=e(i[a],a,i);var c=n(u),h=c[0],f=c[1],p=t(u,h,f);if(!Array.isArray(p)){const b=f,m=+p;if(n===hn&&([h,f]=YE(h,f,m)),p=go(h,f,m),p[0]<=h&&(l=Wi(h,f,m)),p[p.length-1]>=f)if(b>=f&&n===hn){const y=Wi(h,f,m);isFinite(y)&&(y>0?f=(Math.floor(f/y)+1)*y:y<0&&(f=(Math.ceil(f*-y)+1)/-y))}else p.pop()}for(var d=p.length;p[0]<=h;)p.shift(),--d;for(;p[d-1]>f;)p.pop(),--d;var g=new Array(d+1),v;for(a=0;a<=d;++a)v=g[a]=[],v.x0=a>0?p[a-1]:h,v.x1=a<d?p[a]:f;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&g[Math.floor((s-h)/l)].push(i[a]);else if(l<0)for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&g[Math.floor((h-s)*l)].push(i[a])}else for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&g[pc(p,s,0,d)].push(i[a]);return g}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:Ma(i),r):e},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:Ma([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(t=typeof i=="function"?i:Array.isArray(i)?Ma($E.call(i)):Ma(i),r):t},r}function dr(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function jn(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function cg(e,n,t=0,r=e.length-1,i){for(i=i===void 0?ug:jE(i);r>t;){if(r-t>600){const l=r-t+1,u=n-t+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(t,Math.floor(n-u*h/l+f)),d=Math.min(r,Math.floor(n+(l-u)*h/l+f));cg(e,n,p,d,i)}const a=e[n];let o=t,s=r;for(di(e,t,n),i(e[r],a)>0&&di(e,t,r);o<s;){for(di(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[t],a)===0?di(e,t,s):(++s,di(e,s,r)),s<=n&&(t=s+1),n<=s&&(r=s-1)}return e}function di(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function As(e,n,t){if(e=Float64Array.from(NE(e,t)),!!(r=e.length)){if((n=+n)<=0||r<2)return jn(e);if(n>=1)return dr(e);var r,i=(r-1)*n,a=Math.floor(i),o=dr(cg(e,a).subarray(0,a+1)),s=jn(e.subarray(a+1));return o+(s-o)*(i-a)}}function ZE(e,n,t){e=+e,n=+n,t=(i=arguments.length)<2?(n=e,e=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((n-e)/t))|0,a=new Array(i);++r<i;)a[r]=e+r*t;return a}function si(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const Hf=Symbol("implicit");function Jo(){var e=new Ff,n=[],t=[],r=Hf;function i(a){let o=e.get(a);if(o===void 0){if(r!==Hf)return r;e.set(a,o=n.push(a)-1)}return t[o%t.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],e=new Ff;for(const o of a)e.has(o)||e.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Jo(n,t).unknown(r)},si.apply(i,arguments),i}function ca(){var e=Jo().unknown(void 0),n=e.domain,t=e.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function h(){var f=n().length,p=i<r,d=p?i:r,g=p?r:i;a=(g-d)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),d+=(g-d-a*(f-l))*c,o=a*(1-l),s&&(d=Math.round(d),o=Math.round(o));var v=ZE(f).map(function(b){return d+a*b});return t(p?v.reverse():v)}return e.domain=function(f){return arguments.length?(n(f),h()):n()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,h()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},e.copy=function(){return ca(n(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},si.apply(h(),arguments)}function gc(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function fg(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function fa(){}var $i=.7,vo=1/$i,Wr="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KE=/^#([0-9a-f]{3,8})$/,QE=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),JE=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),tS=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${Yi}\\)$`),eS=new RegExp(`^rgba\\(${dn},${dn},${dn},${Yi}\\)$`),nS=new RegExp(`^hsl\\(${Yi},${dn},${dn}\\)$`),rS=new RegExp(`^hsla\\(${Yi},${dn},${dn},${Yi}\\)$`),Vf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gc(fa,Ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gf,formatHex:Gf,formatHex8:iS,formatHsl:aS,formatRgb:zf,toString:zf});function Gf(){return this.rgb().formatHex()}function iS(){return this.rgb().formatHex8()}function aS(){return hg(this).formatHsl()}function zf(){return this.rgb().formatRgb()}function Ln(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=KE.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?jf(n):t===3?new Ae(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Ca(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Ca(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=QE.exec(e))?new Ae(n[1],n[2],n[3],1):(n=JE.exec(e))?new Ae(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=tS.exec(e))?Ca(n[1],n[2],n[3],n[4]):(n=eS.exec(e))?Ca(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=nS.exec(e))?Yf(n[1],n[2]/100,n[3]/100,1):(n=rS.exec(e))?Yf(n[1],n[2]/100,n[3]/100,n[4]):Vf.hasOwnProperty(e)?jf(Vf[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function jf(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function Ca(e,n,t,r){return r<=0&&(e=n=t=NaN),new Ae(e,n,t,r)}function oS(e){return e instanceof fa||(e=Ln(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function cu(e,n,t,r){return arguments.length===1?oS(e):new Ae(e,n,t,r==null?1:r)}function Ae(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}gc(Ae,cu,fg(fa,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$i:Math.pow($i,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(lr(this.r),lr(this.g),lr(this.b),mo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wf,formatHex:Wf,formatHex8:sS,formatRgb:$f,toString:$f}));function Wf(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}`}function sS(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}${sr((isNaN(this.opacity)?1:this.opacity)*255)}`}function $f(){const e=mo(this.opacity);return`${e===1?"rgb(":"rgba("}${lr(this.r)}, ${lr(this.g)}, ${lr(this.b)}${e===1?")":`, ${e})`}`}function mo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sr(e){return e=lr(e),(e<16?"0":"")+e.toString(16)}function Yf(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Ze(e,n,t,r)}function hg(e){if(e instanceof Ze)return new Ze(e.h,e.s,e.l,e.opacity);if(e instanceof fa||(e=Ln(e)),!e)return new Ze;if(e instanceof Ze)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-n)/s+2:o=(n-t)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ze(o,s,l,e.opacity)}function vc(e,n,t,r){return arguments.length===1?hg(e):new Ze(e,n,t,r==null?1:r)}function Ze(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}gc(Ze,vc,fg(fa,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new Ze(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$i:Math.pow($i,e),new Ze(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new Ae(Ds(e>=240?e-240:e+120,i,r),Ds(e,i,r),Ds(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ze(qf(this.h),Aa(this.s),Aa(this.l),mo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mo(this.opacity);return`${e===1?"hsl(":"hsla("}${qf(this.h)}, ${Aa(this.s)*100}%, ${Aa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qf(e){return e=(e||0)%360,e<0?e+360:e}function Aa(e){return Math.max(0,Math.min(1,e||0))}function Ds(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}var mc=e=>()=>e;function lS(e,n){return function(t){return e+t*n}}function uS(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}function cS(e){return(e=+e)==1?dg:function(n,t){return t-n?uS(n,t,e):mc(isNaN(n)?t:n)}}function dg(e,n){var t=n-e;return t?lS(e,t):mc(isNaN(e)?n:e)}var yo=function e(n){var t=cS(n);function r(i,a){var o=t((i=cu(i)).r,(a=cu(a)).r),s=t(i.g,a.g),l=t(i.b,a.b),u=dg(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function fS(e,n){n||(n=[]);var t=e?Math.min(n.length,e.length):0,r=n.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=e[i]*(1-a)+n[i]*a;return r}}function hS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dS(e,n){var t=n?n.length:0,r=e?Math.min(t,e.length):0,i=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)i[o]=ha(e[o],n[o]);for(;o<t;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function pS(e,n){var t=new Date;return e=+e,n=+n,function(r){return t.setTime(e*(1-r)+n*r),t}}function Ne(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function gS(e,n){var t={},r={},i;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in e?t[i]=ha(e[i],n[i]):r[i]=n[i];return function(a){for(i in t)r[i]=t[i](a);return r}}var fu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ps=new RegExp(fu.source,"g");function vS(e){return function(){return e}}function mS(e){return function(n){return e(n)+""}}function pg(e,n){var t=fu.lastIndex=Ps.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",n=n+"";(r=fu.exec(e))&&(i=Ps.exec(n));)(a=i.index)>t&&(a=n.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ne(r,i)})),t=Ps.lastIndex;return t<n.length&&(a=n.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?mS(l[0].x):vS(n):(n=l.length,function(u){for(var c=0,h;c<n;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function ha(e,n){var t=typeof n,r;return n==null||t==="boolean"?mc(n):(t==="number"?Ne:t==="string"?(r=Ln(n))?(n=r,yo):pg:n instanceof Ln?yo:n instanceof Date?pS:hS(n)?fS:Array.isArray(n)?dS:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?gS:Ne)(e,n)}function gg(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var Xf=180/Math.PI,hu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vg(e,n,t,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+n*n))&&(e/=o,n/=o),(l=e*t+n*r)&&(t-=e*l,r-=n*l),(s=Math.sqrt(t*t+r*r))&&(t/=s,r/=s,l/=s),e*r<n*t&&(e=-e,n=-n,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,e)*Xf,skewX:Math.atan(l)*Xf,scaleX:o,scaleY:s}}var Da;function yS(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?hu:vg(n.a,n.b,n.c,n.d,n.e,n.f)}function _S(e){return e==null||(Da||(Da=document.createElementNS("http://www.w3.org/2000/svg","g")),Da.setAttribute("transform",e),!(e=Da.transform.baseVal.consolidate()))?hu:(e=e.matrix,vg(e.a,e.b,e.c,e.d,e.e,e.f))}function mg(e,n,t,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,p,d){if(u!==h||c!==f){var g=p.push("translate(",null,n,null,t);d.push({i:g-4,x:Ne(u,h)},{i:g-2,x:Ne(c,f)})}else(h||f)&&p.push("translate("+h+n+f+t)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ne(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ne(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,p,d){if(u!==h||c!==f){var g=p.push(i(p)+"scale(",null,",",null,")");d.push({i:g-4,x:Ne(u,h)},{i:g-2,x:Ne(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(p){for(var d=-1,g=f.length,v;++d<g;)h[(v=f[d]).i]=v.x(p);return h.join("")}}}var bS=mg(yS,"px, ","px)","deg)"),xS=mg(_S,", ",")",")");function OS(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e(r/(n-1));return t}function wS(e){return function(){return e}}function TS(e){return+e}var Zf=[0,1];function Ir(e){return e}function du(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:wS(isNaN(n)?NaN:.5)}function ES(e,n){var t;return e>n&&(t=e,e=n,n=t),function(r){return Math.max(e,Math.min(n,r))}}function SS(e,n,t){var r=e[0],i=e[1],a=n[0],o=n[1];return i<r?(r=du(i,r),a=t(o,a)):(r=du(r,i),a=t(a,o)),function(s){return a(r(s))}}function MS(e,n,t){var r=Math.min(e.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=du(e[o],e[o+1]),a[o]=t(n[o],n[o+1]);return function(s){var l=pc(e,s,1,r)-1;return a[l](i[l](s))}}function yc(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yg(){var e=Zf,n=Zf,t=ha,r,i,a,o=Ir,s,l,u;function c(){var f=Math.min(e.length,n.length);return o!==Ir&&(o=ES(e[0],e[f-1])),s=f>2?MS:SS,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(r),n,t)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(n,e.map(r),Ne)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,TS),c()):e.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),t=gg,c()},h.clamp=function(f){return arguments.length?(o=f?!0:Ir,c()):o!==Ir},h.interpolate=function(f){return arguments.length?(t=f,c()):t},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return r=f,i=p,c()}}function _g(){return yg()(Ir,Ir)}function CS(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _o(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function ei(e){return e=_o(Math.abs(e)),e?e[1]:NaN}function AS(e,n){return function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}}function DS(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var PS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(e){if(!(n=PS.exec(e)))throw new Error("invalid format: "+e);var n;return new _c({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}qi.prototype=_c.prototype;function _c(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LS(e){t:for(var n=e.length,t=1,r=-1,i;t<n;++t)switch(e[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+e[t])break t;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var bg;function kS(e,n){var t=_o(e,n);if(!t)return e+"";var r=t[0],i=t[1],a=i-(bg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_o(e,Math.max(0,n+a-1))[0]}function Kf(e,n){var t=_o(e,n);if(!t)return e+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Qf={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CS,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>Kf(e*100,n),r:Kf,s:kS,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jf(e){return e}var th=Array.prototype.map,eh=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function RS(e){var n=e.grouping===void 0||e.thousands===void 0?Jf:AS(th.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Jf:DS(th.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=qi(h);var f=h.fill,p=h.align,d=h.sign,g=h.symbol,v=h.zero,b=h.width,m=h.comma,y=h.precision,w=h.trim,O=h.type;O==="n"?(m=!0,O="g"):Qf[O]||(y===void 0&&(y=12),w=!0,O="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var x=g==="$"?t:g==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",M=g==="$"?r:/[%p]/.test(O)?o:"",S=Qf[O],A=/[defgprs%]/.test(O);y=y===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function k(E){var P=x,B=M,N,R,I;if(O==="c")B=S(E)+B,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),y),w&&(E=LS(E)),F&&+E==0&&d!=="+"&&(F=!1),P=(F?d==="("?d:s:d==="-"||d==="("?"":d)+P,B=(O==="s"?eh[8+bg/3]:"")+B+(F&&d==="("?")":""),A){for(N=-1,R=E.length;++N<R;)if(I=E.charCodeAt(N),48>I||I>57){B=(I===46?i+E.slice(N+1):E.slice(N))+B,E=E.slice(0,N);break}}}m&&!v&&(E=n(E,1/0));var G=P.length+E.length+B.length,L=G<b?new Array(b-G+1).join(f):"";switch(m&&v&&(E=n(L+E,L.length?b-B.length:1/0),L=""),p){case"<":E=P+E+B+L;break;case"=":E=P+L+E+B;break;case"^":E=L.slice(0,G=L.length>>1)+P+E+B+L.slice(G);break;default:E=L+P+E+B;break}return a(E)}return k.toString=function(){return h+""},k}function c(h,f){var p=u((h=qi(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(ei(f)/3)))*3,g=Math.pow(10,-d),v=eh[8+d/3];return function(b){return p(g*b)+v}}return{format:u,formatPrefix:c}}var Pa,bc,xg;IS({thousands:",",grouping:[3],currency:["$",""]});function IS(e){return Pa=RS(e),bc=Pa.format,xg=Pa.formatPrefix,Pa}function NS(e){return Math.max(0,-ei(Math.abs(e)))}function BS(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ei(n)/3)))*3-ei(Math.abs(e)))}function FS(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,ei(n)-ei(e))+1}function US(e,n,t,r){var i=uu(e,n,t),a;switch(r=qi(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(n));return r.precision==null&&!isNaN(a=BS(i,o))&&(r.precision=a),xg(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=FS(i,Math.max(Math.abs(e),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=NS(i))&&(r.precision=a-(r.type==="%")*2);break}}return bc(r)}function Og(e){var n=e.domain;return e.ticks=function(t){var r=n();return go(r[0],r[r.length-1],t==null?10:t)},e.tickFormat=function(t,r){var i=n();return US(i[0],i[i.length-1],t==null?10:t,r)},e.nice=function(t){t==null&&(t=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Wi(o,s,t),u===l)return r[i]=o,r[a]=s,n(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function mn(){var e=_g();return e.copy=function(){return yc(e,mn())},si.apply(e,arguments),Og(e)}function wg(e,n){e=e.slice();var t=0,r=e.length-1,i=e[t],a=e[r],o;return a<i&&(o=t,t=r,r=o,o=i,i=a,a=o),e[t]=n.floor(i),e[r]=n.ceil(a),e}function nh(e){return Math.log(e)}function rh(e){return Math.exp(e)}function HS(e){return-Math.log(-e)}function VS(e){return-Math.exp(-e)}function GS(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zS(e){return e===10?GS:e===Math.E?Math.exp:n=>Math.pow(e,n)}function jS(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function ih(e){return(n,t)=>-e(-n,t)}function WS(e){const n=e(nh,rh),t=n.domain;let r=10,i,a;function o(){return i=jS(r),a=zS(r),t()[0]<0?(i=ih(i),a=ih(a),e(HS,VS)):e(nh,rh),n}return n.base=function(s){return arguments.length?(r=+s,o()):r},n.domain=function(s){return arguments.length?(t(s),o()):t()},n.ticks=s=>{const l=t();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),p=i(c),d,g;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(d=1;d<r;++d)if(g=f<0?d/a(-f):d*a(f),!(g<u)){if(g>c)break;b.push(g)}}else for(;f<=p;++f)for(d=r-1;d>=1;--d)if(g=f>0?d/a(-f):d*a(f),!(g<u)){if(g>c)break;b.push(g)}b.length*2<v&&(b=go(u,c,v))}else b=go(f,p,Math.min(p-f,v)).map(a);return h?b.reverse():b},n.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=qi(l)).precision==null&&(l.trim=!0),l=bc(l)),s===1/0)return l;const u=Math.max(1,r*s/n.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},n.nice=()=>t(wg(t(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),n}function Tg(){const e=WS(yg()).domain([1,10]);return e.copy=()=>yc(e,Tg()).base(e.base()),si.apply(e,arguments),e}function Eg(){var e=0,n=1,t=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[pc(r,l,0,t)]:a}function s(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*n-(l-t)*e)/(t+1);return o}return o.domain=function(l){return arguments.length?([e,n]=l,e=+e,n=+n,s()):[e,n]},o.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=t?[r[t-1],n]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Eg().domain([e,n]).range(i).unknown(a)},si.apply(Og(o),arguments)}var Ls=new Date,ks=new Date;function le(e,n,t,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return e(a=new Date(+a)),a},i.ceil=function(a){return e(a=new Date(a-1)),n(a,1),e(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return n(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var l=[],u;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;do l.push(u=new Date(+a)),n(a,s),e(a);while(u<a&&a<o);return l},i.filter=function(a){return le(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;n(o,-1),!a(o););else for(;--s>=0;)for(;n(o,1),!a(o););})},t&&(i.count=function(a,o){return Ls.setTime(+a),ks.setTime(+o),e(Ls),e(ks),Math.floor(t(Ls,ks))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var pu=le(function(){},function(e,n){e.setTime(+e+n)},function(e,n){return n-e});pu.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?le(function(n){n.setTime(Math.floor(n/e)*e)},function(n,t){n.setTime(+n+t*e)},function(n,t){return(t-n)/e}):pu};var $S=pu;const An=1e3,We=An*60,Dn=We*60,pr=Dn*24,xc=pr*7,ah=pr*30,Rs=pr*365;var YS=le(function(e){e.setTime(e-e.getMilliseconds())},function(e,n){e.setTime(+e+n*An)},function(e,n){return(n-e)/An},function(e){return e.getUTCSeconds()}),wi=YS,qS=le(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},function(e,n){e.setTime(+e+n*We)},function(e,n){return(n-e)/We},function(e){return e.getMinutes()}),Sg=qS,XS=le(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*We)},function(e,n){e.setTime(+e+n*Dn)},function(e,n){return(n-e)/Dn},function(e){return e.getHours()}),Mg=XS,ZS=le(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*We)/pr,e=>e.getDate()-1),ts=ZS;function Or(e){return le(function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+t*7)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*We)/xc})}var Oc=Or(0),gu=Or(1);Or(2);Or(3);var Xi=Or(4);Or(5);Or(6);var KS=le(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,n){e.setMonth(e.getMonth()+n)},function(e,n){return n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Cg=KS,Ag=le(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Ag.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:le(function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t*e)})};var gr=Ag,QS=le(function(e){e.setUTCSeconds(0,0)},function(e,n){e.setTime(+e+n*We)},function(e,n){return(n-e)/We},function(e){return e.getUTCMinutes()}),JS=QS,tM=le(function(e){e.setUTCMinutes(0,0,0)},function(e,n){e.setTime(+e+n*Dn)},function(e,n){return(n-e)/Dn},function(e){return e.getUTCHours()}),eM=tM,nM=le(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/pr},function(e){return e.getUTCDate()-1}),wc=nM;function wr(e){return le(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t*7)},function(n,t){return(t-n)/xc})}var Dg=wr(0),vu=wr(1);wr(2);wr(3);var Zi=wr(4);wr(5);wr(6);var rM=le(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCMonth(e.getUTCMonth()+n)},function(e,n){return n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),iM=rM,Pg=le(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Pg.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:le(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t*e)})};var ni=Pg;function Lg(e,n,t,r,i,a){const o=[[wi,1,An],[wi,5,5*An],[wi,15,15*An],[wi,30,30*An],[a,1,We],[a,5,5*We],[a,15,15*We],[a,30,30*We],[i,1,Dn],[i,3,3*Dn],[i,6,6*Dn],[i,12,12*Dn],[r,1,pr],[r,2,2*pr],[t,1,xc],[n,1,ah],[n,3,3*ah],[e,1,Rs]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),d=p?p.range(u,+c+1):[];return f?d.reverse():d}function l(u,c,h){const f=Math.abs(c-u)/h,p=dc(([,,v])=>v).right(o,f);if(p===o.length)return e.every(uu(u/Rs,c/Rs,h));if(p===0)return $S.every(Math.max(uu(u,c,h),1));const[d,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return d.every(g)}return[s,l]}Lg(ni,iM,Dg,wc,eM,JS);const[aM,oM]=Lg(gr,Cg,Oc,ts,Mg,Sg);function Is(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ns(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pi(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}function sM(e){var n=e.dateTime,t=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=gi(i),c=vi(i),h=gi(a),f=vi(a),p=gi(o),d=vi(o),g=gi(s),v=vi(s),b=gi(l),m=vi(l),y={a:F,A:G,b:L,B:z,c:null,d:fh,e:fh,f:DM,g:HM,G:GM,H:MM,I:CM,j:AM,L:kg,m:PM,M:LM,p:$,q:W,Q:ph,s:gh,S:kM,u:RM,U:IM,V:NM,w:BM,W:FM,x:null,X:null,y:UM,Y:VM,Z:zM,"%":dh},w={a:et,A:ut,b:nt,B:ot,c:null,d:hh,e:hh,f:YM,g:rC,G:aC,H:jM,I:WM,j:$M,L:Ig,m:qM,M:XM,p:it,q:Z,Q:ph,s:gh,S:ZM,u:KM,U:QM,V:JM,w:tC,W:eC,x:null,X:null,y:nC,Y:iC,Z:oC,"%":dh},O={a:k,A:E,b:P,B,c:N,d:uh,e:uh,f:wM,g:lh,G:sh,H:ch,I:ch,j:_M,L:OM,m:yM,M:bM,p:A,q:mM,Q:EM,s:SM,S:xM,u:hM,U:dM,V:pM,w:fM,W:gM,x:R,X:I,y:lh,Y:sh,Z:vM,"%":TM};y.x=x(t,y),y.X=x(r,y),y.c=x(n,y),w.x=x(t,w),w.X=x(r,w),w.c=x(n,w);function x(tt,at){return function(pt){var X=[],Tt=-1,gt=0,q=tt.length,Q,j,St;for(pt instanceof Date||(pt=new Date(+pt));++Tt<q;)tt.charCodeAt(Tt)===37&&(X.push(tt.slice(gt,Tt)),(j=oh[Q=tt.charAt(++Tt)])!=null?Q=tt.charAt(++Tt):j=Q==="e"?" ":"0",(St=at[Q])&&(Q=St(pt,j)),X.push(Q),gt=Tt+1);return X.push(tt.slice(gt,Tt)),X.join("")}}function M(tt,at){return function(pt){var X=pi(1900,void 0,1),Tt=S(X,tt,pt+="",0),gt,q;if(Tt!=pt.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(at&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(gt=Ns(pi(X.y,0,1)),q=gt.getUTCDay(),gt=q>4||q===0?vu.ceil(gt):vu(gt),gt=wc.offset(gt,(X.V-1)*7),X.y=gt.getUTCFullYear(),X.m=gt.getUTCMonth(),X.d=gt.getUTCDate()+(X.w+6)%7):(gt=Is(pi(X.y,0,1)),q=gt.getDay(),gt=q>4||q===0?gu.ceil(gt):gu(gt),gt=ts.offset(gt,(X.V-1)*7),X.y=gt.getFullYear(),X.m=gt.getMonth(),X.d=gt.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),q="Z"in X?Ns(pi(X.y,0,1)).getUTCDay():Is(pi(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(q+5)%7:X.w+X.U*7-(q+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Ns(X)):Is(X)}}function S(tt,at,pt,X){for(var Tt=0,gt=at.length,q=pt.length,Q,j;Tt<gt;){if(X>=q)return-1;if(Q=at.charCodeAt(Tt++),Q===37){if(Q=at.charAt(Tt++),j=O[Q in oh?at.charAt(Tt++):Q],!j||(X=j(tt,pt,X))<0)return-1}else if(Q!=pt.charCodeAt(X++))return-1}return X}function A(tt,at,pt){var X=u.exec(at.slice(pt));return X?(tt.p=c.get(X[0].toLowerCase()),pt+X[0].length):-1}function k(tt,at,pt){var X=p.exec(at.slice(pt));return X?(tt.w=d.get(X[0].toLowerCase()),pt+X[0].length):-1}function E(tt,at,pt){var X=h.exec(at.slice(pt));return X?(tt.w=f.get(X[0].toLowerCase()),pt+X[0].length):-1}function P(tt,at,pt){var X=b.exec(at.slice(pt));return X?(tt.m=m.get(X[0].toLowerCase()),pt+X[0].length):-1}function B(tt,at,pt){var X=g.exec(at.slice(pt));return X?(tt.m=v.get(X[0].toLowerCase()),pt+X[0].length):-1}function N(tt,at,pt){return S(tt,n,at,pt)}function R(tt,at,pt){return S(tt,t,at,pt)}function I(tt,at,pt){return S(tt,r,at,pt)}function F(tt){return o[tt.getDay()]}function G(tt){return a[tt.getDay()]}function L(tt){return l[tt.getMonth()]}function z(tt){return s[tt.getMonth()]}function $(tt){return i[+(tt.getHours()>=12)]}function W(tt){return 1+~~(tt.getMonth()/3)}function et(tt){return o[tt.getUTCDay()]}function ut(tt){return a[tt.getUTCDay()]}function nt(tt){return l[tt.getUTCMonth()]}function ot(tt){return s[tt.getUTCMonth()]}function it(tt){return i[+(tt.getUTCHours()>=12)]}function Z(tt){return 1+~~(tt.getUTCMonth()/3)}return{format:function(tt){var at=x(tt+="",y);return at.toString=function(){return tt},at},parse:function(tt){var at=M(tt+="",!1);return at.toString=function(){return tt},at},utcFormat:function(tt){var at=x(tt+="",w);return at.toString=function(){return tt},at},utcParse:function(tt){var at=M(tt+="",!0);return at.toString=function(){return tt},at}}}var oh={"-":"",_:" ","0":"0"},ue=/^\s*\d+/,lM=/^%/,uM=/[\\^$*+?|[\]().{}]/g;function Pt(e,n,t){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(n)+i:i)}function cM(e){return e.replace(uM,"\\$&")}function gi(e){return new RegExp("^(?:"+e.map(cM).join("|")+")","i")}function vi(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function fM(e,n,t){var r=ue.exec(n.slice(t,t+1));return r?(e.w=+r[0],t+r[0].length):-1}function hM(e,n,t){var r=ue.exec(n.slice(t,t+1));return r?(e.u=+r[0],t+r[0].length):-1}function dM(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.U=+r[0],t+r[0].length):-1}function pM(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.V=+r[0],t+r[0].length):-1}function gM(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.W=+r[0],t+r[0].length):-1}function sh(e,n,t){var r=ue.exec(n.slice(t,t+4));return r?(e.y=+r[0],t+r[0].length):-1}function lh(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function vM(e,n,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function mM(e,n,t){var r=ue.exec(n.slice(t,t+1));return r?(e.q=r[0]*3-3,t+r[0].length):-1}function yM(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.m=r[0]-1,t+r[0].length):-1}function uh(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.d=+r[0],t+r[0].length):-1}function _M(e,n,t){var r=ue.exec(n.slice(t,t+3));return r?(e.m=0,e.d=+r[0],t+r[0].length):-1}function ch(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.H=+r[0],t+r[0].length):-1}function bM(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.M=+r[0],t+r[0].length):-1}function xM(e,n,t){var r=ue.exec(n.slice(t,t+2));return r?(e.S=+r[0],t+r[0].length):-1}function OM(e,n,t){var r=ue.exec(n.slice(t,t+3));return r?(e.L=+r[0],t+r[0].length):-1}function wM(e,n,t){var r=ue.exec(n.slice(t,t+6));return r?(e.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function TM(e,n,t){var r=lM.exec(n.slice(t,t+1));return r?t+r[0].length:-1}function EM(e,n,t){var r=ue.exec(n.slice(t));return r?(e.Q=+r[0],t+r[0].length):-1}function SM(e,n,t){var r=ue.exec(n.slice(t));return r?(e.s=+r[0],t+r[0].length):-1}function fh(e,n){return Pt(e.getDate(),n,2)}function MM(e,n){return Pt(e.getHours(),n,2)}function CM(e,n){return Pt(e.getHours()%12||12,n,2)}function AM(e,n){return Pt(1+ts.count(gr(e),e),n,3)}function kg(e,n){return Pt(e.getMilliseconds(),n,3)}function DM(e,n){return kg(e,n)+"000"}function PM(e,n){return Pt(e.getMonth()+1,n,2)}function LM(e,n){return Pt(e.getMinutes(),n,2)}function kM(e,n){return Pt(e.getSeconds(),n,2)}function RM(e){var n=e.getDay();return n===0?7:n}function IM(e,n){return Pt(Oc.count(gr(e)-1,e),n,2)}function Rg(e){var n=e.getDay();return n>=4||n===0?Xi(e):Xi.ceil(e)}function NM(e,n){return e=Rg(e),Pt(Xi.count(gr(e),e)+(gr(e).getDay()===4),n,2)}function BM(e){return e.getDay()}function FM(e,n){return Pt(gu.count(gr(e)-1,e),n,2)}function UM(e,n){return Pt(e.getFullYear()%100,n,2)}function HM(e,n){return e=Rg(e),Pt(e.getFullYear()%100,n,2)}function VM(e,n){return Pt(e.getFullYear()%1e4,n,4)}function GM(e,n){var t=e.getDay();return e=t>=4||t===0?Xi(e):Xi.ceil(e),Pt(e.getFullYear()%1e4,n,4)}function zM(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Pt(n/60|0,"0",2)+Pt(n%60,"0",2)}function hh(e,n){return Pt(e.getUTCDate(),n,2)}function jM(e,n){return Pt(e.getUTCHours(),n,2)}function WM(e,n){return Pt(e.getUTCHours()%12||12,n,2)}function $M(e,n){return Pt(1+wc.count(ni(e),e),n,3)}function Ig(e,n){return Pt(e.getUTCMilliseconds(),n,3)}function YM(e,n){return Ig(e,n)+"000"}function qM(e,n){return Pt(e.getUTCMonth()+1,n,2)}function XM(e,n){return Pt(e.getUTCMinutes(),n,2)}function ZM(e,n){return Pt(e.getUTCSeconds(),n,2)}function KM(e){var n=e.getUTCDay();return n===0?7:n}function QM(e,n){return Pt(Dg.count(ni(e)-1,e),n,2)}function Ng(e){var n=e.getUTCDay();return n>=4||n===0?Zi(e):Zi.ceil(e)}function JM(e,n){return e=Ng(e),Pt(Zi.count(ni(e),e)+(ni(e).getUTCDay()===4),n,2)}function tC(e){return e.getUTCDay()}function eC(e,n){return Pt(vu.count(ni(e)-1,e),n,2)}function nC(e,n){return Pt(e.getUTCFullYear()%100,n,2)}function rC(e,n){return e=Ng(e),Pt(e.getUTCFullYear()%100,n,2)}function iC(e,n){return Pt(e.getUTCFullYear()%1e4,n,4)}function aC(e,n){var t=e.getUTCDay();return e=t>=4||t===0?Zi(e):Zi.ceil(e),Pt(e.getUTCFullYear()%1e4,n,4)}function oC(){return"+0000"}function dh(){return"%"}function ph(e){return+e}function gh(e){return Math.floor(+e/1e3)}var Bs,Bg;sC({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sC(e){return Bs=sM(e),Bg=Bs.format,Bs}function lC(e){return new Date(e)}function uC(e){return e instanceof Date?+e:+new Date(+e)}function Fg(e,n,t,r,i,a,o,s,l,u){var c=_g(),h=c.invert,f=c.domain,p=u(".%L"),d=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),m=u("%b %d"),y=u("%B"),w=u("%Y");function O(x){return(l(x)<x?p:s(x)<x?d:o(x)<x?g:a(x)<x?v:r(x)<x?i(x)<x?b:m:t(x)<x?y:w)(x)}return c.invert=function(x){return new Date(h(x))},c.domain=function(x){return arguments.length?f(Array.from(x,uC)):f().map(lC)},c.ticks=function(x){var M=f();return e(M[0],M[M.length-1],x==null?10:x)},c.tickFormat=function(x,M){return M==null?O:u(M)},c.nice=function(x){var M=f();return(!x||typeof x.range!="function")&&(x=n(M[0],M[M.length-1],x==null?10:x)),x?f(wg(M,x)):c},c.copy=function(){return yc(c,Fg(e,n,t,r,i,a,o,s,l,u))},c}function Ug(){return si.apply(Fg(aM,oM,gr,Cg,Oc,ts,Mg,Sg,wi,Bg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const mu=Math.PI,yu=2*mu,tr=1e-6,cC=yu-tr;function _u(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function da(){return new _u}_u.prototype=da.prototype={constructor:_u,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,t,r){this._+="Q"+ +e+","+ +n+","+(this._x1=+t)+","+(this._y1=+r)},bezierCurveTo:function(e,n,t,r,i,a){this._+="C"+ +e+","+ +n+","+ +t+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,n,t,r,i){e=+e,n=+n,t=+t,r=+r,i=+i;var a=this._x1,o=this._y1,s=t-e,l=r-n,u=a-e,c=o-n,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(h>tr)if(!(Math.abs(c*s-l*u)>tr)||!i)this._+="L"+(this._x1=e)+","+(this._y1=n);else{var f=t-a,p=r-o,d=s*s+l*l,g=f*f+p*p,v=Math.sqrt(d),b=Math.sqrt(h),m=i*Math.tan((mu-Math.acos((d+h-g)/(2*v*b)))/2),y=m/b,w=m/v;Math.abs(y-1)>tr&&(this._+="L"+(e+y*u)+","+(n+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*p)+","+(this._x1=e+w*s)+","+(this._y1=n+w*l)}},arc:function(e,n,t,r,i,a){e=+e,n=+n,t=+t,a=!!a;var o=t*Math.cos(r),s=t*Math.sin(r),l=e+o,u=n+s,c=1^a,h=a?r-i:i-r;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>tr||Math.abs(this._y1-u)>tr)&&(this._+="L"+l+","+u),t&&(h<0&&(h=h%yu+yu),h>cC?this._+="A"+t+","+t+",0,1,"+c+","+(e-o)+","+(n-s)+"A"+t+","+t+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>tr&&(this._+="A"+t+","+t+",0,"+ +(h>=mu)+","+c+","+(this._x1=e+t*Math.cos(i))+","+(this._y1=n+t*Math.sin(i))))},rect:function(e,n,t,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +t+"v"+ +r+"h"+-t+"Z"},toString:function(){return this._}};function wt(e){return function(){return e}}const vh=Math.abs,ve=Math.atan2,Kn=Math.cos,fC=Math.max,Fs=Math.min,an=Math.sin,Nr=Math.sqrt,_e=1e-12,Ki=Math.PI,bo=Ki/2,Ga=2*Ki;function hC(e){return e>1?0:e<-1?Ki:Math.acos(e)}function mh(e){return e>=1?bo:e<=-1?-bo:Math.asin(e)}function dC(e){return e.innerRadius}function pC(e){return e.outerRadius}function gC(e){return e.startAngle}function vC(e){return e.endAngle}function mC(e){return e&&e.padAngle}function yC(e,n,t,r,i,a,o,s){var l=t-e,u=r-n,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<_e))return f=(c*(n-a)-h*(e-i))/f,[e+f*l,n+f*u]}function La(e,n,t,r,i,a,o){var s=e-t,l=n-r,u=(o?a:-a)/Nr(s*s+l*l),c=u*l,h=-u*s,f=e+c,p=n+h,d=t+c,g=r+h,v=(f+d)/2,b=(p+g)/2,m=d-f,y=g-p,w=m*m+y*y,O=i-a,x=f*g-d*p,M=(y<0?-1:1)*Nr(fC(0,O*O*w-x*x)),S=(x*y-m*M)/w,A=(-x*m-y*M)/w,k=(x*y+m*M)/w,E=(-x*m+y*M)/w,P=S-v,B=A-b,N=k-v,R=E-b;return P*P+B*B>N*N+R*R&&(S=k,A=E),{cx:S,cy:A,x01:-c,y01:-h,x11:S*(i/O-1),y11:A*(i/O-1)}}function Qi(){var e=dC,n=pC,t=wt(0),r=null,i=gC,a=vC,o=mC,s=null;function l(){var u,c,h=+e.apply(this,arguments),f=+n.apply(this,arguments),p=i.apply(this,arguments)-bo,d=a.apply(this,arguments)-bo,g=vh(d-p),v=d>p;if(s||(s=u=da()),f<h&&(c=f,f=h,h=c),!(f>_e))s.moveTo(0,0);else if(g>Ga-_e)s.moveTo(f*Kn(p),f*an(p)),s.arc(0,0,f,p,d,!v),h>_e&&(s.moveTo(h*Kn(d),h*an(d)),s.arc(0,0,h,d,p,v));else{var b=p,m=d,y=p,w=d,O=g,x=g,M=o.apply(this,arguments)/2,S=M>_e&&(r?+r.apply(this,arguments):Nr(h*h+f*f)),A=Fs(vh(f-h)/2,+t.apply(this,arguments)),k=A,E=A,P,B;if(S>_e){var N=mh(S/h*an(M)),R=mh(S/f*an(M));(O-=N*2)>_e?(N*=v?1:-1,y+=N,w-=N):(O=0,y=w=(p+d)/2),(x-=R*2)>_e?(R*=v?1:-1,b+=R,m-=R):(x=0,b=m=(p+d)/2)}var I=f*Kn(b),F=f*an(b),G=h*Kn(w),L=h*an(w);if(A>_e){var z=f*Kn(m),$=f*an(m),W=h*Kn(y),et=h*an(y),ut;if(g<Ki&&(ut=yC(I,F,W,et,z,$,G,L))){var nt=I-ut[0],ot=F-ut[1],it=z-ut[0],Z=$-ut[1],tt=1/an(hC((nt*it+ot*Z)/(Nr(nt*nt+ot*ot)*Nr(it*it+Z*Z)))/2),at=Nr(ut[0]*ut[0]+ut[1]*ut[1]);k=Fs(A,(h-at)/(tt-1)),E=Fs(A,(f-at)/(tt+1))}}x>_e?E>_e?(P=La(W,et,I,F,f,E,v),B=La(z,$,G,L,f,E,v),s.moveTo(P.cx+P.x01,P.cy+P.y01),E<A?s.arc(P.cx,P.cy,E,ve(P.y01,P.x01),ve(B.y01,B.x01),!v):(s.arc(P.cx,P.cy,E,ve(P.y01,P.x01),ve(P.y11,P.x11),!v),s.arc(0,0,f,ve(P.cy+P.y11,P.cx+P.x11),ve(B.cy+B.y11,B.cx+B.x11),!v),s.arc(B.cx,B.cy,E,ve(B.y11,B.x11),ve(B.y01,B.x01),!v))):(s.moveTo(I,F),s.arc(0,0,f,b,m,!v)):s.moveTo(I,F),!(h>_e)||!(O>_e)?s.lineTo(G,L):k>_e?(P=La(G,L,z,$,h,-k,v),B=La(I,F,W,et,h,-k,v),s.lineTo(P.cx+P.x01,P.cy+P.y01),k<A?s.arc(P.cx,P.cy,k,ve(P.y01,P.x01),ve(B.y01,B.x01),!v):(s.arc(P.cx,P.cy,k,ve(P.y01,P.x01),ve(P.y11,P.x11),!v),s.arc(0,0,h,ve(P.cy+P.y11,P.cx+P.x11),ve(B.cy+B.y11,B.cx+B.x11),v),s.arc(B.cx,B.cy,k,ve(B.y11,B.x11),ve(B.y01,B.x01),!v))):s.arc(0,0,h,w,y,v)}if(s.closePath(),u)return s=null,u+""||null}return l.centroid=function(){var u=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ki/2;return[Kn(c)*u,an(c)*u]},l.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:wt(+u),l):e},l.outerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:wt(+u),l):n},l.cornerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),l):t},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:wt(+u),l):r},l.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:wt(+u),l):i},l.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:wt(+u),l):a},l.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:wt(+u),l):o},l.context=function(u){return arguments.length?(s=u==null?null:u,l):s},l}var _C=Array.prototype.slice;function es(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hg(e){this._context=e}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function ns(e){return new Hg(e)}function Tc(e){return e[0]}function Ec(e){return e[1]}function rs(e,n){var t=wt(!0),r=null,i=ns,a=null;e=typeof e=="function"?e:e===void 0?Tc:wt(e),n=typeof n=="function"?n:n===void 0?Ec:wt(n);function o(s){var l,u=(s=es(s)).length,c,h=!1,f;for(r==null&&(a=i(f=da())),l=0;l<=u;++l)!(l<u&&t(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+n(c,l,s));if(f)return a=null,f+""||null}return o.x=function(s){return arguments.length?(e=typeof s=="function"?s:wt(+s),o):e},o.y=function(s){return arguments.length?(n=typeof s=="function"?s:wt(+s),o):n},o.defined=function(s){return arguments.length?(t=typeof s=="function"?s:wt(!!s),o):t},o.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),o):i},o.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),o):r},o}function Sc(e,n,t){var r=null,i=wt(!0),a=null,o=ns,s=null;e=typeof e=="function"?e:e===void 0?Tc:wt(+e),n=typeof n=="function"?n:wt(n===void 0?0:+n),t=typeof t=="function"?t:t===void 0?Ec:wt(+t);function l(c){var h,f,p,d=(c=es(c)).length,g,v=!1,b,m=new Array(d),y=new Array(d);for(a==null&&(s=o(b=da())),h=0;h<=d;++h){if(!(h<d&&i(g=c[h],h,c))===v)if(v=!v)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=f;--p)s.point(m[p],y[p]);s.lineEnd(),s.areaEnd()}v&&(m[h]=+e(g,h,c),y[h]=+n(g,h,c),s.point(r?+r(g,h,c):m[h],t?+t(g,h,c):y[h]))}if(b)return s=null,b+""||null}function u(){return rs().defined(i).curve(o).context(a)}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),r=null,l):e},l.x0=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),l):e},l.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:wt(+c),l):r},l.y=function(c){return arguments.length?(n=typeof c=="function"?c:wt(+c),t=null,l):n},l.y0=function(c){return arguments.length?(n=typeof c=="function"?c:wt(+c),l):n},l.y1=function(c){return arguments.length?(t=c==null?null:typeof c=="function"?c:wt(+c),l):t},l.lineX0=l.lineY0=function(){return u().x(e).y(n)},l.lineY1=function(){return u().x(e).y(t)},l.lineX1=function(){return u().x(r).y(n)},l.defined=function(c){return arguments.length?(i=typeof c=="function"?c:wt(!!c),l):i},l.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),l):o},l.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),l):a},l}function bC(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function xC(e){return e}function OC(){var e=xC,n=bC,t=null,r=wt(0),i=wt(Ga),a=wt(0);function o(s){var l,u=(s=es(s)).length,c,h,f=0,p=new Array(u),d=new Array(u),g=+r.apply(this,arguments),v=Math.min(Ga,Math.max(-Ga,i.apply(this,arguments)-g)),b,m=Math.min(Math.abs(v)/u,a.apply(this,arguments)),y=m*(v<0?-1:1),w;for(l=0;l<u;++l)(w=d[p[l]=l]=+e(s[l],l,s))>0&&(f+=w);for(n!=null?p.sort(function(O,x){return n(d[O],d[x])}):t!=null&&p.sort(function(O,x){return t(s[O],s[x])}),l=0,h=f?(v-u*y)/f:0;l<u;++l,g=b)c=p[l],w=d[c],b=g+(w>0?w*h:0)+y,d[c]={data:s[c],index:l,value:w,startAngle:g,endAngle:b,padAngle:m};return d}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:wt(+s),o):e},o.sortValues=function(s){return arguments.length?(n=s,t=null,o):n},o.sort=function(s){return arguments.length?(t=s,n=null,o):t},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:wt(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:wt(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:wt(+s),o):a},o}var wC=Gg(ns);function Vg(e){this._curve=e}Vg.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,n){this._curve.point(n*Math.sin(e),n*-Math.cos(e))}};function Gg(e){function n(t){return new Vg(e(t))}return n._curve=e,n}function TC(e){var n=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(t){return arguments.length?n(Gg(t)):n()._curve},e}function EC(){return TC(rs().curve(wC))}class SC{constructor(n,t){this._context=n,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,t){switch(n=+n,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,t,n,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,n,this._y0,n,t);break}}this._x0=n,this._y0=t}}function MC(e){return new SC(e,!0)}function CC(e){return e.source}function AC(e){return e.target}function DC(e){let n=CC,t=AC,r=Tc,i=Ec,a=null,o=null;function s(){let l;const u=_C.call(arguments),c=n.apply(this,u),h=t.apply(this,u);if(a==null&&(o=e(l=da())),o.lineStart(),u[0]=c,o.point(+r.apply(this,u),+i.apply(this,u)),u[0]=h,o.point(+r.apply(this,u),+i.apply(this,u)),o.lineEnd(),l)return o=null,l+""||null}return s.source=function(l){return arguments.length?(n=l,s):n},s.target=function(l){return arguments.length?(t=l,s):t},s.x=function(l){return arguments.length?(r=typeof l=="function"?l:wt(+l),s):r},s.y=function(l){return arguments.length?(i=typeof l=="function"?l:wt(+l),s):i},s.context=function(l){return arguments.length?(l==null?a=o=null:o=e(a=l),s):a},s}function PC(){return DC(MC)}function Wn(){}function xo(e,n,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+t)/6)}function is(e){this._context=e}is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xo(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function LC(e){return new is(e)}function zg(e){this._context=e}zg.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x2=e,this._y2=n;break;case 1:this._point=2,this._x3=e,this._y3=n;break;case 2:this._point=3,this._x4=e,this._y4=n,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+n)/6);break;default:xo(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function kC(e){return new zg(e)}function jg(e){this._context=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:xo(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function RC(e){return new jg(e)}function Wg(e,n){this._basis=new is(e),this._beta=n}Wg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,n=this._y,t=e.length-1;if(t>0)for(var r=e[0],i=n[0],a=e[t]-r,o=n[t]-i,s=-1,l;++s<=t;)l=s/t,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*a),this._beta*n[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,n){this._x.push(+e),this._y.push(+n)}};var IC=function e(n){function t(r){return n===1?new is(r):new Wg(r,n)}return t.beta=function(r){return e(+r)},t}(.85);function Oo(e,n,t){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-n),e._y2+e._k*(e._y1-t),e._x2,e._y2)}function Mc(e,n){this._context=e,this._k=(1-n)/6}Mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Oo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2,this._x1=e,this._y1=n;break;case 2:this._point=3;default:Oo(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var NC=function e(n){function t(r){return new Mc(r,n)}return t.tension=function(r){return e(+r)},t}(0);function Cc(e,n){this._context=e,this._k=(1-n)/6}Cc.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x3=e,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=n);break;case 2:this._point=3,this._x5=e,this._y5=n;break;default:Oo(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var BC=function e(n){function t(r){return new Cc(r,n)}return t.tension=function(r){return e(+r)},t}(0);function Ac(e,n){this._context=e,this._k=(1-n)/6}Ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oo(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var FC=function e(n){function t(r){return new Ac(r,n)}return t.tension=function(r){return e(+r)},t}(0);function Dc(e,n,t){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>_e){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>_e){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-n*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-t*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function $g(e,n){this._context=e,this._alpha=n}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){if(e=+e,n=+n,this._point){var t=this._x2-e,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Dc(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var UC=function e(n){function t(r){return n?new $g(r,n):new Mc(r,0)}return t.alpha=function(r){return e(+r)},t}(.5);function Yg(e,n){this._context=e,this._alpha=n}Yg.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,n){if(e=+e,n=+n,this._point){var t=this._x2-e,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=n);break;case 2:this._point=3,this._x5=e,this._y5=n;break;default:Dc(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var HC=function e(n){function t(r){return n?new Yg(r,n):new Cc(r,0)}return t.alpha=function(r){return e(+r)},t}(.5);function qg(e,n){this._context=e,this._alpha=n}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){if(e=+e,n=+n,this._point){var t=this._x2-e,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dc(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var VC=function e(n){function t(r){return n?new qg(r,n):new Ac(r,0)}return t.alpha=function(r){return e(+r)},t}(.5);function Xg(e){this._context=e}Xg.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function Zg(e){return new Xg(e)}function yh(e){return e<0?-1:1}function _h(e,n,t){var r=e._x1-e._x0,i=n-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(t-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(yh(a)+yh(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function bh(e,n){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-n)/2:n}function Us(e,n,t){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*n,a-s,o-s*t,a,o)}function wo(e){this._context=e}wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Us(this,this._t0,bh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var t=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,Us(this,bh(this,t=_h(this,e,n)),t);break;default:Us(this,this._t0,t=_h(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=t}}};function Kg(e){this._context=new Qg(e)}(Kg.prototype=Object.create(wo.prototype)).point=function(e,n){wo.prototype.point.call(this,n,e)};function Qg(e){this._context=e}Qg.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,t,r,i,a){this._context.bezierCurveTo(n,e,r,t,a,i)}};function GC(e){return new wo(e)}function zC(e){return new Kg(e)}function Jg(e){this._context=e}Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,t=e.length;if(t)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),t===2)this._context.lineTo(e[1],n[1]);else for(var r=xh(e),i=xh(n),a=0,o=1;o<t;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],n[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}};function xh(e){var n,t=e.length-1,r,i=new Array(t),a=new Array(t),o=new Array(t);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],n=1;n<t-1;++n)i[n]=1,a[n]=4,o[n]=4*e[n]+2*e[n+1];for(i[t-1]=2,a[t-1]=7,o[t-1]=8*e[t-1]+e[t],n=1;n<t;++n)r=i[n]/a[n-1],a[n]-=r,o[n]-=r*o[n-1];for(i[t-1]=o[t-1]/a[t-1],n=t-2;n>=0;--n)i[n]=(o[n]-i[n+1])/a[n];for(a[t-1]=(e[t]+i[t-1])/2,n=0;n<t-1;++n)a[n]=2*e[n+1]-i[n+1];return[i,a]}function jC(e){return new Jg(e)}function as(e,n){this._context=e,this._t=n}as.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,n)}break}}this._x=e,this._y=n}};function WC(e){return new as(e,.5)}function $C(e){return new as(e,0)}function YC(e){return new as(e,1)}function Oh(e,n){if((o=e.length)>1)for(var t=1,r,i,a=e[n[0]],o,s=a.length;t<o;++t)for(i=a,a=e[n[t]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wh(e){for(var n=e.length,t=new Array(n);--n>=0;)t[n]=n;return t}function qC(e,n){return e[n]}function XC(e){const n=[];return n.key=e,n}function Hs(){var e=wt([]),n=wh,t=Oh,r=qC;function i(a){var o=Array.from(e.apply(this,arguments),XC),s,l=o.length,u=-1,c;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,c=es(n(o));s<l;++s)o[c[s]].index=s;return t(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:wt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:wt(+a),i):r},i.order=function(a){return arguments.length?(n=a==null?wh:typeof a=="function"?a:wt(Array.from(a)),i):n},i.offset=function(a){return arguments.length?(t=a==null?Oh:a,i):t},i}function ZC(e,n){if((l=e.length)>0)for(var t,r=0,i,a,o,s,l,u=e[n[0]].length;r<u;++r)for(o=s=0,t=0;t<l;++t)(a=(i=e[n[t]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}var To=globalThis&&globalThis.__assign||function(){return To=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},To.apply(this,arguments)},Nn=function(){function e(n){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=n}return e.prototype.getAllDataFromDomain=function(n){if(!this.getData())return null;var t=this.getOptions(),r=this.getData(),i=this.getDataGroups(),a=_.getProperty(t,"data").groupMapsTo,o=_.getProperty(t,"axes");return n&&(r=r.filter(function(s){return n.includes(s[a])})),o&&Object.keys(o).forEach(function(s){var l=o[s].mapsTo,u=o[s].scaleType;if((u===st.LINEAR||u===st.LOG)&&(r=r.map(function(p){var d;return To(To({},p),(d={},d[l]=p[l]===null?p[l]:Number(p[l]),d))})),l&&o[s].domain)if(u===st.LABELS)r=r.filter(function(p){return o[s].domain.includes(p[l])});else{var c=o[s].domain,h=c[0],f=c[1];r=r.filter(function(p){return!(l in p)||p[l]>=h&&p[l]<=f})}}),r.filter(function(s){return i.find(function(l){return l.name===s[a]})})},e.prototype.getDisplayData=function(n){if(!this.get("data"))return null;var t=Qt.items.status.ACTIVE,r=this.getDataGroups(n),i=this.getOptions().data.groupMapsTo,a=this.getAllDataFromDomain(n);return a.filter(function(o){return r.find(function(s){return s.name===o[i]&&s.status===t})})},e.prototype.getData=function(){return this.get("data")},e.prototype.isDataEmpty=function(){return!this.getData().length},e.prototype.setData=function(n){var t=this.sanitize(_.clone(n)),r=this.generateDataGroups(t);return this.set({data:t,dataGroups:r}),t},e.prototype.getDataGroups=function(n){var t=_.getProperty(this.getOptions(),"data","loading");return t?[]:n?this.get("dataGroups").filter(function(r){return n.includes(r.name)}):this.get("dataGroups")},e.prototype.getActiveDataGroups=function(n){var t=Qt.items.status.ACTIVE;return this.getDataGroups(n).filter(function(r){return r.status===t})},e.prototype.getDataGroupNames=function(n){var t=this.getDataGroups(n);return t.map(function(r){return r.name})},e.prototype.getActiveDataGroupNames=function(n){var t=this.getActiveDataGroups(n);return t.map(function(r){return r.name})},e.prototype.aggregateBinDataByGroup=function(n){return _.groupBy(n,"group")},e.prototype.getBinConfigurations=function(){var n=this,t=this.getDisplayData(),r=this.getOptions(),i=this.services.cartesianScales.getMainXAxisPosition(),a=this.services.cartesianScales.getDomainIdentifier(),o=r.axes[i],s=r.data.groupMapsTo,l=o.bins,u=l===void 0?Fd.defaultBins:l,c=Array.isArray(u),h=XE().value(function(v){return v[a]}).thresholds(u)(t);if(c)h[h.length-1].x1=u[u.length-1];else{var f=h[0].x1-h[0].x0;h[h.length-1].x1=+h[h.length-1].x0+f}var p=c?[u[0],u[u.length-1]]:[h[0].x0,h[h.length-1].x1],d=Array.from(new Set(t.map(function(v){return v[s]}))),g=[];return h.forEach(function(v){var b=v.x0+"-"+v.x1,m=n.aggregateBinDataByGroup(v);d.forEach(function(y){g.push({group:y,key:b,value:m[y]||0,bin:v.x0})})}),{bins:h,binsDomain:p}},e.prototype.getBinnedStackedData=function(){var n=this.getOptions(),t=n.data.groupMapsTo,r=this.getActiveDataGroupNames(),i=this.getBinConfigurations().bins,a=this.getDataValuesGroupedByKeys({bins:i});return Hs().keys(r)(a).map(function(o,s){return Object.keys(o).filter(function(l){return!isNaN(l)}).map(function(l){var u=o[l];return u[t]=r[s],u})})},e.prototype.getGroupedData=function(n){var t=this.getDisplayData(n),r={},i=this.getOptions().data.groupMapsTo;return t.map(function(a){var o=a[i];r[o]!==null&&r[o]!==void 0?r[o].push(a):r[o]=[a]}),Object.keys(r).map(function(a){return{name:a,data:r[a]}})},e.prototype.getStackKeys=function(n){var t=this,r=n===void 0?{bins:null,groups:null}:n,i=r.bins,a=i===void 0?null:i,o=r.groups,s=o===void 0?null:o,l=this.getOptions(),u=this.getDisplayData(s),c;a?c=a.map(function(p){return p.x0+"-"+p.x1}):c=_.removeArrayDuplicates(u.map(function(p){var d=t.services.cartesianScales.getDomainIdentifier(p);return p[d]&&typeof p[d].toString=="function"?p[d].toString():p[d]}));var h=this.services.cartesianScales.domainAxisPosition,f=l.axes[h].scaleType;return f===st.TIME?c.sort(function(p,d){var g=new Date(p),v=new Date(d);return g-v}):(f===st.LOG||f===st.LINEAR)&&c.sort(function(p,d){return p-d}),c},e.prototype.getDataValuesGroupedByKeys=function(n){var t=this,r=n.bins,i=r===void 0?null:r,a=n.groups,o=a===void 0?null:a,s=this.getOptions(),l=s.data.groupMapsTo,u=this.getDisplayData(o),c=this.getDataGroupNames(),h=this.getStackKeys({bins:i,groups:o});return i?h.map(function(f){var p=f.split("-"),d=p[0],g=p[1],v={x0:d,x1:g},b=i.find(function(m){return m.x0.toString()===d.toString()});return c.forEach(function(m){v[m]=b.filter(function(y){return y[l]===m}).length}),v}):h.map(function(f){var p={sharedStackKey:f};return c.forEach(function(d){var g=u.find(function(b){var m=t.services.cartesianScales.getDomainIdentifier(b);return b[l]===d&&b.hasOwnProperty(m)&&b[m].toString()===f}),v=t.services.cartesianScales.getRangeIdentifier(p);p[d]=g?g[v]:null}),p})},e.prototype.getStackedData=function(n){var t=n.percentage,r=t===void 0?!1:t,i=n.groups,a=i===void 0?null:i,o=n.divergent,s=o===void 0?!1:o,l=this.getOptions(),u=l.data.groupMapsTo,c=this.getActiveDataGroupNames(a),h=this.getDataValuesGroupedByKeys({groups:a});if(r){var f=_.fromPairs(h.map(function(d){return[d.sharedStackKey,0]}));h.forEach(function(d){c.forEach(function(g){f[d.sharedStackKey]+=d[g]})}),h.forEach(function(d){c.forEach(function(g){f[d.sharedStackKey]?d[g]=d[g]/f[d.sharedStackKey]*100:d[g]=0})})}var p=s?Hs().offset(ZC):Hs();return p.keys(c)(h).map(function(d,g){return Object.keys(d).filter(function(v){return!isNaN(v)}).map(function(v){var b=d[v];return b[u]=c[g],b})})},e.prototype.getOptions=function(){return this.state.options},e.prototype.set=function(n,t){this.state=Object.assign({},this.state,n);var r=Object.assign({skipUpdate:!1,animate:!0},t);r.skipUpdate||this.update(r.animate)},e.prototype.get=function(n){return n?this.state[n]:this.state},e.prototype.setOptions=function(n){var t=this.getOptions();_.updateLegendAdditionalItems(t,n),this.set({options:_.merge(t,n)})},e.prototype.update=function(n){n===void 0&&(n=!0),this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(C.Model.UPDATE,{animate:n}))},e.prototype.toggleDataLabel=function(n){var t=Qt.items.status,r=t.ACTIVE,i=t.DISABLED,a=this.getDataGroups(),o=a.some(function(f){return f.status===i}),s=a.filter(function(f){return f.status===r});if(o)if(s.length===1&&s[0].name===n)a.forEach(function(f,p){a[p].status=r});else{var l=a.findIndex(function(f){return f.name===n});a[l].status=a[l].status===i?r:i}else a.forEach(function(f,p){a[p].status=f.name===n?r:i});var u=a.filter(function(f){return f.status===r}),c=this.getOptions(),h=a.some(function(f){return f.status===i});h?c.data.selectedGroups=u.map(function(f){return f.name}):c.data.selectedGroups=[],this.services.events.dispatchEvent(C.Legend.ITEMS_UPDATE,{dataGroups:a}),this.set({dataGroups:a})},e.prototype.getIsFilled=function(n,t,r,i){var a=this.getOptions();return a.getIsFilled?a.getIsFilled(n,t,r,i):i},e.prototype.getFillColor=function(n,t,r){var i=this.getOptions(),a=_.getProperty(this.colorScale,n);return i.getFillColor?i.getFillColor(n,t,r,a):a},e.prototype.getStrokeColor=function(n,t,r){var i=this.getOptions(),a=_.getProperty(this.colorScale,n);return i.getStrokeColor?i.getStrokeColor(n,t,r,a):a},e.prototype.isUserProvidedColorScaleValid=function(){var n=_.getProperty(this.getOptions(),"color","scale"),t=this.getDataGroups();return n==null||Object.keys(n).length==0?!1:t.some(function(r){return Object.keys(n).includes(r.name)})},e.prototype.getColorClassName=function(n){var t=this.colorClassNames(n.dataGroupName),r=n.originalClassName;return n.classNameTypes.forEach(function(i){return r=n.originalClassName?r+" "+i+"-"+t:i+"-"+t}),r},e.prototype.getStatus=function(){return null},e.prototype.getAllDataGroupsNames=function(){return this.allDataGroups},e.prototype.transformToTabularData=function(n){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var t=[],r=n.datasets,i=n.labels;return r.forEach(function(a){a.data.forEach(function(o,s){var l,u=_.getProperty(a,"label");if(u===null){var c=_.getProperty(i,s);c?l=c:l="Ungrouped"}else l=u;var h={group:l,key:i[s]};isNaN(o)?(h.value=o.value,h.date=o.date):h.value=o,t.push(h)})}),t},e.prototype.getTabularDataArray=function(){return[]},e.prototype.exportToCSV=function(){var n=this.getTabularDataArray().map(function(i){return i.map(function(a){return'"'+a+'"'})}),t="",r="";n.forEach(function(i,a){r=i.join(","),t+=a<n.length?r+`
`:r}),this.services.files.downloadCSV(t,"myChart.csv")},e.prototype.getTabularData=function(n){return Array.isArray(n)?n:this.transformToTabularData(n)},e.prototype.sanitize=function(n){return n=this.getTabularData(n),n},e.prototype.updateAllDataGroups=function(){var n=this;this.allDataGroups?this.getDataGroupNames().forEach(function(t){n.allDataGroups.indexOf(t)===-1&&n.allDataGroups.push(t)}):this.allDataGroups=this.getDataGroupNames()},e.prototype.generateDataGroups=function(n){var t=this.getOptions().data.groupMapsTo,r=Qt.items.status,i=r.ACTIVE,a=r.DISABLED,o=this.getOptions(),s=_.removeArrayDuplicates(n.map(function(c){return c[t]}));if(o.data.selectedGroups.length){var l=o.data.selectedGroups.every(function(c){return s.includes(c)});l||(o.data.selectedGroups=[])}var u=function(c){return!o.data.selectedGroups.length||o.data.selectedGroups.includes(c)?i:a};return s.map(function(c){return{name:c,status:u(c)}})},e.prototype.setCustomColorScale=function(){var n=this;if(!!this.isUserProvidedColorScaleValid()){var t=this.getOptions(),r=_.getProperty(t,"color","scale");Object.keys(r).forEach(function(a){n.allDataGroups.includes(a)||console.warn('"'+a+'" does not exist in data groups.')});var i=this.allDataGroups.filter(function(a){return r[a]});i.forEach(function(a){return n.colorScale[a]=r[a]})}},e.prototype.setColorClassNames=function(){var n=_.getProperty(this.getOptions(),"color","pairing"),t=_.getProperty(n,"numberOfVariants");(!t||t<this.allDataGroups.length)&&(t=this.allDataGroups.length);var r=_.getProperty(n,"option"),i=Xu.pairingOptions,a=t>5?14:t;r=r<=i[a+"-color"]?r:1;var o=this.allDataGroups.map(function(s,l){return a+"-"+r+"-"+(l%14+1)});this.colorClassNames=Jo().range(o).domain(this.allDataGroups)},e}(),Bn=function(){function e(n,t){this.model=n,this.services=t,this.init()}return e.prototype.init=function(){},e.prototype.update=function(){},e.prototype.setModel=function(n){this.model=n},e.prototype.setServices=function(n){this.services=n},e}(),KC={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},QC=KC,he=QC,tv=function(){if(typeof Map!="undefined")return Map;function e(n,t){var r=-1;return n.some(function(i,a){return i[0]===t?(r=a,!0):!1}),r}return function(){function n(){this.__entries__=[]}var t={size:{configurable:!0}};return t.size.get=function(){return this.__entries__.length},n.prototype.get=function(r){var i=e(this.__entries__,r),a=this.__entries__[i];return a&&a[1]},n.prototype.set=function(r,i){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=i:this.__entries__.push([r,i])},n.prototype.delete=function(r){var i=this.__entries__,a=e(i,r);~a&&i.splice(a,1)},n.prototype.has=function(r){return!!~e(this.__entries__,r)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(r,i){var a=this;i===void 0&&(i=null);for(var o=0,s=a.__entries__;o<s.length;o+=1){var l=s[o];r.call(i,l[1],l[0])}},Object.defineProperties(n.prototype,t),n}()}(),Pc=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Eo=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),JC=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Eo):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),tA=2,eA=function(e,n){var t=!1,r=!1,i=0;function a(){t&&(t=!1,e()),r&&s()}function o(){JC(a)}function s(){var l=Date.now();if(t){if(l-i<tA)return;r=!0}else t=!0,r=!1,setTimeout(o,n);i=l}return s},nA=20,rA=["top","right","bottom","left","width","height","size","weight"],iA=typeof MutationObserver!="undefined",Qe=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=eA(this.refresh.bind(this),nA)};Qe.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()};Qe.prototype.removeObserver=function(e){var n=this.observers_,t=n.indexOf(e);~t&&n.splice(t,1),!n.length&&this.connected_&&this.disconnect_()};Qe.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()};Qe.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0};Qe.prototype.connect_=function(){!Pc||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),iA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};Qe.prototype.disconnect_=function(){!Pc||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};Qe.prototype.onTransitionEnd_=function(e){var n=e.propertyName;n===void 0&&(n="");var t=rA.some(function(r){return!!~n.indexOf(r)});t&&this.refresh()};Qe.getInstance=function(){return this.instance_||(this.instance_=new Qe),this.instance_};Qe.instance_=null;var ev=function(e,n){for(var t=0,r=Object.keys(n);t<r.length;t+=1){var i=r[t];Object.defineProperty(e,i,{value:n[i],enumerable:!1,writable:!1,configurable:!0})}return e},ri=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||Eo},nv=os(0,0,0,0);function So(e){return parseFloat(e)||0}function Th(e){for(var n=[],t=arguments.length-1;t-- >0;)n[t]=arguments[t+1];return n.reduce(function(r,i){var a=e["border-"+i+"-width"];return r+So(a)},0)}function aA(e){for(var n=["top","right","bottom","left"],t={},r=0,i=n;r<i.length;r+=1){var a=i[r],o=e["padding-"+a];t[a]=So(o)}return t}function oA(e){var n=e.getBBox();return os(0,0,n.width,n.height)}function sA(e){var n=e.clientWidth,t=e.clientHeight;if(!n&&!t)return nv;var r=ri(e).getComputedStyle(e),i=aA(r),a=i.left+i.right,o=i.top+i.bottom,s=So(r.width),l=So(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+a)!==n&&(s-=Th(r,"left","right")+a),Math.round(l+o)!==t&&(l-=Th(r,"top","bottom")+o)),!uA(e)){var u=Math.round(s+a)-n,c=Math.round(l+o)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return os(i.left,i.top,s,l)}var lA=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof ri(e).SVGGraphicsElement}:function(e){return e instanceof ri(e).SVGElement&&typeof e.getBBox=="function"}}();function uA(e){return e===ri(e).document.documentElement}function cA(e){return Pc?lA(e)?oA(e):sA(e):nv}function fA(e){var n=e.x,t=e.y,r=e.width,i=e.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return ev(o,{x:n,y:t,width:r,height:i,top:t,right:n+r,bottom:i+t,left:n}),o}function os(e,n,t,r){return{x:e,y:n,width:t,height:r}}var Lc=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=os(0,0,0,0),this.target=e};Lc.prototype.isActive=function(){var e=cA(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight};Lc.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var hA=function(e,n){var t=fA(n);ev(this,{target:e,contentRect:t})},Yn=function(e,n,t){if(this.activeObservations_=[],this.observations_=new tv,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=t};Yn.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof ri(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Lc(e)),this.controller_.addObserver(this),this.controller_.refresh())}};Yn.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof ri(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}};Yn.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};Yn.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})};Yn.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(t){return new hA(t.target,t.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}};Yn.prototype.clearActive=function(){this.activeObservations_.splice(0)};Yn.prototype.hasActive=function(){return this.activeObservations_.length>0};var rv=typeof WeakMap!="undefined"?new WeakMap:new tv,kc=function(e){if(!(this instanceof kc))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Qe.getInstance(),t=new Yn(e,n,this);rv.set(this,t)};["observe","unobserve","disconnect"].forEach(function(e){kc.prototype[e]=function(){return(n=rv.get(this))[e].apply(n,arguments);var n}});var dA=function(){return typeof Eo.ResizeObserver!="undefined"?Eo.ResizeObserver:kc}(),iv={exports:{}};(function(e){(function(n){var t=y(),r=w(),i=O(),a=x(),o={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:l,toPng:c,toJpeg:h,toBlob:f,toPixelData:u,impl:{fontFaces:i,images:a,util:t,inliner:r,options:{}}};e.exports=s;function l(M,S){return S=S||{},p(S),Promise.resolve(M).then(function(k){return g(k,S.filter,!0)}).then(v).then(b).then(A).then(function(k){return m(k,S.width||t.width(M),S.height||t.height(M))});function A(k){return S.bgcolor&&(k.style.backgroundColor=S.bgcolor),S.width&&(k.style.width=S.width+"px"),S.height&&(k.style.height=S.height+"px"),S.style&&Object.keys(S.style).forEach(function(E){k.style[E]=S.style[E]}),k}}function u(M,S){return d(M,S||{}).then(function(A){return A.getContext("2d").getImageData(0,0,t.width(M),t.height(M)).data})}function c(M,S){return d(M,S||{}).then(function(A){return A.toDataURL()})}function h(M,S){return S=S||{},d(M,S).then(function(A){return A.toDataURL("image/jpeg",S.quality||1)})}function f(M,S){return d(M,S||{}).then(t.canvasToBlob)}function p(M){typeof M.imagePlaceholder=="undefined"?s.impl.options.imagePlaceholder=o.imagePlaceholder:s.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust=="undefined"?s.impl.options.cacheBust=o.cacheBust:s.impl.options.cacheBust=M.cacheBust}function d(M,S){return l(M,S).then(t.makeImage).then(t.delay(100)).then(function(k){var E=A(M);return E.getContext("2d").drawImage(k,0,0),E});function A(k){var E=document.createElement("canvas");if(E.width=S.width||t.width(k),E.height=S.height||t.height(k),S.bgcolor){var P=E.getContext("2d");P.fillStyle=S.bgcolor,P.fillRect(0,0,E.width,E.height)}return E}}function g(M,S,A){if(!A&&S&&!S(M))return Promise.resolve();return Promise.resolve(M).then(k).then(function(B){return E(M,B,S)}).then(function(B){return P(M,B)});function k(B){return B instanceof HTMLCanvasElement?t.makeImage(B.toDataURL()):B.cloneNode(!1)}function E(B,N,R){var I=B.childNodes;if(I.length===0)return Promise.resolve(N);return F(N,t.asArray(I),R).then(function(){return N});function F(G,L,z){var $=Promise.resolve();return L.forEach(function(W){$=$.then(function(){return g(W,z)}).then(function(et){et&&G.appendChild(et)})}),$}}function P(B,N){if(!(N instanceof Element))return N;return Promise.resolve().then(R).then(I).then(F).then(G).then(function(){return N});function R(){L(window.getComputedStyle(B),N.style);function L(z,$){z.cssText?$.cssText=z.cssText:W(z,$);function W(et,ut){t.asArray(et).forEach(function(nt){ut.setProperty(nt,et.getPropertyValue(nt),et.getPropertyPriority(nt))})}}}function I(){[":before",":after"].forEach(function(z){L(z)});function L(z){var $=window.getComputedStyle(B,z),W=$.getPropertyValue("content");if(W===""||W==="none")return;var et=t.uid();N.className=N.className+" "+et;var ut=document.createElement("style");ut.appendChild(nt(et,z,$)),N.appendChild(ut);function nt(ot,it,Z){var tt="."+ot+":"+it,at=Z.cssText?pt(Z):X(Z);return document.createTextNode(tt+"{"+at+"}");function pt(Tt){var gt=Tt.getPropertyValue("content");return Tt.cssText+" content: "+gt+";"}function X(Tt){return t.asArray(Tt).map(gt).join("; ")+";";function gt(q){return q+": "+Tt.getPropertyValue(q)+(Tt.getPropertyPriority(q)?" !important":"")}}}}}function F(){B instanceof HTMLTextAreaElement&&(N.innerHTML=B.value),B instanceof HTMLInputElement&&N.setAttribute("value",B.value)}function G(){N instanceof SVGElement&&(N.setAttribute("xmlns","http://www.w3.org/2000/svg"),N instanceof SVGRectElement&&["width","height"].forEach(function(L){var z=N.getAttribute(L);!z||N.style.setProperty(L,z)}))}}}function v(M){return i.resolveAll().then(function(S){var A=document.createElement("style");return M.appendChild(A),A.appendChild(document.createTextNode(S)),M})}function b(M){return a.inlineAll(M).then(function(){return M})}function m(M,S,A){return Promise.resolve(M).then(function(k){return k.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(k)}).then(t.escapeXhtml).then(function(k){return'<foreignObject x="0" y="0" width="100%" height="100%">'+k+"</foreignObject>"}).then(function(k){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+S+'" height="'+A+'">'+k+"</svg>"}).then(function(k){return"data:image/svg+xml;charset=utf-8,"+k})}function y(){return{escape:G,parseExtension:S,mimeType:A,dataAsUrl:F,isDataUrl:k,canvasToBlob:P,resolveUrl:B,getAndEncode:I,uid:N(),delay:L,asArray:z,escapeXhtml:$,makeImage:R,width:W,height:et};function M(){var nt="application/font-woff",ot="image/jpeg";return{woff:nt,woff2:nt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ot,jpeg:ot,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function S(nt){var ot=/\.([^\.\/]*?)$/g.exec(nt);return ot?ot[1]:""}function A(nt){var ot=S(nt).toLowerCase();return M()[ot]||""}function k(nt){return nt.search(/^(data:)/)!==-1}function E(nt){return new Promise(function(ot){for(var it=window.atob(nt.toDataURL().split(",")[1]),Z=it.length,tt=new Uint8Array(Z),at=0;at<Z;at++)tt[at]=it.charCodeAt(at);ot(new Blob([tt],{type:"image/png"}))})}function P(nt){return nt.toBlob?new Promise(function(ot){nt.toBlob(ot)}):E(nt)}function B(nt,ot){var it=document.implementation.createHTMLDocument(),Z=it.createElement("base");it.head.appendChild(Z);var tt=it.createElement("a");return it.body.appendChild(tt),Z.href=ot,tt.href=nt,tt.href}function N(){var nt=0;return function(){return"u"+ot()+nt++;function ot(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function R(nt){return new Promise(function(ot,it){var Z=new Image;Z.onload=function(){ot(Z)},Z.onerror=it,Z.src=nt})}function I(nt){var ot=3e4;return s.impl.options.cacheBust&&(nt+=(/\?/.test(nt)?"&":"?")+new Date().getTime()),new Promise(function(it){var Z=new XMLHttpRequest;Z.onreadystatechange=pt,Z.ontimeout=X,Z.responseType="blob",Z.timeout=ot,Z.open("GET",nt,!0),Z.send();var tt;if(s.impl.options.imagePlaceholder){var at=s.impl.options.imagePlaceholder.split(/,/);at&&at[1]&&(tt=at[1])}function pt(){if(Z.readyState===4){if(Z.status!==200){tt?it(tt):Tt("cannot fetch resource: "+nt+", status: "+Z.status);return}var gt=new FileReader;gt.onloadend=function(){var q=gt.result.split(/,/)[1];it(q)},gt.readAsDataURL(Z.response)}}function X(){tt?it(tt):Tt("timeout of "+ot+"ms occured while fetching resource: "+nt)}function Tt(gt){console.error(gt),it("")}})}function F(nt,ot){return"data:"+ot+";base64,"+nt}function G(nt){return nt.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function L(nt){return function(ot){return new Promise(function(it){setTimeout(function(){it(ot)},nt)})}}function z(nt){for(var ot=[],it=nt.length,Z=0;Z<it;Z++)ot.push(nt[Z]);return ot}function $(nt){return nt.replace(/#/g,"%23").replace(/\n/g,"%0A")}function W(nt){var ot=ut(nt,"border-left-width"),it=ut(nt,"border-right-width");return nt.scrollWidth+ot+it}function et(nt){var ot=ut(nt,"border-top-width"),it=ut(nt,"border-bottom-width");return nt.scrollHeight+ot+it}function ut(nt,ot){var it=window.getComputedStyle(nt).getPropertyValue(ot);return parseFloat(it.replace("px",""))}}function w(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:E,shouldProcess:S,impl:{readUrls:A,inline:k}};function S(P){return P.search(M)!==-1}function A(P){for(var B=[],N;(N=M.exec(P))!==null;)B.push(N[1]);return B.filter(function(R){return!t.isDataUrl(R)})}function k(P,B,N,R){return Promise.resolve(B).then(function(F){return N?t.resolveUrl(F,N):F}).then(R||t.getAndEncode).then(function(F){return t.dataAsUrl(F,t.mimeType(B))}).then(function(F){return P.replace(I(B),"$1"+F+"$3")});function I(F){return new RegExp(`(url\\(['"]?)(`+t.escape(F)+`)(['"]?\\))`,"g")}}function E(P,B,N){if(R())return Promise.resolve(P);return Promise.resolve(P).then(A).then(function(I){var F=Promise.resolve(P);return I.forEach(function(G){F=F.then(function(L){return k(L,G,B,N)})}),F});function R(){return!S(P)}}}function O(){return{resolveAll:M,impl:{readAll:S}};function M(){return S().then(function(A){return Promise.all(A.map(function(k){return k.resolve()}))}).then(function(A){return A.join(`
`)})}function S(){return Promise.resolve(t.asArray(document.styleSheets)).then(k).then(A).then(function(P){return P.map(E)});function A(P){return P.filter(function(B){return B.type===CSSRule.FONT_FACE_RULE}).filter(function(B){return r.shouldProcess(B.style.getPropertyValue("src"))})}function k(P){var B=[];return P.forEach(function(N){try{t.asArray(N.cssRules||[]).forEach(B.push.bind(B))}catch(R){console.log("Error while reading CSS rules from "+N.href,R.toString())}}),B}function E(P){return{resolve:function(){var N=(P.parentStyleSheet||{}).href;return r.inlineAll(P.cssText,N)},src:function(){return P.style.getPropertyValue("src")}}}}}function x(){return{inlineAll:S,impl:{newImage:M}};function M(A){return{inline:k};function k(E){return t.isDataUrl(A.src)?Promise.resolve():Promise.resolve(A.src).then(E||t.getAndEncode).then(function(P){return t.dataAsUrl(P,t.mimeType(A.src))}).then(function(P){return new Promise(function(B,N){A.onload=B,A.onerror=N,A.src=P})})}}function S(A){if(!(A instanceof Element))return Promise.resolve(A);return k(A).then(function(){return A instanceof HTMLImageElement?M(A).inline():Promise.all(t.asArray(A.childNodes).map(function(E){return S(E)}))});function k(E){var P=E.style.getPropertyValue("background");return P?r.inlineAll(P).then(function(B){E.style.setProperty("background",B,E.style.getPropertyPriority("background"))}).then(function(){return E}):Promise.resolve(E)}}}})()})(iv);var Eh=iv.exports,pA=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sh="DONT_STYLE_ME_css_styles_verifier",U=function(e){pA(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.chartID=Math.floor((1+Math.random())*281474976710656).toString(16),i}return n.getHTMLElementSize=function(t){return{width:t.clientWidth,height:t.clientHeight}},n.getSVGElementSize=function(t,r){r===void 0&&(r={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}),t.attr||(t=H(t));var i={width:0,height:0},a=function(p){p&&Object.keys(i).forEach(function(d){if(p[d]){var g=p[d],v=parseFloat(g);g&&v>i[d]&&(""+g).indexOf("%")===-1&&(i[d]=v)}})},o={width:t.attr("width"),height:t.attr("height")},s,l,u,c;try{s=t.node().getBBox(),l={width:s.width,height:s.height}}catch{}try{u=t.node().getBoundingClientRect(),c={width:u.width,height:u.height}}catch{}var h={width:t.node().clientWidth,height:t.node().clientHeight};if(r){if(r.useAttrs&&(a(o),i.width>0&&i.height>0))return i;if(r.useClientDimensions&&(a(h),i.width>0&&i.height>0))return h;if(r.useBBox&&(a(l),i.width>0&&i.height>0))return l;if(r.useBoundingRect&&(a(c),i.width>0&&i.height>0))return c}try{var f={width:_.getProperty(t.node(),"width","baseVal","value"),height:_.getProperty(t.node(),"height","baseVal","value")};a(f)}catch{a(h),a(l),a(o)}return i},n.appendOrSelect=function(t,r){var i=t.select(""+r);if(i.empty()){var a=r.split("#"),o=void 0,s=void 0;return a.length===2?(o=a[0],a=a[1].split("."),s=a[0]):(a=r.split("."),o=a[0]),t.append(o).attr("id",s).attr("class",a.slice(1).join(" "))}return i},n.prototype.init=function(){this.styleHolderElement(),this.addMainContainer(),this.verifyCSSStylesBeingApplied(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()},n.prototype.getChartID=function(){return this.chartID},n.prototype.generateElementIDString=function(t){return"chart-"+this.chartID+"-"+t},n.prototype.addMainContainer=function(){var t=this.model.getOptions(),r=_.getProperty(t,"style","prefix"),i=H(this.getHolder()).append("div").classed(he.prefix+"--"+r+"--chart-wrapper",!0).style("height","100%").style("width","100%");i.append("g").attr("class",Sh),this.mainContainer=i.node()},n.prototype.update=function(){this.styleHolderElement()},n.prototype.styleHolderElement=function(){var t=this.getHolder();H(this.getHolder()).classed(he.prefix+"--chart-holder",!0);var r=this.model.getOptions(),i=r.width,a=r.height;i!==this.width&&(t.style.width=i,this.width=i),a!==this.height&&(t.style.height=a,this.height=a)},n.prototype.getHolder=function(){return this.model.get("holder")},n.prototype.exportToJPG=function(){var t=this,r=this.getHolder(),i=H(r);i.classed("filled",!0),Eh.toJpeg(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("bx--cc--toolbar"))}}).then(function(a){t.services.files.downloadImage(a,"myChart.jpg"),i.classed("filled",!1)})},n.prototype.exportToPNG=function(){var t=this,r=this.getHolder(),i=H(r);i.classed("filled",!0),Eh.toPng(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("bx--cc--toolbar"))}}).then(function(a){t.services.files.downloadImage(a,"myChart.png"),i.classed("filled",!1)}).catch(function(a){console.error("oops, something went wrong!",a)})},n.prototype.toggleFullscreen=function(){var t=this.getHolder(),r=H(t),i=r.classed("fullscreen");i&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},n.prototype.handleFullscreenChange=function(){var t=this;document.addEventListener("fullscreenchange",function(){var r=H(t.getHolder()),i=r.classed("fullscreen");r.classed("fullscreen",!i)})},n.prototype.verifyCSSStylesBeingApplied=function(){var t=this;setTimeout(function(){var r=H(t.mainContainer).select("g."+Sh).node(),i=getComputedStyle(r);(i.getPropertyValue("overflow")!=="hidden"||i.getPropertyValue("opacity")!=="0")&&console.error("Missing CSS styles for Carbon Charts. Please read the Carbon Charts getting started guide.")})},n.prototype.setSVGMaxHeight=function(){if(!this.model.getOptions().height){var t=n.getSVGElementSize(H(this.mainContainer),{useBBox:!0}).height,r=H(this.mainContainer).attr("class"),i=H(this.mainContainer).selectAll("."+r+" > svg"),a=0;i.nodes().forEach(function(o){a+=Number(n.getSVGElementSize(H(o),{useBBox:!0}).height)}),a<=t?H(this.mainContainer).attr("height",a):H(this.mainContainer).attr("height","100%")}},n.prototype.getMainContainer=function(){return this.mainContainer},n.prototype.addHolderListeners=function(){var t=this,r=this.getHolder();!r||H(r).on("mouseover",function(){t.services.events.dispatchEvent(C.Chart.MOUSEOVER)}).on("mouseout",function(){t.services.events.dispatchEvent(C.Chart.MOUSEOUT)})},n.prototype.addResizeListener=function(){var t=this,r=this.getHolder();if(!!r){var i=r.clientWidth,a=r.clientHeight,o=_.debounce(function(l,u){!r||(Math.abs(i-r.clientWidth)>1||Math.abs(a-r.clientHeight)>1)&&(i=r.clientWidth,a=r.clientHeight,t.services.events.dispatchEvent(C.Chart.RESIZE))},12.5),s=new dA(o);s.observe(r)}},n}(Bn),gA=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vA=function(e){gA(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.init=function(){this.documentFragment=document.createDocumentFragment()},n.prototype.addEventListener=function(t,r){this.documentFragment.addEventListener(t,r)},n.prototype.removeEventListener=function(t,r){this.documentFragment.removeEventListener(t,r)},n.prototype.dispatchEvent=function(t,r){var i;r?i=new CustomEvent(t,{detail:r}):(i=document.createEvent("Event"),i.initEvent(t,!1,!0)),this.documentFragment.dispatchEvent(i)},n}(Bn),mA=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yA=function(e){mA(n,e);function n(t,r){return e.call(this,t,r)||this}return n.prototype.downloadCSV=function(t,r){var i=document.createElement("a"),a="text/csv;encoding:utf-8";if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:a}),r);else if(URL&&"download"in i){var o=URL.createObjectURL(new Blob([t],{type:a}));i.href=o,i.setAttribute("download",r),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}else location.href="data:application/octet-stream,"+encodeURIComponent(t)},n.prototype.downloadImage=function(t,r){var i=document.createElement("a");i.download=r,i.href=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)},n}(Bn),_A=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bA=function(e){_A(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.pendingTransitions={},t}return n.prototype.init=function(){var t=this;this.services.events.addEventListener(C.Model.UPDATE,function(){t.pendingTransitions={}})},n.prototype.setupTransition=function(t){var r=this,i=t.transition,a=t.name,o=t.animate;return this.pendingTransitions[i._id]=i,i.on("end interrupt cancel",function(){delete r.pendingTransitions[i._id]}),this.model.getOptions().animations===!1||o===!1?i.duration(0):i.duration(_.getProperty(Ul,a,"duration")||Ul.default.duration)},n.prototype.getPendingTransitions=function(){return this.pendingTransitions},n}(Bn),xA=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bu=function(e){xA(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.appendOrUpdateLinearGradient=function(t){var r=t.svg.select("defs linearGradient#"+t.id);r.empty()&&(r=t.svg.append("defs").append("linearGradient").attr("id",t.id).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2)),r.selectAll("stop").remove(),r.selectAll("stop").data(t.stops).enter().append("stop").attr("offset",function(i){return i.offset}).style("stop-color",function(i){return i.color}).style("stop-opacity",function(i){return i.opacity})},n.getOffsetRatio=function(t){var r=(Math.abs(t[1])*100/Math.abs(t[0]-t[1])).toFixed(2)+"%";return r},n.getStops=function(t,r){var i=t[0]<0&&t[1]>0,a=[{offset:"0%",color:r,opacity:"0.6"},{offset:"80%",color:r,opacity:"0"}];return i&&(a=[{offset:"0%",color:r,opacity:"0.6"},{offset:n.getOffsetRatio(t),color:r,opacity:"0"},{offset:"100%",color:r,opacity:"0.6"}]),a},n}(Bn);function Ft(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Zt(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function av(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Zt(n);return t.setDate(t.getDate()+r),t}function ss(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e).getTime(),r=Zt(n);return new Date(t+r)}var OA=36e5;function ov(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return ss(e,t*OA)}var Mh=6e4;function xu(e){var n=new Date(e.getTime()),t=Math.ceil(n.getTimezoneOffset());n.setSeconds(0,0);var r=n.getTime()%Mh;return t*Mh+r}function Ch(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Ft(e);return n.setHours(0,0,0,0),n}var wA=864e5;function TA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ch(e),r=Ch(n),i=t.getTime()-xu(t),a=r.getTime()-xu(r);return Math.round((i-a)/wA)}var EA=6e4;function Ou(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return ss(e,t*EA)}function SA(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Ft(e),t=n.getFullYear(),r=n.getMonth(),i=new Date(0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Rc(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Zt(n),i=t.getMonth()+r,a=new Date(0);a.setFullYear(t.getFullYear(),i,1),a.setHours(0,0,0,0);var o=SA(a);return t.setMonth(i,Math.min(o,t.getDate())),t}function wu(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return ss(e,t*1e3)}function sv(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return Rc(e,t*12)}function ii(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function MA(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Ft(e);return!isNaN(n)}function CA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function AA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n);return t.getFullYear()-r.getFullYear()}function DA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n),i=ii(t,r),a=Math.abs(TA(t,r));t.setDate(t.getDate()-i*a);var o=ii(t,r)===-i,s=i*(a-o);return s===0?0:s}function Ic(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n);return t.getTime()-r.getTime()}var PA=36e5;function LA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ic(e,n)/PA;return t>0?Math.floor(t):Math.ceil(t)}var kA=6e4;function Ah(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ic(e,n)/kA;return t>0?Math.floor(t):Math.ceil(t)}function RA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n),i=ii(t,r),a=Math.abs(CA(t,r));t.setMonth(t.getMonth()-i*a);var o=ii(t,r)===-i,s=i*(a-o);return s===0?0:s}function Dh(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ic(e,n)/1e3;return t>0?Math.floor(t):Math.ceil(t)}function IA(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ft(e),r=Ft(n),i=ii(t,r),a=Math.abs(AA(t,r));t.setFullYear(t.getFullYear()-i*a);var o=ii(t,r)===-i,s=i*(a-o);return s===0?0:s}var ka={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function NA(e,n,t){t=t||{};var r;return typeof ka[e]=="string"?r=ka[e]:n===1?r=ka[e].one:r=ka[e].other.replace("{{count}}",n),t.addSuffix?t.comparison>0?"in "+r:r+" ago":r}function Vs(e){return function(n){var t=n||{},r=t.width?String(t.width):e.defaultWidth,i=e.formats[r]||e.formats[e.defaultWidth];return i}}var BA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HA={date:Vs({formats:BA,defaultWidth:"full"}),time:Vs({formats:FA,defaultWidth:"full"}),dateTime:Vs({formats:UA,defaultWidth:"full"})},VA=HA,GA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zA(e,n,t,r){return GA[e]}function mi(e){return function(n,t){var r=t||{},i=r.context?String(r.context):"standalone",a;if(i==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var l=e.defaultWidth,u=r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(n):n;return a[c]}}var jA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$A={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function ZA(e,n){var t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var KA={ordinalNumber:ZA,era:mi({values:jA,defaultWidth:"wide"}),quarter:mi({values:WA,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:mi({values:$A,defaultWidth:"wide"}),day:mi({values:YA,defaultWidth:"wide"}),dayPeriod:mi({values:qA,defaultWidth:"wide",formattingValues:XA,defaultFormattingWidth:"wide"})},QA=KA;function JA(e){return function(n,t){var r=String(n),i=t||{},a=r.match(e.matchPattern);if(!a)return null;var o=a[0],s=r.match(e.parsePattern);if(!s)return null;var l=e.valueCallback?e.valueCallback(s[0]):s[0];return l=i.valueCallback?i.valueCallback(l):l,{value:l,rest:r.slice(o.length)}}}function yi(e){return function(n,t){var r=String(n),i=t||{},a=i.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=r.match(o);if(!s)return null;var l=s[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c;return Object.prototype.toString.call(u)==="[object Array]"?c=eD(u,function(h){return h.test(r)}):c=tD(u,function(h){return h.test(r)}),c=e.valueCallback?e.valueCallback(c):c,c=i.valueCallback?i.valueCallback(c):c,{value:c,rest:r.slice(l.length)}}}function tD(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function eD(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}var nD=/^(\d+)(th|st|nd|rd)?/i,rD=/\d+/i,iD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aD={any:[/^b/i,/^(a|c)/i]},oD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sD={any:[/1/i,/2/i,/3/i,/4/i]},lD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pD={ordinalNumber:JA({matchPattern:nD,parsePattern:rD,valueCallback:function(e){return parseInt(e,10)}}),era:yi({matchPatterns:iD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any"}),quarter:yi({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:sD,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:yi({matchPatterns:lD,defaultMatchWidth:"wide",parsePatterns:uD,defaultParseWidth:"any"}),day:yi({matchPatterns:cD,defaultMatchWidth:"wide",parsePatterns:fD,defaultParseWidth:"any"}),dayPeriod:yi({matchPatterns:hD,defaultMatchWidth:"any",parsePatterns:dD,defaultParseWidth:"any"})},gD=pD,vD={code:"en-US",formatDistance:NA,formatLong:VA,formatRelative:zA,localize:QA,match:gD,options:{weekStartsOn:0,firstWeekContainsDate:1}},mD=vD;function yD(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return ss(e,-t)}function Rt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var _D={y:function(e,n){var t=e.getUTCFullYear(),r=t>0?t:1-t;return Rt(n==="yy"?r%100:r,n.length)},M:function(e,n){var t=e.getUTCMonth();return n==="M"?String(t+1):Rt(t+1,2)},d:function(e,n){return Rt(e.getUTCDate(),n.length)},a:function(e,n){var t=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":case"aaa":return t.toUpperCase();case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,n){return Rt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Rt(e.getUTCHours(),n.length)},m:function(e,n){return Rt(e.getUTCMinutes(),n.length)},s:function(e,n){return Rt(e.getUTCSeconds(),n.length)},S:function(e,n){var t=n.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,t-3));return Rt(i,n.length)}},Un=_D,bD=864e5;function xD(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Ft(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/bD)+1}function Mo(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=1,t=Ft(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function lv(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Ft(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Mo(r),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var o=Mo(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=o.getTime()?t:t-1}function OD(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=lv(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Mo(t);return r}var wD=6048e5;function TD(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Ft(e),t=Mo(n).getTime()-OD(n).getTime();return Math.round(t/wD)+1}function Co(e,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=n||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,a=i==null?0:Zt(i),o=t.weekStartsOn==null?a:Zt(t.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Ft(e),l=s.getUTCDay(),u=(l<o?7:0)+l-o;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function uv(e,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Ft(e,n),r=t.getUTCFullYear(),i=n||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:Zt(o),l=i.firstWeekContainsDate==null?s:Zt(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,l),u.setUTCHours(0,0,0,0);var c=Co(u,n),h=new Date(0);h.setUTCFullYear(r,0,l),h.setUTCHours(0,0,0,0);var f=Co(h,n);return t.getTime()>=c.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function ED(e,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=n||{},r=t.locale,i=r&&r.options&&r.options.firstWeekContainsDate,a=i==null?1:Zt(i),o=t.firstWeekContainsDate==null?a:Zt(t.firstWeekContainsDate),s=uv(e,n),l=new Date(0);l.setUTCFullYear(s,0,o),l.setUTCHours(0,0,0,0);var u=Co(l,n);return u}var SD=6048e5;function MD(e,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Ft(e),r=Co(t,n).getTime()-ED(t,n).getTime();return Math.round(r/SD)+1}var Sr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CD={G:function(e,n,t){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Un.y(e,n)},Y:function(e,n,t,r){var i=uv(e,r),a=i>0?i:1-i;if(n==="YY"){var o=a%100;return Rt(o,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Rt(a,n.length)},R:function(e,n){var t=lv(e);return Rt(t,n.length)},u:function(e,n){var t=e.getUTCFullYear();return Rt(t,n.length)},Q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Rt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Rt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){var r=e.getUTCMonth();switch(n){case"M":case"MM":return Un.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Rt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){var i=MD(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Rt(i,n.length)},I:function(e,n,t){var r=TD(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Rt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):Un.d(e,n)},D:function(e,n,t){var r=xD(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Rt(r,n.length)},E:function(e,n,t){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Rt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Rt(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){var r=e.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Rt(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){var r=e.getUTCHours(),i;switch(r===12?i=Sr.noon:r===0?i=Sr.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){var r=e.getUTCHours(),i;switch(r>=17?i=Sr.evening:r>=12?i=Sr.afternoon:r>=4?i=Sr.morning:i=Sr.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Un.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Un.H(e,n)},K:function(e,n,t){var r=e.getUTCHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Rt(r,n.length)},k:function(e,n,t){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Rt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Un.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Un.s(e,n)},S:function(e,n){return Un.S(e,n)},X:function(e,n,t,r){var i=r._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Lh(a);case"XXXX":case"XX":return er(a);case"XXXXX":case"XXX":default:return er(a,":")}},x:function(e,n,t,r){var i=r._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return Lh(a);case"xxxx":case"xx":return er(a);case"xxxxx":case"xxx":default:return er(a,":")}},O:function(e,n,t,r){var i=r._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ph(a,":");case"OOOO":default:return"GMT"+er(a,":")}},z:function(e,n,t,r){var i=r._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ph(a,":");case"zzzz":default:return"GMT"+er(a,":")}},t:function(e,n,t,r){var i=r._originalDate||e,a=Math.floor(i.getTime()/1e3);return Rt(a,n.length)},T:function(e,n,t,r){var i=r._originalDate||e,a=i.getTime();return Rt(a,n.length)}};function Ph(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return t+String(i);var o=n||"";return t+String(i)+o+Rt(a,2)}function Lh(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Rt(Math.abs(e)/60,2)}return er(e,n)}function er(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),a=Rt(Math.floor(i/60),2),o=Rt(i%60,2);return r+a+t+o}var AD=CD;function kh(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}}function cv(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}}function DD(e,n){var t=e.match(/(P+)(p+)?/),r=t[1],i=t[2];if(!i)return kh(e,n);var a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",kh(r,n)).replace("{{time}}",cv(i,n))}var PD={p:cv,P:DD},LD=PD,kD=["D","DD"],RD=["YY","YYYY"];function ID(e){return kD.indexOf(e)!==-1}function ND(e){return RD.indexOf(e)!==-1}function Rh(e){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if(e==="YY")throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if(e==="D")throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if(e==="DD")throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var BD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UD=/^'([^]*?)'?$/,HD=/''/g,VD=/[a-zA-Z]/;function Ji(e,n,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(n),i=t||{},a=i.locale||mD,o=a.options&&a.options.firstWeekContainsDate,s=o==null?1:Zt(o),l=i.firstWeekContainsDate==null?s:Zt(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=a.options&&a.options.weekStartsOn,c=u==null?0:Zt(u),h=i.weekStartsOn==null?c:Zt(i.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var f=Ft(e);if(!MA(f))throw new RangeError("Invalid time value");var p=xu(f),d=yD(f,p),g={firstWeekContainsDate:l,weekStartsOn:h,locale:a,_originalDate:f},v=r.match(FD).map(function(b){var m=b[0];if(m==="p"||m==="P"){var y=LD[m];return y(b,a.formatLong,g)}return b}).join("").match(BD).map(function(b){if(b==="''")return"'";var m=b[0];if(m==="'")return GD(b);var y=AD[m];if(y)return!i.useAdditionalWeekYearTokens&&ND(b)&&Rh(b),!i.useAdditionalDayOfYearTokens&&ID(b)&&Rh(b),y(d,b,a.localize,g);if(m.match(VD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return b}).join("");return v}function GD(e){return e.match(UD)[1].replace(HD,"'")}function zD(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return av(e,-t)}function jD(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return ov(e,-t)}function Ih(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return Ou(e,-t)}function WD(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return Rc(e,-t)}function Nh(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return wu(e,-t)}function $D(e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Zt(n);return sv(e,-t)}var YD=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qD=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},XD=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},ZD=function(e){YD(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.scaleTypes={top:null,right:null,bottom:null,left:null},t.scales={top:null,right:null,bottom:null,left:null},t}return n.prototype.getDomainAxisPosition=function(t){var r=(t===void 0?{}:t).datum,i=r===void 0?null:r,a;if(this.dualAxes&&i){var o=this.model.getOptions(),s=o.data.groupMapsTo,l=_.getProperty(o,"axes",this.secondaryDomainAxisPosition),u=i[s];if(((a=l)===null||a===void 0?void 0:a.correspondingDatasets)&&l.correspondingDatasets.includes(u))return this.secondaryDomainAxisPosition}return this.domainAxisPosition},n.prototype.getRangeAxisPosition=function(t){var r=t===void 0?{}:t,i=r.datum,a=i===void 0?null:i,o=r.groups,s=o===void 0?null:o,l;if(this.dualAxes){var u=this.model.getOptions(),c=u.data.groupMapsTo,h=_.getProperty(u,"axes",this.secondaryRangeAxisPosition),f=void 0;if(a!==null?f=a[c]:s&&s.length>0&&(f=s[0]),((l=h)===null||l===void 0?void 0:l.correspondingDatasets)&&h.correspondingDatasets.includes(f))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition},n.prototype.getAxisOptions=function(t){return _.getProperty(this.model.getOptions(),"axes",t)},n.prototype.getDomainAxisOptions=function(){var t=this.getDomainAxisPosition();return this.getAxisOptions(t)},n.prototype.getRangeAxisOptions=function(){var t=this.getRangeAxisPosition();return this.getAxisOptions(t)},n.prototype.getScaleLabel=function(t){var r=this.getAxisOptions(t),i=r.title;return i||(t===K.BOTTOM||t===K.TOP?"x-value":"y-value")},n.prototype.getDomainLabel=function(){return this.getScaleLabel(this.getDomainAxisPosition())},n.prototype.getRangeLabel=function(){return this.getScaleLabel(this.getRangeAxisPosition())},n.prototype.update=function(t){var r=this;this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation();var i=Object.keys(K).map(function(a){return K[a]});i.forEach(function(a){r.scales[a]=r.createScale(a)})},n.prototype.findDomainAndRangeAxes=function(){var t=this.findVerticalAxesPositions(),r=this.findHorizontalAxesPositions(),i=this.findDomainAndRangeAxesPositions(t,r);this.domainAxisPosition=i.primaryDomainAxisPosition,this.rangeAxisPosition=i.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=i.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=i.secondaryRangeAxisPosition)},n.prototype.determineOrientation=function(){(this.rangeAxisPosition===K.LEFT||this.rangeAxisPosition===K.RIGHT)&&(this.domainAxisPosition===K.BOTTOM||this.domainAxisPosition===K.TOP)?this.orientation=ae.VERTICAL:this.orientation=ae.HORIZONTAL},n.prototype.isDualAxes=function(){return this.dualAxes},n.prototype.determineAxisDuality=function(){var t,r,i,a,o=this.model.getOptions(),s=_.getProperty(o,"axes");(((t=s[K.LEFT])===null||t===void 0?void 0:t.correspondingDatasets)&&s[K.RIGHT]||((r=s[K.RIGHT])===null||r===void 0?void 0:r.correspondingDatasets)&&s[K.LEFT]||((i=s[K.TOP])===null||i===void 0?void 0:i.correspondingDatasets)&&s[K.BOTTOM]||((a=s[K.BOTTOM])===null||a===void 0?void 0:a.correspondingDatasets)&&s[K.TOP])&&(this.dualAxes=!0)},n.prototype.getCustomDomainValuesByposition=function(t){var r=_.getProperty(this.model.getOptions(),"axes",t,"domain");if(r&&!Array.isArray(r))throw new Error("Domain in "+t+" axis is not a valid array");if(Array.isArray(r)&&(this.scaleTypes[t]===st.LINEAR||this.scaleTypes[t]===st.TIME)&&r.length!==2)throw new Error("There can only be 2 elements in domain for scale type: "+this.scaleTypes[t]);return r},n.prototype.getOrientation=function(){return this.orientation},n.prototype.getScaleByPosition=function(t){return this.scales[t]},n.prototype.getScaleTypeByPosition=function(t){return this.scaleTypes[t]},n.prototype.getDomainAxisScaleType=function(){var t=this.getDomainAxisPosition();return this.getScaleTypeByPosition(t)},n.prototype.getRangeAxisScaleType=function(){var t=this.getRangeAxisPosition();return this.getScaleTypeByPosition(t)},n.prototype.getDomainScale=function(){return this.scales[this.domainAxisPosition]},n.prototype.getRangeScale=function(){return this.scales[this.rangeAxisPosition]},n.prototype.getMainXAxisPosition=function(){var t=[K.BOTTOM,K.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return t.indexOf(r)>-1})},n.prototype.getMainYAxisPosition=function(){var t=[K.LEFT,K.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return t.indexOf(r)>-1})},n.prototype.getMainXScale=function(){return this.scales[this.getMainXAxisPosition()]},n.prototype.getMainYScale=function(){return this.scales[this.getMainYAxisPosition()]},n.prototype.getValueFromScale=function(t,r,i,a,o){var s=this.model.getOptions(),l=_.getProperty(s,"axes"),u=l[i],c=u.mapsTo,h=_.getProperty(a,c)!==null?a[c]:a,f;switch(r){case st.LABELS:f=t(h)+t.step()/2;break;case st.TIME:f=t(new Date(h));break;default:f=t(h)}return f},n.prototype.getBoundedScaledValues=function(t,r){var i=this.model.getOptions().bounds,a=this.getRangeAxisPosition({datum:t}),o=this.scales[a],s=this.model.getOptions(),l=_.getProperty(s,"axes"),u=l[a],c=u.mapsTo,h=t[c]!==void 0?t[c]:t,f=[o(_.getProperty(t,i.upperBoundMapsTo)!==null?t[i.upperBoundMapsTo]:h),o(_.getProperty(t,i.lowerBoundMapsTo)!==null?t[i.lowerBoundMapsTo]:h)];return f},n.prototype.getValueThroughAxisPosition=function(t,r,i){var a=this.scaleTypes[t],o=this.scales[t];return this.getValueFromScale(o,a,t,r,i)},n.prototype.getDomainValue=function(t,r){var i=this.getDomainAxisPosition({datum:t});return this.getValueThroughAxisPosition(i,t,r)},n.prototype.getRangeValue=function(t,r){var i=this.getRangeAxisPosition({datum:t});return this.getValueThroughAxisPosition(i,t,r)},n.prototype.getMainXScaleType=function(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())},n.prototype.getMainYScaleType=function(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())},n.prototype.getDomainIdentifier=function(t){var r=this.model.getOptions();return _.getProperty(r,"axes",this.getDomainAxisPosition({datum:t}),"mapsTo")},n.prototype.getRangeIdentifier=function(t){var r=this.model.getOptions();return _.getProperty(r,"axes",this.getRangeAxisPosition({datum:t}),"mapsTo")},n.prototype.extendsDomain=function(t,r){var i=this.model.getOptions(),a=_.getProperty(i,"axes",t);if(a.scaleType===st.TIME){var o=_.getProperty(i,"timeScale","addSpaceOnEdges");return KD(r,o)}else return QD(r,Cn.paddingRatio,a.scaleType)},n.prototype.findVerticalAxesPositions=function(){var t=this.model.getOptions(),r=_.getProperty(t,"axes"),i=this.isDualAxes();return _.getProperty(r,K.LEFT)===null&&_.getProperty(r,K.RIGHT)!==null||_.getProperty(r,K.RIGHT,"main")===!0||i&&_.getProperty(r,K.LEFT,"correspondingDatasets")?{primary:K.RIGHT,secondary:K.LEFT}:{primary:K.LEFT,secondary:K.RIGHT}},n.prototype.findHorizontalAxesPositions=function(){var t=this.model.getOptions(),r=_.getProperty(t,"axes"),i=this.isDualAxes();return _.getProperty(r,K.BOTTOM)===null&&_.getProperty(r,K.TOP)!==null||_.getProperty(r,K.TOP,"main")===!0||i&&_.getProperty(r,K.BOTTOM,"correspondingDatasets")?{primary:K.TOP,secondary:K.BOTTOM}:{primary:K.BOTTOM,secondary:K.TOP}},n.prototype.findDomainAndRangeAxesPositions=function(t,r){var i=this.model.getOptions(),a=_.getProperty(i,"axes",t.primary),o=_.getProperty(i,"axes",r.primary),s=a.scaleType||st.LINEAR,l=o.scaleType||st.LINEAR,u={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return u.primaryDomainAxisPosition=r.primary,u.primaryRangeAxisPosition=t.primary,u.secondaryDomainAxisPosition=r.secondary,u.secondaryRangeAxisPosition=t.secondary,(!(l===st.LABELS||l===st.TIME)&&s===st.LABELS||s===st.TIME)&&(u.primaryDomainAxisPosition=t.primary,u.primaryRangeAxisPosition=r.primary,u.secondaryDomainAxisPosition=t.secondary,u.secondaryRangeAxisPosition=r.secondary),u},n.prototype.getScaleDomain=function(t){var r=this.model.getOptions(),i=_.getProperty(r,"axes",t),a=_.getProperty(r,"bounds"),o=i.includeZero,s=_.getProperty(i,"scaleType")||st.LINEAR;if(this.model.isDataEmpty())return[];if(i.binned){var l=this.model.getBinConfigurations().bins;return[0,dr(l,function(A){return A.length})]}else if(i.limitDomainToBins){var l=this.model.getBinConfigurations().bins,u=this.model.getStackKeys({bins:l});return[u[0].split("-")[0],u[u.length-1].split("-")[1]]}var c=this.model.getDisplayData(),h=i.extendLinearDomainBy,f=i.mapsTo,p=i.percentage,d=i.thresholds,g=Cn.ratio,v=g.reference,b=g.compareTo;if(i.domain)return s===st.LABELS?i.domain:(s===st.TIME&&(i.domain=i.domain.map(function(A){return A.getTime===void 0?new Date(A):A})),this.extendsDomain(t,i.domain));if(p)return[0,100];if(i&&s===st.LABELS)return _.removeArrayDuplicates(c.map(function(A){return A[f]}));var m,y,w=this.model.getDataGroupNames();if(s===st.LABELS_RATIO)return c.map(function(A){return A[v]+"/"+A[b]});if(s===st.TIME)y=c.map(function(A){return+new Date(A[f])});else if(a&&r.axes)y=[],c.forEach(function(A){y.push(A[f]),A[a.upperBoundMapsTo]&&y.push(A[a.upperBoundMapsTo]),A[a.lowerBoundMapsTo]&&y.push(A[a.lowerBoundMapsTo])});else if(i.stacked===!0&&w&&t===this.getRangeAxisPosition()){var O=r.data.groupMapsTo,x=this.model.getDataValuesGroupedByKeys({groups:w}),M=c.filter(function(A){return!w.includes(A[O])}),S=[];x.forEach(function(A){A.sharedStackKey;var k=qD(A,["sharedStackKey"]),E=0,P=0;Object.values(k).forEach(function(B){isNaN(B)||(B<0?P+=B:E+=B)}),S.push([P,E])}),y=XD(_.flatten(S),M.map(function(A){return A[f]}))}else y=[],c.forEach(function(A){var k=A[f];Array.isArray(k)&&k.length===2?(y.push(k[0]),y.push(k[1])):(h&&y.push(Math.max(A[f],A[h])),y.push(k))});return s!==st.TIME&&s!==st.LOG&&o&&y.push(0),d&&d.length>0&&d.forEach(function(A){var k=_.getProperty(A,"value");k!==null&&y.push(k)}),m=hn(y),m=this.extendsDomain(t,m),m},n.prototype.createScale=function(t){var r=this.model.getOptions(),i=_.getProperty(r,"axes",t);if(!i)return null;var a=_.getProperty(i,"scaleType")||st.LINEAR;this.scaleTypes[t]=a;var o;return a===st.TIME?o=Ug():a===st.LOG?o=Tg().base(i.base||10):a===st.LABELS||a===st.LABELS_RATIO?o=ca():o=mn(),o.domain(this.getScaleDomain(t)),o},n.prototype.getHighestDomainThreshold=function(){var t=_.getProperty(this.model.getOptions(),"axes"),r=this.getDomainAxisPosition(),i=t[r].thresholds;if(!Array.isArray(i)||Array.isArray(i)&&!i.length)return null;var a=this.getDomainScale(),o=i.sort(function(l,u){return u.value-l.value})[0],s=this.getScaleTypeByPosition(r);return s===st.TIME&&(typeof o.value=="string"||o.value.getTime===void 0)&&(o.value=new Date(o.value)),{threshold:o,scaleValue:a(o.value)}},n.prototype.getHighestRangeThreshold=function(){var t=_.getProperty(this.model.getOptions(),"axes"),r=this.getRangeAxisPosition(),i=t[r].thresholds;if(!Array.isArray(i)||Array.isArray(i)&&!i.length)return null;var a=this.getRangeScale(),o=i.sort(function(s,l){return l.value-s.value})[0];return{threshold:o,scaleValue:a(o.value)}},n}(Bn);function KD(e,n){var t=new Date(e[0]),r=new Date(e[1]);return IA(r,t)>1?[$D(t,n),sv(r,n)]:RA(r,t)>1?[WD(t,n),Rc(r,n)]:DA(r,t)>1?[zD(t,n),av(r,n)]:LA(r,t)>1?[jD(t,n),ov(r,n)]:Ah(r,t)>30?[Ih(t,n*30),Ou(r,n*30)]:Ah(r,t)>1?[Ih(t,n),Ou(r,n)]:Dh(r,t)>15?[Nh(t,n*15),wu(r,n*15)]:Dh(r,t)>1?[Nh(t,n),wu(r,n)]:[t,r]}function QD(e,n,t){var r=e[0],i=e[1],a=i-r,o=a*n,s=i<=0&&i+o>0?0:i+o,l=r>=0&&r-o<0?0:r-o;if(t===st.LOG&&l<=0){if(r<=0)throw Error("Data must have values greater than 0 if log scale type is used.");l=r}return[l,s]}var JD=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tP=function(e){JD(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.curveTypes={curveLinear:ns,curveLinearClosed:Zg,curveBasis:LC,curveBasisClosed:kC,curveBasisOpen:RC,curveBundle:IC,curveCardinal:NC,curveCardinalClosed:BC,curveCardinalOpen:FC,curveCatmullRom:UC,curveCatmullRomClosed:HC,curveCatmullRomOpen:VC,curveMonotoneX:GC,curveMonotoneY:zC,curveNatural:jC,curveStep:WC,curveStepAfter:YC,curveStepBefore:$C},t}return n.prototype.getD3Curve=function(){var t="curveLinear",r=this.model.getOptions().curve;if(r&&(typeof r=="string"?t=r:t=r.name),this.curveTypes[t]){var i=this.curveTypes[t];return r&&Object.keys(r).forEach(function(a){i[a]&&(i=i[a](r[a]))}),i}return console.warn("The curve type '"+t+"' is invalid, using 'curveLinear' instead"),this.curveTypes.curveLinear},n}(Bn),eP=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nP=function(e){eP(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.isZoomBarEnabled=function(){if(!this.services.cartesianScales||!_.getProperty(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();var t=this.services.cartesianScales.getMainXAxisPosition(),r=_.getProperty(this.model.getOptions(),"axes",t,"scaleType");return t===K.BOTTOM&&r===st.TIME},n.prototype.getZoomBarData=function(){var t=this.model.getZoomBarData();return t&&t.length>1?t:this.model.getDisplayData()},n.prototype.getDefaultZoomBarDomain=function(t){var r=t||this.services.zoom.getZoomBarData(),i=this.services.cartesianScales,a=i.getMainXAxisPosition(),o=i.getDomainIdentifier(),s=_.getProperty(this.model.getOptions(),"axes",a,"domain");return Array.isArray(s)&&s.length===2?s:i.extendsDomain(a,hn(r,function(l){return l[o]}))},n.prototype.handleDomainChange=function(t,r){r===void 0&&(r={dispatchEvent:!0}),this.model.set({zoomDomain:t},{animate:!1}),r.dispatchEvent&&this.services.events.dispatchEvent(C.ZoomDomain.CHANGE,{newDomain:t})},n.prototype.getZoomRatio=function(){return _.getProperty(this.model.getOptions(),"zoomBar","zoomRatio")},n.prototype.filterDataForRangeAxis=function(t,r){var i=this.model.get("zoomDomain"),a=Object.assign({stacked:!1},r),o=_.getProperty(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&o&&i){var s=a.stacked?"sharedStackKey":this.services.cartesianScales.getDomainIdentifier(),l=t.filter(function(u){return new Date(u[s])>=i[0]&&new Date(u[s])<=i[1]});if(l.length>0)return l}return t},n.prototype.zoomIn=function(t){t===void 0&&(t=this.getZoomRatio());var r=this.model.get("zoomDomain"),i=Me.handleWidth,a=this.services.cartesianScales.getMainXScale().copy();a.domain(this.getDefaultZoomBarDomain());var o=a(r[0]),s=a(r[1]);if(!(s-o<i+1)){var l=a.range(),u=s-o,c=Math.min((l[1]-l[0])/2*(t/2),u/2),h=o+c,f=s-c;h>=f&&(h=o+u/2-i/2,f=s-u/2+i/2);var p=[a.invert(h),a.invert(f)];(r[0].valueOf()!==p[0].valueOf()||r[1].valueOf()!==p[1].valueOf())&&this.handleDomainChange(p)}},n.prototype.zoomOut=function(t){t===void 0&&(t=this.getZoomRatio());var r=this.model.get("zoomDomain"),i=this.services.cartesianScales.getMainXScale().copy();i.domain(this.getDefaultZoomBarDomain());var a=i(r[0]),o=i(r[1]),s=i.range(),l=(s[1]-s[0])/2*(t/2),u=Math.max(a-l,s[0]),c=Math.min(o+l,s[1]),h=[i.invert(u),i.invert(c)];(r[0].valueOf()!==h[0].valueOf()||r[1].valueOf()!==h[1].valueOf())&&this.handleDomainChange(h)},n.prototype.resetZoomDomain=function(){var t=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();(t[0].valueOf()!==r[0].valueOf()||t[1].valueOf()!==r[1].valueOf())&&this.handleDomainChange(r)},n.prototype.isMinZoomDomain=function(){var t=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();if(!t||!r)return!1;var i=t[1].valueOf()-t[0].valueOf(),a=r[1].valueOf()-r[0].valueOf(),o=_.getProperty(this.model.getOptions(),"zoomBar","minZoomRatio");return i/a<o},n.prototype.isMaxZoomDomain=function(){var t=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();return!!(t&&r&&t[0].valueOf()===r[0].valueOf()&&t[1].valueOf()===r[1].valueOf())},n.prototype.isEmptyState=function(){return this.getZoomBarData().length===0},n.prototype.isZoomBarLoading=function(t){return _.getProperty(this.model.getOptions(),"zoomBar",t,"loading")},n.prototype.isZoomBarLocked=function(t){return _.getProperty(this.model.getOptions(),"zoomBar",t,"locked")},n}(Bn),rP=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iP=function(e){rP(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.zoomIn=function(t,r,i){var a,o,s,l=i||zr;t&&(a=t.x,o=t.y,s=2);var u=U.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0}),c=u.width,h=u.height;r.transition().duration(l.duration).ease(l.ease).attr("transform","translate("+c/2+", "+h/2+") scale("+s+") translate("+-a+","+-o+")"),this.services.events.dispatchEvent(C.CanvasZoom.CANVAS_ZOOM_IN,{element:H(t)})},n.prototype.zoomOut=function(t,r){var i=r||zr;t.transition().duration(i.duration).ease(i.ease).attr("transform",""),this.services.events.dispatchEvent(C.CanvasZoom.CANVAS_ZOOM_OUT)},n}(Bn),Ct=function(){function e(n,t,r){if(this.renderType=ht.HTML,this.configs={},this.model=n,this.services=t,r&&(this.configs=r,this.configs.id)){var i=_.getProperty(this.model.getOptions(),"style","prefix");this.id=i+"--"+this.configs.id}this.parent||this.setParent(H(this.services.domUtils.getMainContainer()))}return e.prototype.init=function(){},e.prototype.render=function(n){console.error("render() method is not implemented")},e.prototype.destroy=function(){},e.prototype.setModel=function(n){this.model=n},e.prototype.setServices=function(n){this.services=n},e.prototype.setParent=function(n){var t=this.parent;if(this.parent=n,!(t&&t.node()===n.node())&&this.type){var r=_.getProperty(this.model.getOptions(),"style","prefix");this.parent.classed(he.prefix+"--"+r+"--"+this.type,!0),t&&t.classed(he.prefix+"--"+r+"--"+this.type,!1)}},e.prototype.getParent=function(){return this.parent},e.prototype.getComponentContainer=function(n){if(n===void 0&&(n={withinChartClip:!1}),this.type){var t=_.getProperty(this.model.getOptions(),"style","prefix"),r=this.id?"#"+this.id:"",i=U.appendOrSelect(this.parent,(this.renderType===ht.SVG?"svg":"div")+r+"."+he.prefix+"--"+t+"--"+this.type);if(n.withinChartClip){var a=this.model.get("chartClipId");if(a){var o=H("#"+a),s=o.select("rect");s.size()!==0&&parseFloat(s.attr("height"))>0&&i.attr("clip-path","url(#"+a+")")}}return i.attr("width","100%").attr("height","100%")}return this.parent},e.prototype.getOptions=function(){if(this.configs.options){var n=_.merge({},this.model.getOptions(),this.configs.options);return n}return this.model.getOptions()},e}(),aP=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nc=function(e){aP(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="legend",t.renderType=ht.HTML,t}return n.prototype.render=function(){var t=this,r=this.getOptions(),i=_.getProperty(r,"legend"),a=_.getProperty(i,"alignment"),o=_.getProperty(r,"legend","orientation"),s=this.model.getDataGroups(),l=Qt.items.status.DISABLED,u=s.some(function(S){return S.status===l}),c=_.getProperty(i,"order"),h=this.getComponentContainer().classed("center-aligned",a===de.CENTER).classed("right-aligned",a===de.RIGHT).classed(o,!0).classed("has-deactivated-items",u).attr("role",_t.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");c&&(s=this.sortDataGroups(s,c));var f=h.selectAll("div.legend-item").data(s,function(S){return S.name}),p=f.enter().append("div").attr("class","legend-item");p.merge(h.selectAll("div.legend-item")).classed("active",function(S,A){return S.status===Qt.items.status.ACTIVE});var d=_.getProperty(this.getOptions(),"legend","clickable");h.classed("clickable",d&&s.length>1);var g=Qt.checkbox.radius,v=p.append("div").classed("checkbox",!0),b=v.merge(f.select("div.checkbox")).attr("role",_t.CHECKBOX).attr("tabindex",d?0:-1).attr("aria-labelledby",function(S,A){return t.services.domUtils.generateElementIDString("legend-datagroup-"+A+"-title")}).attr("aria-checked",function(S){var A=S.status;return A===Qt.items.status.ACTIVE}).attr("width",g*2).attr("height",g*2).attr("class",function(S,A){return t.model.getColorClassName({classNameTypes:[dt.BACKGROUND],dataGroupName:S.name,originalClassName:"checkbox"})}).style("background",function(S){return S.status===Qt.items.status.ACTIVE?t.model.getFillColor(S.name)||t.model.getStrokeColor(S.name):null}).classed("active",function(S,A){return S.status===Qt.items.status.ACTIVE});v.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),p.append("p").merge(f.select("p"));var m=_.getProperty(r,"legend","additionalItems");if(m&&s.length){var y=this,w=h.selectAll("div.additional-item").data(m);w.exit().remove();var O=w.enter().append("div").merge(w).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",function(S,A){return t.services.domUtils.generateElementIDString("legend-datagroup-"+(b.size()+A)+"-title")});O.selectAll("*").remove();var x,M=1;O.append("svg").classed("icon",!0).each(function(S,A){var k=H(this);!x||x!=S.type?(x=S.type,M=1):M++,y.addAdditionalItem(k,S,M)}),O.append("p").merge(O.select("p")),this.truncateLegendText()}f.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),d&&p.size()>1&&this.addEventListeners()},n.prototype.sortDataGroups=function(t,r){if(t.sort(function(o,s){return r.indexOf(o.name)-r.indexOf(s.name)}),r.length<t.length){var i=t.length-r.length,a=t.slice(i);return a.concat(t.slice(0,i))}return t},n.prototype.addAdditionalItem=function(t,r,i){var a=Qt.area,o=a.width,s=a.height;if(r.type===ee.RADIUS?t.style("width",s+"px").style("height",s+"px"):t.style("width",o+"px").style("height",s+"px"),r.type===ee.RADIUS){var l=Qt.radius,u=l.iconData,c=l.fill,h=l.stroke,f=t.attr("fill","none").selectAll("circle").data(u).enter();f.append("circle").classed("radius",!0).attr("role",_t.IMG).attr("aria-label","radius").attr("cx",function(w){return w.cx}).attr("cy",function(w){return w.cy}).attr("r",function(w){return w.r}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h)}else if(r.type===ee.LINE){var p=Qt.line;t.select("line.line").empty()&&t.append("line").classed("line-"+i,!0).attr("role",_t.IMG).attr("aria-label","line").attr("x1",0).attr("y1",p.yPosition).attr("x2",o).attr("y2",p.yPosition).style("stroke",r.stroke?r.stroke:p.stroke).style("stroke-width",p.strokeWidth)}else if(r.type===ee.AREA)t.select("rect.area").empty()&&t.append("rect").classed("area-"+i,!0).attr("role",_t.IMG).attr("aria-label","area").attr("width",o).attr("height",s).style("fill",i>3&&!r.fill?Qt.area.fill:r.fill).style("stroke",r.stroke);else if(r.type===ee.SIZE){var d=Qt.size,u=d.iconData,c=d.fill,h=d.stroke,g=t.attr("fill","none").attr("role",_t.IMG).attr("aria-label","size").selectAll("rect").data(u).enter();g.append("rect").classed("size",!0).attr("width",function(M){return M.width}).attr("height",function(M){return M.height}).attr("y",function(M){return 0}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h).style("stroke-width",1)}else if(r.type===ee.QUARTILE){var u=Qt.quartile.iconData,v=t.selectAll("rect").attr("role",_t.IMG).attr("aria-label","quartile").data(u).enter();v.append("rect").attr("class",function(O,x){return"quartile-"+(x===0?"wrapper":"line")}).attr("x",function(O){return O.x}).attr("y",function(O){return O.y}).attr("width",function(O){return O.width}).attr("height",function(O){return O.height})}else if(r.type===ee.ZOOM){var b=_.getProperty(lg,"legend","zoom"),u=b.iconData,m=b.color,y=t.attr("role",_t.IMG).attr("aria-label","zoom").selectAll("g.icon").data(u).enter();y.append("g").attr("x",function(O){return O.x}).attr("y",function(O){return O.y}).attr("width",function(O){return O.width}).attr("height",function(O){return O.height}).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",function(O){return r.color?r.color:m}),y.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",function(O){return r.color?r.color:m})}},n.prototype.truncateLegendText=function(){var t=this.getComponentContainer(),r=_.getProperty(this.getOptions(),"legend","truncation"),i=_.getProperty(r,"type"),a=_.getProperty(r,"threshold"),o=_.getProperty(r,"numCharacter"),s=t.selectAll("div.legend-item p");s.attr("id",function(l,u){var c=this.parentNode.querySelector("div.checkbox")||this.parentNode;return c.getAttribute("aria-labelledby")}),i!==Pn.NONE?s.html(function(l){return l.name.length>a?_.truncateLabel(l.name,i,o):l.name}):s.html(function(l){return l.name})},n.prototype.addEventListeners=function(){var t=this,r=this.getComponentContainer(),i=this.getOptions(),a=_.getProperty(i,"legend"),o=_.getProperty(a,"truncation","threshold");r.selectAll("div.legend-item").on("mouseover",function(s){t.services.events.dispatchEvent(C.Legend.ITEM_HOVER,{hoveredElement:H(this)});var l=H(this);l.select("div.checkbox").classed("hovered",!0);var u=l.datum();u.name.length>o&&t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:s,hoveredElement:l,content:u.name})}).on("mousemove",function(s){t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:s})}).on("click",function(){t.services.events.dispatchEvent(C.Legend.ITEM_CLICK,{clickedElement:H(this)});var s=H(this),l=s.datum();t.model.toggleDataLabel(l.name)}).on("mouseout",function(){var s=H(this);s.select("div.checkbox").classed("hovered",!1),t.services.events.dispatchEvent(C.Tooltip.HIDE),t.services.events.dispatchEvent(C.Legend.ITEM_MOUSEOUT,{hoveredElement:s})}),r.selectAll("div.legend-item div.checkbox").on("keyup",function(s){s.key&&s.key==="Tab"&&t.services.events.dispatchEvent(C.Legend.ITEM_HOVER,{hoveredElement:H(this)})}),r.selectAll("div.legend-item div.checkbox").on("keydown",function(s,l){s.key&&s.key===" "?(s.preventDefault(),t.model.toggleDataLabel(l.name)):s.key&&s.key==="Tab"&&t.services.events.dispatchEvent(C.Legend.ITEM_MOUSEOUT,{hoveredElement:H(this)})}),r.selectAll("g.additional-item").on("mouseover",function(s){var l=H(this),u=l.datum();u.name.length>o&&t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:s,hoveredElement:l,content:u.name})})},n}(Ct);function oP(e){return e}var za=1,ja=2,Tu=3,Ti=4,Bh=1e-6;function sP(e){return"translate("+e+",0)"}function lP(e){return"translate(0,"+e+")"}function uP(e){return n=>+e(n)}function cP(e,n){return n=Math.max(0,e.bandwidth()-n*2)/2,e.round()&&(n=Math.round(n)),t=>+e(t)+n}function fP(){return!this.__axis}function ls(e,n){var t=[],r=null,i=null,a=6,o=6,s=3,l=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,u=e===za||e===Ti?-1:1,c=e===Ti||e===ja?"x":"y",h=e===za||e===Tu?sP:lP;function f(p){var d=r==null?n.ticks?n.ticks.apply(n,t):n.domain():r,g=i==null?n.tickFormat?n.tickFormat.apply(n,t):oP:i,v=Math.max(a,0)+s,b=n.range(),m=+b[0]+l,y=+b[b.length-1]+l,w=(n.bandwidth?cP:uP)(n.copy(),l),O=p.selection?p.selection():p,x=O.selectAll(".domain").data([null]),M=O.selectAll(".tick").data(d,n).order(),S=M.exit(),A=M.enter().append("g").attr("class","tick"),k=M.select("line"),E=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),k=k.merge(A.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),E=E.merge(A.append("text").attr("fill","currentColor").attr(c,u*v).attr("dy",e===za?"0em":e===Tu?"0.71em":"0.32em")),p!==O&&(x=x.transition(p),M=M.transition(p),k=k.transition(p),E=E.transition(p),S=S.transition(p).attr("opacity",Bh).attr("transform",function(P){return isFinite(P=w(P))?h(P+l):this.getAttribute("transform")}),A.attr("opacity",Bh).attr("transform",function(P){var B=this.parentNode.__axis;return h((B&&isFinite(B=B(P))?B:w(P))+l)})),S.remove(),x.attr("d",e===Ti||e===ja?o?"M"+u*o+","+m+"H"+l+"V"+y+"H"+u*o:"M"+l+","+m+"V"+y:o?"M"+m+","+u*o+"V"+l+"H"+y+"V"+u*o:"M"+m+","+l+"H"+y),M.attr("opacity",1).attr("transform",function(P){return h(w(P)+l)}),k.attr(c+"2",u*a),E.attr(c,u*v).text(g),O.filter(fP).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ja?"start":e===Ti?"end":"middle"),O.each(function(){this.__axis=w})}return f.scale=function(p){return arguments.length?(n=p,f):n},f.ticks=function(){return t=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(t=p==null?[]:Array.from(p),f):t.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(a=o=+p,f):a},f.tickSizeInner=function(p){return arguments.length?(a=+p,f):a},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(s=+p,f):s},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function hP(e){return ls(za,e)}function dP(e){return ls(ja,e)}function Bc(e){return ls(Tu,e)}function fv(e){return ls(Ti,e)}var pP=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gP=function(e){pP(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="color-legend",t.renderType=ht.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t.handleAxisCompleteEvent=function(r){var i=t.getComponentContainer(),a=U.getSVGElementSize(i,{useAttrs:!0}).width,o=_.getProperty(t.getOptions(),"data","loading");if(a>Qt.color.barWidth&&!o){var s=_.getProperty(t.getOptions(),"heatmap","colorLegend","title"),l=t.services.cartesianScales,u=l.getMainXScale(),c=u.range();if(c[0]>1&&(i.select("g.legend").attr("transform","translate("+c[0]+", 0)"),s)){var h=U.getSVGElementSize(i.select("g.legend-title").select("text"),{useBBox:!0}).width,f=c[0]-h-9;f>1?i.select("g.legend-title").attr("transform","translate("+f+", 0)"):(i.select("g.legend").attr("transform","translate("+c[0]+", 16)"),i.select("g.legend-title").attr("transform","translate("+c[0]+", 0)"))}}else i.select("g.legend-title").attr("transform","translate(0, 0)")},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},n.prototype.render=function(t){var r=this.getOptions(),i=this.getComponentContainer(),a=U.getSVGElementSize(i,{useAttrs:!0}).width,o=_.getProperty(r,"color","gradient","colors"),s=_.getProperty(r,"heatmap","colorLegend","type"),l=_.getProperty(r,"color","pairing","option"),u=_.getProperty(r,"heatmap","colorLegend","title"),c=_.getProperty(this.getOptions(),"data","loading");if(c){i.html("");return}var h=!_.isEmpty(o),f=this.model.getValueDomain(),p=!(a<=Qt.color.barWidth),d=p?Qt.color.barWidth:a,g=U.appendOrSelect(i,"g.legend"),v=U.appendOrSelect(g,"g.legend-axis");if(u){var b=U.appendOrSelect(i,"g.legend-title"),m=U.appendOrSelect(b,"text");m.text(u).attr("dy","0.7em"),g.attr("transform","translate(0, 16)")}var y=f[0]<0&&f[1]>0?"diverge":"mono";(l<1&&l>4&&y==="mono"||l<1&&l>2&&y==="diverge")&&(l=1);var w=[],O=y==="diverge"?17:11;if(h)w=o;else for(var x=1;x<O+1;x++)w.push(s===Ii.LINEAR?"stop-color-"+y+"-"+l+"-"+x:"fill-"+y+"-"+l+"-"+x);var M=Ne(f[0],f[1]),S=OS(M,3),A=mn().domain(f).range([0,d]),k=Bc(A).tickSize(0).tickValues(S);switch(s){case Ii.LINEAR:this.drawLinear(w,g,d);break;case Ii.QUANTIZE:var E=this.drawQuantize(w,y,h,g,d);A.range([E,d]);break;default:throw Error("Entered color legend type is not supported.")}v.attr("transform","translate(0,"+Qt.color.axisYTranslation+")").call(k),v.select(".domain").remove(),v.select("g.tick:last-of-type text").style("text-anchor",p?"middle":"end"),v.select("g.tick:first-of-type text").style("text-anchor",p?"middle":"start")},n.prototype.drawLinear=function(t,r,i){var a=100/(t.length-1),o=U.appendOrSelect(r,"linearGradient");o.attr("id",this.gradient_id+"-legend").selectAll("stop").data(t).enter().append("stop").attr("offset",function(l,u){return u*a+"%"}).attr("class",function(l,u){return t[u]}).attr("stop-color",function(l){return l});var s=U.appendOrSelect(r,"rect");s.attr("width",i).attr("height",Qt.color.barHeight).style("fill","url(#"+this.gradient_id+"-legend)")},n.prototype.drawQuantize=function(t,r,i,a,o){!i&&r==="diverge"&&t.splice(t.length/2,1);var s=ca().domain(t).range([0,o]),l=U.appendOrSelect(a,"g.quantized-rect");return l.selectAll("rect").data(s.domain()).join("rect").attr("x",function(u){return s(u)}).attr("y",0).attr("width",Math.max(0,s.bandwidth()-1)).attr("height",Qt.color.barHeight).attr("class",function(u){return u}).attr("fill",function(u){return u}),(!i&&r)==="mono"?s.bandwidth()-1:0},n.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(C.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},n}(Nc);function vP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mP(e){return xP(e)||bP(e)||_P(e)||yP()}function yP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _P(e,n){if(!!e){if(typeof e=="string")return Eu(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eu(e,n)}}function bP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xP(e){if(Array.isArray(e))return Eu(e)}function Eu(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function hv(e){return e.reduce(function(n,t){return Array.isArray(t)?n.push.apply(n,mP(hv(t))):n.push(t),n},[])}function OP(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return hv(n).reduce(function(r,i){return i(r)},function(){function r(){vP(this,r)}return r}())}function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(t){return typeof t}:Wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function wP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TP(e,n,t){return n&&Fh(e.prototype,n),t&&Fh(e,t),e}function EP(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Su(e,n)}function Su(e,n){return Su=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Su(e,n)}function SP(e){var n=CP();return function(){var r=Ao(e),i;if(n){var a=Ao(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return MP(this,i)}}function MP(e,n){return n&&(Wa(n)==="object"||typeof n=="function")?n:dv(e)}function dv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function AP(e){var n=function(t){EP(i,t);var r=SP(i);function i(a){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(wP(this,i),o=r.call(this,a,s),o.children=[],!a||a.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return o.element=a,o.options=Object.assign(Object.create(o.constructor.options),s),o.constructor.components.set(o.element,dv(o)),o}return TP(i,[{key:"release",value:function(){for(var o=this.children.pop();o;o=this.children.pop())o.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(o,s){return this.components.get(o)||new this(o,s)}}]),i}(e);return n}function $a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$a=function(t){return typeof t}:$a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function DP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Uh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PP(e,n,t){return n&&Uh(e.prototype,n),t&&Uh(e,t),e}function Ya(e,n,t){return typeof Reflect!="undefined"&&Reflect.get?Ya=Reflect.get:Ya=function(i,a,o){var s=LP(i,a);if(!!s){var l=Object.getOwnPropertyDescriptor(s,a);return l.get?l.get.call(o):l.value}},Ya(e,n,t||e)}function LP(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ai(e),e!==null););return e}function kP(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mu(e,n)}function Mu(e,n){return Mu=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Mu(e,n)}function RP(e){var n=BP();return function(){var r=ai(e),i;if(n){var a=ai(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return IP(this,i)}}function IP(e,n){return n&&($a(n)==="object"||typeof n=="function")?n:NP(e)}function NP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ai(e)}function FP(e){var n=function(t){kP(i,t);var r=RP(i);function i(){var a;DP(this,i);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=r.call.apply(r,[this].concat(s)),a.handles=new Set,a}return PP(i,[{key:"manage",value:function(o){return this.handles.add(o),o}},{key:"unmanage",value:function(o){return this.handles.delete(o),o}},{key:"release",value:function(){var o=this;return this.handles.forEach(function(s){s.release(),o.handles.delete(s)}),Ya(ai(i.prototype),"release",this).call(this)}}]),i}(e);return n}function Ei(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.addEventListener.apply(e,t),{release:function(){return e.removeEventListener.apply(e,t),null}}}function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function UP(e){return zP(e)||GP(e)||VP(e)||HP()}function HP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VP(e,n){if(!!e){if(typeof e=="string")return Cu(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cu(e,n)}}function GP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zP(e){if(Array.isArray(e))return Cu(e)}function Cu(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function jP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Hh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WP(e,n,t){return n&&Hh(e.prototype,n),t&&Hh(e,t),e}function $P(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Au(e,n)}function Au(e,n){return Au=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Au(e,n)}function YP(e){var n=ZP();return function(){var r=Do(e),i;if(n){var a=Do(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return qP(this,i)}}function qP(e,n){return n&&(qa(n)==="object"||typeof n=="function")?n:XP(e)}function XP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(e)}function KP(e){var n=function(t){$P(i,t);var r=YP(i);function i(){return jP(this,i),r.apply(this,arguments)}return WP(i,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overriden to perform actual change in state.")}},{key:"changeState",value:function(){for(var o=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=typeof l[0]=="string"?l.shift():void 0,h=Object(l[0])===l[0]&&typeof l[0]!="function"?l.shift():void 0,f=typeof l[0]=="function"?l.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(c,h)){f&&f(null,!0);return}var p={group:h&&h.group,state:c},d=[p.group,c].filter(Boolean).join("-").split("-").map(function(w){return w[0].toUpperCase()+w.substr(1)}).join(""),g=new CustomEvent(this.options["eventBefore".concat(d)],{bubbles:!0,cancelable:!0,detail:h}),v=h&&h.delegatorNode||this.element,b=!v.dispatchEvent(g);if(b){if(f){var m=new Error("Changing state (".concat(JSON.stringify(p),") has been canceled."));m.canceled=!0,f(m)}}else{var y=[c,h].filter(Boolean);this._changeState.apply(this,UP(y).concat([function(){v.dispatchEvent(new CustomEvent(o.options["eventAfter".concat(d)],{bubbles:!0,cancelable:!0,detail:h})),f&&f()}]))}}}]),i}(e);return n}function Du(e,n){var t=e.target,r=e.currentTarget;if(typeof t.matches=="function"){if(t.matches(n))return t;if(t.matches("".concat(n," *"))){var i=t.closest(n);if((r.nodeType===Node.DOCUMENT_NODE?r.documentElement:r).contains(i))return i}}}function Vh(e){if(!e||typeof e=="function")return{launchingElement:null,launchingEvent:null};var n=e.delegateTarget||e.currentTarget||e,t=e.currentTarget&&e;if(n&&!n.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(t&&!t.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:n,launchingEvent:t}}function Xa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xa=function(t){return typeof t}:Xa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function QP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Gh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JP(e,n,t){return n&&Gh(e.prototype,n),t&&Gh(e,t),e}function t2(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Pu(e,n)}function Pu(e,n){return Pu=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Pu(e,n)}function e2(e){var n=i2();return function(){var r=Po(e),i;if(n){var a=Po(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return n2(this,i)}}function n2(e,n){return n&&(Xa(n)==="object"||typeof n=="function")?n:r2(e)}function r2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(e)}function a2(e){var n=function(t){t2(i,t);var r=e2(i);function i(){return QP(this,i),r.apply(this,arguments)}return JP(i,[{key:"show",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("shown",Vh(o),s)}},{key:"hide",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("hidden",Vh(o),s)}}]),i}(e);return n}var o2=[KP,a2],s2=o2;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function l2(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u2(e,n,t){return n&&zh(e.prototype,n),t&&zh(e,t),e}function c2(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Lu(e,n)}function Lu(e,n){return Lu=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Lu(e,n)}function f2(e){var n=p2();return function(){var r=Lo(e),i;if(n){var a=Lo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return h2(this,i)}}function h2(e,n){return n&&(Za(n)==="object"||typeof n=="function")?n:d2(e)}function d2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function g2(e){var n=function(t){c2(i,t);var r=f2(i);function i(){return l2(this,i),r.apply(this,arguments)}return u2(i,null,[{key:"init",value:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=Object.assign(Object.create(this.options),l);if(!s||s.nodeType!==Node.ELEMENT_NODE&&s.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(s.nodeType===Node.ELEMENT_NODE&&s.matches(u.selectorInit))this.create(s,l);else{var c=u.initEventNames.map(function(h){return Ei(s,h,function(f){var p=Du(f,"[".concat(u.attribInitTarget,"]"));if(p){f.delegateTarget=p;var d=p.ownerDocument.querySelectorAll(p.getAttribute(u.attribInitTarget));if(d.length>1)throw new Error("Target widget must be unique.");if(d.length===1){p.tagName==="A"&&f.preventDefault();var g=o.create(d[0],l);typeof g.createdByLauncher=="function"&&g.createdByLauncher(f)}}})});return{release:function(){for(var f=c.pop();f;f=c.pop())f.release()}}}return""}}]),i.forLazyInit=!0,i}(e);return n}function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function v2(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m2(e,n,t){return n&&jh(e.prototype,n),t&&jh(e,t),e}function y2(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ku(e,n)}function ku(e,n){return ku=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ku(e,n)}function _2(e){var n=O2();return function(){var r=ko(e),i;if(n){var a=ko(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return b2(this,i)}}function b2(e,n){return n&&(Ka(n)==="object"||typeof n=="function")?n:x2(e)}function x2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(e)}var w2=function(e){y2(t,e);var n=_2(t);function t(r,i){var a;return v2(this,t),a=n.call(this,r,i),a._handleFocusinListener=void 0,a._handleKeydownListener=void 0,a._handleFocusin=function(o){var s=a.element.querySelector(a.options.selectorModalContainer)||a.element;a.element.classList.contains(a.options.classVisible)&&!s.contains(o.target)&&a.options.selectorsFloatingMenus.every(function(l){return!Du(o,l)})&&a.element.querySelector(he.selectorTabbable).focus()},a._hookCloseActions(),a}return m2(t,[{key:"createdByLauncher",value:function(i){this.show(i)}},{key:"shouldStateBeChanged",value:function(i){return i==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(i,a,o){var s=this,l,u=function(){if(l&&(l=s.unmanage(l).release()),i==="shown"&&s.element.offsetWidth>0&&s.element.offsetHeight>0){s.previouslyFocusedNode=s.element.ownerDocument.activeElement;var p=s.element.querySelector(s.options.selectorPrimaryFocus)||s.element.querySelector(he.selectorTabbable);p.focus()}o()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),i==="shown"){var c="onfocusin"in this.element.ownerDocument.defaultView,h=c?"focusin":"focus";this._handleFocusinListener=this.manage(Ei(this.element.ownerDocument,h,this._handleFocusin,!c))}i==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):i==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),l=this.manage(Ei(this.element,"transitionend",u))}},{key:"_hookCloseActions",value:function(){var i=this;this.manage(Ei(this.element,"click",function(a){var o=Du(a,i.options.selectorModalClose);o&&(a.delegateTarget=o),(o||a.target===i.element)&&i.hide(a)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(Ei(this.element.ownerDocument.body,"keydown",function(a){a.which===27&&i.shouldStateBeChanged("hidden")&&(a.stopPropagation(),i.hide(a))}))}}],[{key:"options",get:function(){var i=he.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(i,"--overflow-menu-options"),".".concat(i,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(i,"--modal-container"),classVisible:"is-visible",classBody:"".concat(i,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),t.components=new WeakMap,t}(OP(AP,g2,s2,FP)),T2=w2,E2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fc=function(e){E2(n,e);function n(t,r,i){var a=e.call(this,t,r,i)||this;return a.type="modal",a.isEventListenerAdded=!1,a.handleShowModal=function(){a.modal.html(a.getModalHTML()),a.modal.select("div.bx--modal-footer button.bx--btn").on("click",function(){return a.model.exportToCSV()});var o=T2.create(a.modal.node());o.show()},a.init(),a}return n.prototype.addEventListeners=function(){this.services.events.addEventListener(C.Modal.SHOW,this.handleShowModal)},n.prototype.removeEventListeners=function(){this.services.events.removeEventListener(C.Modal.SHOW,this.handleShowModal)},n.prototype.getModalHTML=function(){var t=this.model.getOptions(),r=_.getProperty(t,"style","prefix"),i=this.model.getTabularDataArray();return`
		<div class="bx--modal-container cds--modal-container">
			<div class="bx--modal-header cds--modal-header">
				<p class="bx--modal-header__label bx--type-delta cds--modal-header__label cds--type-delta" id="modal-title">Tabular representation</p>

				<p class="bx--modal-header__heading bx--type-beta cds--modal-header__heading cds--type-beta" id="modal-description">`+t.title+`</p>

				<button class="bx--modal-close cds--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="bx--modal-close__icon cds--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>

			<div class="bx--modal-content cds--modal-content">
				<table class="bx--data-table bx--data-table--no-border cds--data-table cds--data-table--no-border">
					<thead>
						<tr>
							`+zt(i,0).map(function(a){return`<th scope="col">
								<div class="bx--table-header-label cds--table-header-label">`+a+`</div>
							</th>`}).join("")+`
						</tr>
					</thead>

					<tbody>`+i.slice(1).map(function(a){return`
							<tr>
								`+a.map(function(o){return"<td>"+o+"</td>"}).join("")+`
							</tr>`}).join("")+`
					</tbody>
				</table>
			</div>

			<div class="bx--modal-footer cds--modal-footer">
			  <div class="`+he.prefix+"--"+r+`-modal-footer-spacer"></div>
			  <button class="bx--btn bx--btn--primary cds--btn cds--btn--primary" type="button" data-modal-primary-focus>Download as CSV</button>
			</div>
		</div>`},n.prototype.render=function(){var t=this.model.getOptions();if(!this.isEventListenerAdded){var r=H(this.services.domUtils.getHolder()),i=_.getProperty(t,"style","prefix");this.modal=U.appendOrSelect(r,"div."+he.prefix+"--"+i+"--modal"),this.addEventListeners(),this.isEventListenerAdded=!0,this.modal.attr("data-modal",!0).attr("class","bx--modal cds--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby","modal-title").attr("aria-describedby","modal-description").attr("tabindex",-1)}},n.prototype.destroy=function(){this.removeEventListeners(),this.isEventListenerAdded=!1},n}(Ct),Mr,fe;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(fe||(fe={}));var Wh=(Mr={},Mr[fe.LEFT]=function(e,n,t){return{top:e.top-Math.round(n.offsetHeight/2)+Math.round(t.height/2),left:Math.round(e.left-n.offsetWidth)}},Mr[fe.RIGHT]=function(e,n,t){return{top:e.top-Math.round(n.offsetHeight/2)+Math.round(t.height/2),left:Math.round(e.left+t.width)}},Mr[fe.TOP]=function(e,n,t){return{top:Math.round(e.top-n.offsetHeight),left:e.left-Math.round(n.offsetWidth/2)+Math.round(t.width/2)}},Mr[fe.BOTTOM]=function(e,n,t){return{top:Math.round(e.top+t.height),left:e.left-Math.round(n.offsetWidth/2)+Math.round(t.width/2)}},Mr),Ra=typeof window!="undefined"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},us=function(){function e(n){n===void 0&&(n={}),this.positions=Wh,this.positions=Object.assign({},Wh,n)}return e.prototype.getRelativeOffset=function(n){for(var t={left:n.offsetLeft,top:n.offsetTop};n.offsetParent&&getComputedStyle(n.offsetParent).position==="static";)t.left+=n.offsetLeft,t.top+=n.offsetTop,n=n.offsetParent;return t},e.prototype.getAbsoluteOffset=function(n){for(var t=n,r={top:0,left:0};t.offsetParent;){var i=getComputedStyle(t.offsetParent);i.position==="static"&&i.marginLeft&&i.marginTop&&(parseInt(i.marginTop,10)&&(r.top+=parseInt(i.marginTop,10)),parseInt(i.marginLeft,10)&&(r.left+=parseInt(i.marginLeft,10))),t=t.offsetParent}var a=n.getBoundingClientRect(),o=document.body.getBoundingClientRect();return{top:a.top-o.top+r.top,left:a.left-o.left+r.left}},e.prototype.findRelative=function(n,t,r){var i=this.getRelativeOffset(n),a=n.getBoundingClientRect();return this.calculatePosition(i,a,t,r)},e.prototype.findAbsolute=function(n,t,r){var i=this.getAbsoluteOffset(n),a=n.getBoundingClientRect();return this.calculatePosition(i,a,t,r)},e.prototype.findPosition=function(n,t,r,i){i===void 0&&(i=this.getAbsoluteOffset);var a=i(n),o=n.getBoundingClientRect();return this.calculatePosition(a,o,t,r)},e.prototype.findPositionAt=function(n,t,r){return this.calculatePosition(n,{height:0,width:0},t,r)},e.prototype.getPlacementBox=function(n,t){var r=n.offsetHeight+t.top,i=n.offsetWidth+t.left;return{top:t.top,bottom:r,left:t.left,right:i}},e.prototype.addOffset=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),Object.assign({},n,{top:n.top+t,left:n.left+r})},e.prototype.setElement=function(n,t){n.style.top=t.top+"px",n.style.left=t.left+"px"},e.prototype.findBestPlacement=function(n,t,r,i,a){var o=this;i===void 0&&(i=this.defaultContainerFunction),a===void 0&&(a=this.findPosition);var s=r.map(function(l){var u=a(n,t,l),c=o.getPlacementBox(t,u),h=c.bottom-i().height,f=c.right-i().width;h=h<0?t.offsetHeight:h,f=f<0?t.offsetWidth:f;var p=t.offsetHeight*t.offsetWidth,d=h*f,g=p-d;g=g===0?p:g;var v=g/p;return{placement:l,weight:v}});return s.sort(function(l,u){return u.weight-l.weight}),s[0].placement},e.prototype.findBestPlacementAt=function(n,t,r,i){var a=this;i===void 0&&(i=this.defaultContainerFunction);var o=function(s,l,u){return a.findPositionAt(n,l,u)};return this.findBestPlacement(null,t,r,i,o)},e.prototype.defaultContainerFunction=function(){return{width:Ra.innerHeight-Ra.scrollY,height:Ra.innerWidth-Ra.scrollX}},e.prototype.calculatePosition=function(n,t,r,i){return this.positions[i]?this.positions[i](n,r,t):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},e}();new us;var Gs=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function pv(e,n,t,r,i){var a=n===0,o=Number(Ji(new Date(e),"c"))===2,s=Number(Ji(new Date(e),"q"))===1,l=n!==0?t[n-1]:null;switch(r){case"15seconds":return a||Ia(e)||_i(e,l)||Qn(e);case"minute":return a||Ia(e)||_i(e,l)||Qn(e);case"30minutes":return a||Ia(e)||_i(e,l)||Qn(e);case"hourly":return a||Ia(e)||_i(e,l)||Qn(e);case"daily":return i?a||o||Qn(e):a||_i(e,l)||Qn(e);case"monthly":return a||Qn(e);case"quarterly":return a||s;case"yearly":return!1;default:throw new Error(r+" is not a valid time interval.")}}function Ru(e,n,t,r,i){var a=i.showDayName,o=r==="daily"&&a?"weekly":r,s=new Date(e),l=_.getProperty(i,"timeIntervalFormats")[o],u=_.getProperty(l,"primary"),c=_.getProperty(l,"secondary"),h=pv(e,n,t,r,a)?u:c,f=i.localeObject;return Ji(s,h,{locale:f})}function Ro(e){var n=new Date(e);return{M:n.getMonth()+1,d:n.getDate(),H:n.getHours(),m:n.getMinutes(),s:n.getSeconds()}}function S2(e){if(!!e)return e.slice(1).map(function(n,t){return n-e[t]})}function M2(e){var n=Gs.reduce(function(t,r,i){r[0];var a=r[1],o=Gs[t][1],s=Math.abs(o-e),l=Math.abs(a-e);return s<l?t:i},0);return Gs[n][0]}function Iu(e){if(e.length===1)return"15seconds";var n=S2(e),t=jn(n);return M2(t)}function Ia(e){var n=Ro(e),t=n.s,r=n.m,i=n.H;return i===0&&r===0&&t===0}function _i(e,n){var t=Ro(e).M,r=Ro(n).M;return t!==r}function Qn(e){var n=Ro(e),t=n.M,r=n.d,i=n.s,a=n.m,o=n.H;return t===1&&r===1&&o===0&&a===0&&i===0}var C2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A2=function(e){C2(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.type="threshold",i.renderType=ht.SVG,i.positionService=new us,i}return n.prototype.render=function(t){var r=this;t===void 0&&(t=!1);var i=_.getProperty(this.getOptions(),"axes"),a=[];Object.keys(i).forEach(function(d){var g,v;if(Object.values(K).includes(d)){var b=i[d];b.thresholds&&b.thresholds.length>0&&a.push({axisPosition:d,thresholds:b.thresholds,correspondingDatasets:(g=b)===null||g===void 0?void 0:g.correspondingDatasets,mapsTo:(v=b)===null||v===void 0?void 0:v.mapsTo})}});var o=this.getComponentContainer({withinChartClip:!0}),s=o.selectAll("g.axis-thresholds").data(a,function(d){return d.axisPosition});s.exit().attr("opacity",0).remove();var l=s.enter().append("g"),u=l.merge(s);u.attr("class",function(d){return"axis-thresholds "+d.axisPosition});var c=u.selectAll("g.threshold-group").data(function(d){return d.thresholds.map(function(g){return g.axisPosition=d.axisPosition,g.datum=r.constructDatumObj(d,g),g})});c.exit().attr("opacity",0).remove();var h=c.enter().append("g");h.append("line").attr("class","threshold-line"),h.append("rect").attr("class","threshold-hoverable-area");var f=h.merge(c);f.attr("class","threshold-group");var p=this;u.each(function(d){var g=d.axisPosition,v=p.services.cartesianScales.getScaleByPosition(g),b=p.services.cartesianScales.getScaleTypeByPosition(g),m=null,y=null;g===K.LEFT||g===K.RIGHT?(y=v,m=p.services.cartesianScales.getMainXScale()):(m=v,y=p.services.cartesianScales.getMainYScale());var w=b===st.LABELS,O=m.range(),x=O[0],M=O[1],S=y.range(),A=S[0],k=S[1],E=p.services.cartesianScales,P=E.getOrientation(),B=function(L){return E.getDomainValue(L)},N=function(L){return E.getRangeValue(L)},R=_.flipDomainAndRangeBasedOnOrientation(B,N,P),I=R[0],F=R[1],G=H(this);g===K.TOP||g===K.BOTTOM?(G.selectAll("line.threshold-line").transition().call(function(L){return p.services.transitions.setupTransition({transition:L,name:"threshold-line-update",animate:t})}).attr("y1",k).attr("y2",A).attr("x1",function(L){var z=L.datum;return I(z)+(w?v.step()/2:0)}).attr("x2",function(L){var z=L.datum;return I(z)+(w?v.step()/2:0)}).style("stroke",function(L){var z=L.fillColor;return z}),G.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",function(L){var z=L.datum;return-I(z)}).attr("width",Math.abs(A-k)).classed("rotate",!0)):(G.selectAll("line.threshold-line").transition().call(function(L){return p.services.transitions.setupTransition({transition:L,name:"threshold-line-update",animate:t})}).attr("x1",x).attr("x2",M).attr("y1",function(L){var z=L.datum;return F(z)+(w?v.step()/2:0)}).attr("y2",function(L){var z=L.datum;return F(z)+(w?v.step()/2:0)}).style("stroke",function(L){var z=L.fillColor;return z}),G.selectAll("rect.threshold-hoverable-area").attr("x",x).attr("y",function(L){var z=L.datum;return F(z)}).attr("width",Math.abs(M-x)).classed("rotate",!1))}),this.services.events.addEventListener(C.Threshold.SHOW,function(d){r.setThresholdLabelPosition(d.detail),r.label.classed("hidden",!1)}),this.services.events.addEventListener(C.Threshold.HIDE,function(d){r.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()},n.prototype.getFormattedValue=function(t){var r=t.value,i=t.axisPosition,a=this.getOptions(),o=this.services.cartesianScales.getScaleTypeByPosition(i);if(o===st.TIME){var s=[K.LEFT,K.RIGHT].includes(i),l=this.services.cartesianScales.getMainXScale(),u=this.services.cartesianScales.getMainYScale(),c=s?u:l,h=_.getProperty(a,"timeScale"),f=Iu(c.ticks());return Ru(r,0,c.ticks(),f,h)}return r.toLocaleString("en")},n.prototype.appendThresholdLabel=function(){var t=H(this.services.domUtils.getHolder()),r=_.getProperty(this.getOptions(),"style","prefix");this.label=U.appendOrSelect(t,"div."+he.prefix+"--"+r+"--threshold--label").classed("hidden",!0)},n.prototype.setThresholdLabelPosition=function(t){var r=t.event,i=t.datum,a=this.services.domUtils.getHolder(),o=fr(r,a),s=i.valueFormatter?i.valueFormatter(i.value):this.getFormattedValue(i);this.label.html((i.label||"Threshold")+": "+s).style("background-color",i.fillColor);var l=this.label.node(),u=this.positionService.findBestPlacementAt({left:o[0],top:o[1]},l,[fe.RIGHT,fe.LEFT,fe.TOP,fe.BOTTOM],function(){return{width:a.offsetWidth,height:a.offsetHeight}}),c=this.positionService.findPositionAt({left:o[0],top:o[1]},l,u);this.positionService.setElement(l,c)},n.prototype.constructDatumObj=function(t,r){var i={};return t.correspondingDatasets&&(i.group=_.getProperty(t,"correspondingDatasets",0)),i[t.mapsTo]=r.value,i},n.prototype.addEventListeners=function(){var t=this,r=this.getComponentContainer({withinChartClip:!0});r.selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(i){H(this.parentNode).select("line.threshold-line").classed("active",!0),t.services.events.dispatchEvent(C.Threshold.SHOW,{event:i,hoveredElement:H(this),datum:H(this).datum()})}).on("mouseout",function(i){H(this.parentNode).select("line.threshold-line").classed("active",!1),t.services.events.dispatchEvent(C.Threshold.HIDE,{event:i,hoveredElement:H(this),datum:H(this).datum()})})},n}(Ct),D2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cs=function(e){D2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="title",t.renderType=ht.HTML,t}return n.prototype.render=function(){var t=this.getComponentContainer(),r=_.getProperty(this.getOptions(),"title"),i=t.selectAll("p.title").data([r]);if(i.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(i).html(function(o){return o}),i.node()&&i.node().offsetWidth<i.node().scrollWidth){var a=this;i.on("mouseover",function(o){a.services.events.dispatchEvent(C.Tooltip.SHOW,{event:o,hoveredElement:i,content:i.text()})}).on("mousemove",function(o){a.services.events.dispatchEvent(C.Tooltip.MOVE,{event:o})}).on("mouseout",function(){a.services.events.dispatchEvent(C.Tooltip.HIDE)})}i.exit().remove()},n.prototype.truncateTitle=function(t,r){if(!(r<=0)){var i=t.text();if(t.node().getComputedTextLength()>r){t.append("tspan").text("...");var a=U.appendOrSelect(t,"tspan").node().getComputedTextLength(),o=t.text(),s=this.getSubstringIndex(t.node(),0,o.length-1,r-a);t.html(o.substring(0,s-1)).append("tspan").text("...");var l=this;t.on("mouseover",function(u){l.services.events.dispatchEvent(C.Tooltip.SHOW,{event:u,hoveredElement:t,content:i})}).on("mousemove",function(u){l.services.events.dispatchEvent(C.Tooltip.MOVE,{event:u})}).on("mouseout",function(){l.services.events.dispatchEvent(C.Tooltip.HIDE)})}}},n.prototype.getMaxTitleWidth=function(){return U.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width},n.prototype.getSubstringIndex=function(t,r,i,a){var o=Math.floor((i+r)/2);return t.getSubStringLength(0,o)>a?this.getSubstringIndex(t,r,o,a):t.getSubStringLength(0,o)<a?t.getSubStringLength(0,o+1)>a?o:this.getSubstringIndex(t,o,i,a):o},n}(Ct),P2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L2=function(e){P2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="meter-title",t.renderType=ht.SVG,t}return n.prototype.render=function(){var t=_.getProperty(this.model.getDisplayData(),0),r=this.getOptions(),i=this.getComponentContainer(),a=r.data.groupMapsTo,o=_.getProperty(r,"meter","proportional");if(o)this.displayTotal(),this.displayBreakdownTitle();else{var s=i.selectAll("text.meter-title").data([t[a]]);s.enter().append("text").classed("meter-title",!0).merge(s).attr("x",0).attr("y","1em").text(function(c){return c}),s.exit().remove(),this.appendPercentage()}this.displayStatus();var l=this.getMaxTitleWidth(),u=U.appendOrSelect(i,"text.meter-title");l>0&&u.node().getComputedTextLength()>l&&this.truncateTitle(u,l)},n.prototype.displayBreakdownTitle=function(){var t=this.getComponentContainer(),r=this.getOptions(),i=this.model.getMaximumDomain(this.model.getDisplayData()),a=_.getProperty(r,"meter","proportional","total"),o=_.getProperty(r,"meter","proportional","unit")?_.getProperty(r,"meter","proportional","unit"):"",s;if(i===a)s=null;else{var l=a!==null?a-i:i,u=_.getProperty(r,"meter","proportional","breakdownFormatter");s=u!==null?u({datasetsTotal:i,total:a}):i+" "+o+" used ("+l+" "+o+" available)"}var c=t.selectAll("text.proportional-meter-title").data([s]);c.enter().append("text").classed("proportional-meter-title",!0).merge(c).attr("x",0).attr("y","1em").text(function(p){return p}),c.exit().remove();var h=this.getMaxTitleWidth(),f=U.appendOrSelect(t,"text.proportional-meter-title");h>0&&f.node().getComputedTextLength()>h&&this.truncateTitle(f,h)},n.prototype.displayTotal=function(){var t=this.getComponentContainer(),r=this.getOptions(),i=_.getProperty(r,"meter","proportional","total"),a=i?_.getProperty(r,"meter","proportional","total"):this.model.getMaximumDomain(this.model.getDisplayData()),o=_.getProperty(r,"meter","proportional","unit")?_.getProperty(r,"meter","proportional","unit"):"",s=_.getProperty(r,"meter","proportional","totalFormatter"),l=s!==null?s(a):i+" "+o+" total",u=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),c=u.width?u.width:this.parent.node().getAttribute("width"),h=t.selectAll("text.proportional-meter-total").data([l]);h.enter().append("text").classed("proportional-meter-total",!0).merge(h).attr("x",this.model.getStatus()?c-oe.total.paddingRight:c).attr("y","1em").attr("text-anchor","end").text(function(f){return f}),h.exit().remove()},n.prototype.displayStatus=function(){var t=this,r=this.getComponentContainer(),i=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),a=i.width?i.width:0,o=this.model.getStatus(),s=oe.status.indicatorSize/2,l=U.appendOrSelect(r,"g.status-indicator").attr("class",o!==null?"status-indicator status--"+o:"").attr("transform","translate("+(a-s)+", 0)"),u=o?[o]:[],c=l.selectAll("circle.status").data(u);c.enter().append("circle").merge(c).attr("class","status").attr("r",s).attr("cx",0).attr("cy","calc(1em / 2)");var h=l.selectAll("path.innerFill").data(u);h.enter().append("path").merge(h).attr("d",t.getStatusIconPathString(o)).attr("transform","translate(-"+s+", 0)").attr("class","innerFill"),h.exit().remove(),c.exit().remove()},n.prototype.appendPercentage=function(){var t=_.getProperty(this.model.getDisplayData(),0,"value"),r=this.getComponentContainer(),i=U.appendOrSelect(r,"text.meter-title"),a=_.getProperty(this.getOptions(),"meter","statusBar","percentageIndicator","enabled")===!0?[t]:[],o=r.selectAll("text.percent-value").data(a),s=oe.statusBar.paddingRight;o.enter().append("text").classed("percent-value",!0).merge(o).text(function(l){return l+"%"}).attr("x",+i.attr("x")+i.node().getComputedTextLength()+s).attr("y",i.attr("y")),o.exit().remove()},n.prototype.truncateTitle=function(t,r){e.prototype.truncateTitle.call(this,t,r);var i=U.appendOrSelect(this.parent,"tspan"),a=oe.statusBar.paddingRight,o=Math.ceil(i.node().getComputedTextLength()),s=U.appendOrSelect(this.parent,"text.percent-value");s.attr("x",+t.attr("x")+t.node().getComputedTextLength()+o+a)},n.prototype.getMaxTitleWidth=function(){var t=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),r=_.getProperty(this.getOptions(),"meter","proportional"),i=t.width?t.width:this.parent.node().getAttribute("width");if(r!==null){var a=U.appendOrSelect(this.parent,"text.proportional-meter-total").node(),o=U.getSVGElementSize(a,{useBBox:!0}).width;return i-o-oe.total.paddingLeft}else{var s=U.appendOrSelect(this.parent,"text.percent-value"),l=oe.statusBar.paddingRight,u=s.node().getComputedTextLength(),c=U.appendOrSelect(this.parent,"g.status-indicator").node(),h=U.getSVGElementSize(c,{useBBox:!0}).width+oe.status.paddingLeft;return i-u-l-h}},n.prototype.getStatusIconPathString=function(t){switch(t){case ki.SUCCESS:return"M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";case ki.DANGER:return"M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";case ki.WARNING:return"M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z"}},n}(cs),k2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gv=function(e){k2(n,e);function n(t,r,i){var a=e.call(this,t,r,i)||this;return a.type="tooltip",a.renderType=ht.HTML,a.isEventListenerAdded=!1,a.positionService=new us,a.handleShowTooltip=function(o){var s=o.detail.data||o.detail.items,l=a.getTooltipHTML(o),u=U.appendOrSelect(a.tooltip,"div.content-box");if(_.getProperty(a.getOptions(),"tooltip","customHTML"))if(o.detail.content){var c='<div class="title-tooltip"><p>'+o.detail.content+"</p></div>";u.html(c)}else u.html(a.model.getOptions().tooltip.customHTML(s,l));else u.html(l);a.positionTooltip(o),a.tooltip.classed("hidden",!1).attr("aria-hidden",!1)},a.handleHideTooltip=function(){a.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},a.init(),a}return n.prototype.addTooltipEventListener=function(){var t=this;this.services.events.addEventListener(C.Tooltip.MOVE,function(r){t.tooltip.classed("hidden")===!1&&t.positionTooltip(r)}),this.services.events.addEventListener(C.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(C.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(C.Chart.MOUSEOUT,this.handleHideTooltip)},n.prototype.removeTooltipEventListener=function(){this.services.events.removeEventListener(C.Tooltip.MOVE,null),this.services.events.removeEventListener(C.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(C.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(C.Chart.MOUSEOUT,this.handleHideTooltip)},n.prototype.getItems=function(t){return t.detail.items?t.detail.items:[]},n.prototype.formatItems=function(t){var r=this,i=this.getOptions(),a=_.getProperty(i,"tooltip","truncation","type"),o=_.getProperty(i,"tooltip","truncation","threshold"),s=_.getProperty(i,"tooltip","truncation","numCharacter");return a!==Pn.NONE?t.map(function(l){var u=l.labelIcon?12:0;return l.value=l.value?r.valueFormatter(l.value,l.label):l.value,l.label&&l.label.length+u>o&&(l.label=_.truncateLabel(l.label,a,s)),l.value&&l.value.length>o&&(l.value=_.truncateLabel(l.value,a,s)),l}):t},n.prototype.getTooltipHTML=function(t){var r;if(t.detail.content)r='<div class="title-tooltip"><p>'+t.detail.content+"</p></div>";else{var i=this.getItems(t),a=this.formatItems(i);r='<ul class="multi-tooltip">'+a.map(function(o){return`<li>
							<div class="datapoint-tooltip `+(o.bold?"bold":"")+`">
								`+(o.class?'<div class="tooltip-color '+o.class+'"></div>':"")+`
								`+(o.color?'<div style="background-color: '+o.color+'" class="tooltip-color"></div>':"")+`
								<div class="label">
								<p>`+(o.label||"")+`</p>
								`+(o.labelIcon?'<span class="label-icon"/>'+o.labelIcon+"</span>":"")+`
								</div>
								`+(o.value===void 0||o.value===null?"":'<p class="value"/>'+o.value+"</p>")+`
							</div>
						</li>`}).join("")+"</ul>"}return r},n.prototype.valueFormatter=function(t,r){var i=this.getOptions(),a=_.getProperty(i,"tooltip","valueFormatter");return a?a(t,r):typeof t.getTime=="function"?Ji(t,"MMM d, yyyy"):t.toLocaleString()},n.prototype.render=function(){var t=this.getOptions(),r=_.getProperty(t,"tooltip","enabled");if(r){var i=H(this.services.domUtils.getHolder()),a=_.getProperty(t,"style","prefix");this.tooltip=U.appendOrSelect(i,"div."+he.prefix+"--"+a+"--tooltip"),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!r&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)},n.prototype.positionTooltip=function(t){var r=this.services.domUtils.getHolder(),i=this.tooltip.node(),a=this.getOptions(),o=_.getProperty(a,"zoomBar","top","enabled"),s=_.getProperty(t,"detail","mousePosition");if(!s)s=fr(_.getProperty(t,"detail","event"),r);else{var l=_.getProperty(a,"zoomBar","top","type"),u=Me.height[l];o&&(s[1]+=u+Me.spacerHeight)}var c,h=r.offsetWidth,f=r.offsetHeight,p;s[0]/h>.9?p=fe.LEFT:s[0]/h<.1?p=fe.RIGHT:p=this.positionService.findBestPlacementAt({left:s[0],top:s[1]},i,[fe.RIGHT,fe.LEFT,fe.TOP,fe.BOTTOM],function(){return{width:h,height:f}});var d=Ud.horizontalOffset;p===fe.LEFT&&(d*=-1),c=this.positionService.findPositionAt({left:s[0]+d,top:s[1]},i,p),this.positionService.setElement(i,c)},n}(Ct),R2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I2=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},vv=function(e){R2(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.getItems=function(t){var r=this;if(t.detail.items)return t.detail.items;var i=t.detail.data;if(!i.length||!i[0])return[];var a=this.getOptions(),o=this.services.cartesianScales,s=o.getDomainIdentifier(),l=o.isDualAxes(),u=a.data.groupMapsTo,c=o.getDomainLabel(),h=o.getRangeLabel(),f=i[0][s],p;if(i.length===1){var d=i[0],g=o.getRangeIdentifier(d);if(l){var v=o.getRangeAxisPosition({datum:d,groups:[d[u]]});h=o.getScaleLabel(v)}var b=d[g];p=I2([{label:c,value:f}],Array.isArray(b)&&b.length===2?[{label:"Start",value:b[0]},{label:"End",value:b[1]}]:[{label:h,value:d[g]}]),t.detail.additionalItems&&t.detail.additionalItems.forEach(function(y){return p.push({label:y.label,value:y.value})}),p.push({label:a.tooltip.groupLabel,value:d[u],color:this.model.getFillColor(d[u]),class:this.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:d[u]})})}else if(i.length>1&&(p=[{label:c,value:f}],p=p.concat(i.map(function(y){var w=y[o.getRangeIdentifier(y)];return{label:y[u],value:Array.isArray(w)&&w.length===2?w[0]+" - "+w[1]:w,color:r.model.getFillColor(y[u]),class:r.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:y[u]})}}).sort(function(y,w){return w.value-y.value})),!l&&_.getProperty(a,"tooltip","showTotal")===!0)){var m=o.getRangeIdentifier();p.push({label:zt(a,"tooltip.totalLabel")||"Total",value:i.reduce(function(y,w){return y+w[m]},0),bold:!0})}return p},n}(gv),N2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mv=function(e){N2(n,e);function n(t,r,i){var a=e.call(this,t,r,i)||this;return a.type="chart-clip",a.renderType=ht.SVG,a.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),a.init(),a}return n.prototype.init=function(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})},n.prototype.render=function(t){this.createClipPath()},n.prototype.createClipPath=function(){var t=this.parent,r=this.services.cartesianScales,i=r.getMainXScale(),a=r.getMainYScale(),o=i.range(),s=o[0],l=o[1],u=a.range(),c=u[0],h=u[1];this.chartClipPath=U.appendOrSelect(t,"clipPath."+this.type).attr("id",this.chartClipId);var f=U.appendOrSelect(this.chartClipPath,"rect."+this.type);f.attr("x",s).attr("y",h).attr("width",l-s).attr("height",c-h),this.chartClipPath.merge(f).lower()},n}(Ct),B2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F2=function(e){B2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="canvas-chart-clip",t.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999),t}return n.prototype.createClipPath=function(){var t=this.parent,r=U.getSVGElementSize(this.parent,{useAttrs:!0}),i=r.width,a=r.height;this.chartClipPath=U.appendOrSelect(t,"clipPath."+this.type).attr("id",this.chartClipId);var o=U.appendOrSelect(this.chartClipPath,"rect."+this.type);o.attr("x",0).attr("y",0).attr("width",i).attr("height",a),this.chartClipPath.merge(o).lower()},n}(mv),U2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hn=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},H2=function(e){U2(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.type="highlight",i.renderType=ht.SVG,i.positionService=new us,i.highlightStrokeWidth=1,i}return n.prototype.render=function(t){t===void 0&&(t=!1);var r=_.getProperty(this.getOptions(),"axes"),i=[];Object.keys(r).forEach(function(p){if(Object.values(K).includes(p)){var d=r[p];d.highlights&&d.highlights.data.length>0&&i.push({axisPosition:p,highlightStartMapsTo:d.highlights.highlightStartMapsTo,highlightEndMapsTo:d.highlights.highlightEndMapsTo,labelMapsTo:d.highlights.labelMapsTo,highlight:d.highlights.data,color:d.highlights.color})}});var a=this.getComponentContainer({withinChartClip:!0}),o=a.selectAll("g.axis-highlight").data(i,function(p){return p.axisPosition});o.exit().attr("opacity",0).remove();var s=o.enter().append("g"),l=s.merge(o);l.attr("class",function(p){return"axis-highlight "+p.axisPosition});var u=l.selectAll("g.highlight-group").data(function(p){return p.highlight.map(function(d){return d.axisPosition=p.axisPosition,d.highlightStartMapsTo=p.highlightStartMapsTo,d.labelMapsTo=p.labelMapsTo,d.color=p.color,d.highlightEndMapsTo=p.highlightEndMapsTo,d})});u.exit().attr("opacity",0).remove();var c=u.enter().append("g");c.append("rect").attr("class","highlight-bar"),c.append("line").attr("class","highlight-line");var h=c.merge(u);h.attr("class","highlight-group");var f=this;l.each(function(p){var d=p.axisPosition,g=f.services.cartesianScales.getMainXScale(),v=f.services.cartesianScales.getMainYScale(),b=g.range(),m=b[0],y=b[1],w=v.range(),O=w[0],x=w[1],M=f.services.cartesianScales,S=M.getOrientation(),A=function(R){return M.getDomainValue(R)},k=function(R){return M.getRangeValue(R)},E=_.flipDomainAndRangeBasedOnOrientation(A,k,S),P=E[0],B=E[1],N=H(this);d===K.TOP||d===K.BOTTOM?N.selectAll("rect.highlight-bar").transition().call(function(R){return f.services.transitions.setupTransition({transition:R,name:"highlight-bar-update",animate:t})}).attr("y",Math.max(x+f.highlightStrokeWidth,0)).attr("height",Math.max(O-2*f.highlightStrokeWidth,0)).attr("x",function(R){var I=R.highlightStartMapsTo,F=Hn(R,["highlightStartMapsTo"]);return P(F[I])}).attr("width",function(R){var I=R.highlightStartMapsTo,F=R.highlightEndMapsTo,G=Hn(R,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(P(G[F])-P(G[I]),0)}).style("stroke",function(R){var I=R.color,F=R.labelMapsTo,G=Hn(R,["color","labelMapsTo"]);return I&&I.scale[G[F]]?I.scale[G[F]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(R){var I=R.color,F=R.labelMapsTo,G=Hn(R,["color","labelMapsTo"]);return I&&I.scale[G[F]]?I.scale[G[F]]:null}):N.selectAll("rect.highlight-bar").transition().call(function(R){return f.services.transitions.setupTransition({transition:R,name:"highlight-bar-update",animate:t})}).attr("x",m).attr("width",Math.max(y-m,0)).attr("y",function(R){var I=R.highlightEndMapsTo,F=Hn(R,["highlightEndMapsTo"]);return B(F[I])}).attr("height",function(R){var I=R.highlightStartMapsTo,F=R.highlightEndMapsTo,G=Hn(R,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(B(G[I])-B(G[F]),0)}).style("stroke",function(R){var I=R.color,F=R.labelMapsTo,G=Hn(R,["color","labelMapsTo"]);return I&&I.scale[G[F]]?I.scale[G[F]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(R){var I=R.color,F=R.labelMapsTo,G=Hn(R,["color","labelMapsTo"]);return I&&I.scale[G[F]]?I.scale[G[F]]:null})})},n}(Ct),V2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yv=function(e){V2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t.renderType=ht.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;t.parent.selectAll("path.area").transition("legend-hover-area").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-area"})}).attr("opacity",function(a){return a.name!==i.datum().name?un.opacity.unselected:un.opacity.selected})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-area"})}).attr("opacity",un.opacity.selected)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=[0,0],s=this.services.cartesianScales,l=s.getOrientation(),u=Sc().curve(this.services.curves.getD3Curve()).defined(function(E,P){var B=s.getRangeIdentifier(),N=E[B];return N!=null}),c=this.model.getGroupedData(this.configs.groups),h=_.getProperty(a,"bounds"),f=h&&c&&c.length===1;!f&&h&&console.warn("Bounds can only be shown when having 1 single datagroup, you've supplied "+c.length);var p=0,d=function(E,P){_.getProperty(a,"axes",E,"includeZero")===!1&&P[0]>0&&P[1]>0&&(p=P[0])},g=function(E,P){return f?s.getBoundedScaledValues(E,P)[0]:s.getRangeValue(p)},v=function(E,P){return f?s.getBoundedScaledValues(E,P)[1]:s.getRangeValue(E,P)};l===ae.VERTICAL?(o=s.getMainYScale().domain(),d(s.getMainYAxisPosition(),o),u.x(function(E,P){return s.getDomainValue(E,P)}).y0(function(E,P){return g(E,P)}).y1(function(E,P){return v(E,P)})):(o=s.getMainXScale().domain(),d(s.getMainXAxisPosition(),o),u.x0(function(E,P){return g(E,P)}).x1(function(E,P){return v(E,P)}).y(function(E,P){return s.getDomainValue(E,P)}));var b=_.getProperty(a,"color","gradient","enabled"),m=c&&c.length===1&&b;c.length>1&&b&&console.error("Gradients can only be enabled when having 1 single dataset");var y=i.selectAll("path.area").data(c,function(E){return E.name}),w=H(this.services.domUtils.getMainContainer());if(y.exit().attr("opacity",0).remove(),!!c.length){if(m){var O=w.select("path."+this.model.getColorClassName({classNameTypes:[dt.STROKE],dataGroupName:c[0].name})).node(),x=void 0;if(O)x=getComputedStyle(O,null).getPropertyValue("stroke");else{var M=_.getProperty(this.model.getOptions(),"color","scale");if(M!==null){var S=Object.keys(M);x=M[S[0]]}}bu.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(c[0].name.replace(" ","")+"_"+this.gradient_id),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:bu.getStops(o,x)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});var A=this,k=y.enter().append("path");m?k.merge(y).style("fill",function(E){return"url(#"+r.services.domUtils.generateElementIDString(E.name.replace(" ","")+"_"+r.gradient_id)+")"}).attr("class","area").attr("class",function(E){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:E.name,originalClassName:"area"})}).attr("d",function(E){var P=E.data;return u(P)}):(k.attr("opacity",0).merge(y).attr("class","area").attr("class",function(E){return r.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],dataGroupName:E.name,originalClassName:"area"})}).style("fill",function(E){return A.model.getFillColor(E.name)}).transition().call(function(E){return r.services.transitions.setupTransition({transition:E,name:"area-update-enter",animate:t})}).attr("opacity",f?1:un.opacity.selected).attr("d",function(E){var P=E.data;return u(P)}),f&&k.attr("fill-opacity",un.opacity.selected).style("stroke",function(E){return A.model.getStrokeColor(E.name)}).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}},n.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Ct),G2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_v=function(e){G2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area-stacked",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions(),o=a.data.groupMapsTo;t.parent.selectAll("path.area").transition("legend-hover-area").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})}).attr("opacity",function(s){return _.getProperty(s,0,o)!==i.datum().name?un.opacity.unselected:un.opacity.selected})},t.handleLegendMouseOut=function(){t.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(r){return t.services.transitions.setupTransition({transition:r,name:"legend-mouseout-area"})}).attr("opacity",un.opacity.selected)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.getComponentContainer({withinChartClip:!0}),a=this,o=this.getOptions(),s=o.data.groupMapsTo,l=Object.keys(o.axes).some(function(v){return o.axes[v].percentage}),u=this.model.getStackedData({percentage:l,groups:this.configs.groups}),c=_.getProperty(u,0,0),h=this.services.cartesianScales.getDomainAxisPosition({firstDatum:c}),f=this.services.cartesianScales.getRangeAxisPosition({firstDatum:c}),p=this.services.cartesianScales.getScaleByPosition(f),d=i.selectAll("path.area").data(u,function(v){return _.getProperty(v,0,s)});this.areaGenerator=Sc().x(function(v,b){return r.services.cartesianScales.getValueThroughAxisPosition(h,v.data.sharedStackKey,b)}).y0(function(v){return p(v[0])}).y1(function(v){return p(v[1])}).curve(this.services.curves.getD3Curve()),d.exit().attr("opacity",0).remove();var g=d.enter().append("path").attr("opacity",0);g.merge(d).data(u,function(v){return _.getProperty(v,0,s)}).attr("class","area").attr("class",function(v){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:_.getProperty(v,0,s),originalClassName:"area"})}).style("fill",function(v){return a.model.getFillColor(_.getProperty(v,0,s))}).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",function(v){return _.getProperty(v,0,s)}).transition().call(function(v){return r.services.transitions.setupTransition({transition:v,name:"area-update-enter",animate:t})}).attr("opacity",un.opacity.selected).attr("d",this.areaGenerator)},n}(Ct),z2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uc=function(e){z2(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.getBarWidth=function(t){var r=this.getOptions();if(r.bars.width)return r.bars.width;var i=this.model.getDisplayData().length,a=this.services.cartesianScales.getMainXScale(),o=U.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(!a.step){var s=_.getProperty(r,"bars","spacingFactor");return Math.min(r.bars.maxWidth,o*s/i)}return Math.min(r.bars.maxWidth,a.step()/2)},n.prototype.isOutsideZoomedDomain=function(t,r){var i=this.model.getDisplayData().length;if(i<=1)return!1;var a=this.model.get("zoomDomain");if(a!==void 0){var o=this.services.cartesianScales.getDomainScale();return t<o(a[0])||r>o(a[1])}return!1},n}(Ct),j2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bv=function(e){j2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="simple-bar",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this,i=this.getOptions(),a=i.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),l=this.services.cartesianScales.getOrientation(),u=o.selectAll("path.bar").data(s,function(h){return h[a]});u.exit().attr("opacity",0).remove();var c=u.enter().append("path").attr("opacity",0);c.merge(u).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:t})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:h[a],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[a])}).attr("d",function(h,f){var p=r.services.cartesianScales.getRangeIdentifier(),d=r.getBarWidth(),g=h[p],v=r.services.cartesianScales.getDomainValue(h,f)-d/2,b=v+d,m,y;if(Array.isArray(g)&&g.length===2)m=r.services.cartesianScales.getRangeValue(g[0]),y=r.services.cartesianScales.getRangeValue(g[1],f);else{var w=r.services.cartesianScales.getRangeScale(),O=w.domain()[0];m=r.services.cartesianScales.getRangeValue(Math.max(0,O)),y=r.services.cartesianScales.getRangeValue(h,f)}var x=Math.abs(y-m);if(x!==0&&x<2&&(g>0&&l===ae.VERTICAL||g<0&&l===ae.HORIZONTAL?y=m-2:y=m+2),!r.isOutsideZoomedDomain(v,b))return _.generateSVGPathString({x0:v,x1:b,y0:m,y1:y},l)}).attr("opacity",1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h.value}),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.bar").on("mouseover",function(r,i){var a=H(this);a.classed("hovered",!0),t.services.events.dispatchEvent(C.Bar.BAR_MOUSEOVER,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:r,hoveredElement:a,data:[i]})}).on("mousemove",function(r,i){t.services.events.dispatchEvent(C.Bar.BAR_MOUSEMOVE,{event:r,element:H(this),datum:i}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:r})}).on("click",function(r,i){t.services.events.dispatchEvent(C.Bar.BAR_CLICK,{event:r,element:H(this),datum:i})}).on("mouseout",function(r,i){var a=H(this);a.classed("hovered",!1),t.services.events.dispatchEvent(C.Bar.BAR_MOUSEOUT,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:a})})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Uc),W2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xv=function(e){W2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grouped-bar",t.renderType=ht.SVG,t.padding=5,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this,i=this.model.getDisplayData(this.configs.groups),a=this.getOptions(),o=a.data.groupMapsTo;this.setGroupScale();var s=this.getComponentContainer({withinChartClip:!0}),l=_.removeArrayDuplicates(i.map(function(d){var g=r.services.cartesianScales.getDomainIdentifier(d);return d[g]&&typeof d[g].toString=="function"?d[g].toString():d[g]})),u=s.selectAll("g.bars").data(l,function(d){return d});u.exit().attr("opacity",0).remove();var c=u.enter().append("g").classed("bars",!0).attr("role",_t.GROUP).attr("data-name","bars"),h=c.merge(u);h.transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"bar-group-update-enter",animate:t})}).attr("transform",function(d,g){var v=r.services.cartesianScales.getDomainValue(d,g),b=v-r.getGroupWidth()/2;return r.services.cartesianScales.getOrientation()===ae.VERTICAL?"translate("+b+", 0)":"translate(0, "+b+")"});var f=h.selectAll("path.bar").data(function(d){return r.getDataCorrespondingToLabel(d)},function(d){return d[o]});f.exit().attr("opacity",0).remove();var p=f.enter().append("path").attr("opacity",0);p.merge(f).classed("bar",!0).transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"bar-update-enter",animate:t})}).attr("class",function(d){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:d[o],originalClassName:"bar"})}).style("fill",function(d){return r.model.getFillColor(d[o])}).attr("d",function(d){var g=r.groupScale(d[o]),v=r.getBarWidth(),b=g,m=g+v,y=r.services.cartesianScales.getRangeAxisPosition({datum:d}),w=r.services.cartesianScales.getValueThroughAxisPosition(y,0),O=r.services.cartesianScales.getRangeValue(d);if(!r.isOutsideZoomedDomain(b,m))return _.generateSVGPathString({x0:b,x1:m,y0:w,y1:O},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(d){return d.value}),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.bar").on("mouseover",function(r,i){var a=H(this);a.classed("hovered",!0),t.services.events.dispatchEvent(C.Bar.BAR_MOUSEOVER,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:r,hoveredElement:a,data:[i]})}).on("mousemove",function(r,i){var a=H(this);t.services.events.dispatchEvent(C.Bar.BAR_MOUSEMOVE,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:r})}).on("click",function(r,i){t.services.events.dispatchEvent(C.Bar.BAR_CLICK,{event:r,element:H(this),datum:i})}).on("mouseout",function(r,i){var a=H(this);a.classed("hovered",!1),t.services.events.dispatchEvent(C.Bar.BAR_MOUSEOUT,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:a})})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.getDataCorrespondingToLabel=function(t){var r=this,i=this.model.getDisplayData(this.configs.groups);return i.filter(function(a){var o=r.services.cartesianScales.getDomainIdentifier(a);return a[o]===t})},n.prototype.getGroupWidth=function(){var t=this.model.getGroupedData(this.configs.groups),r=this.getTotalGroupPadding();return this.getBarWidth()*t.length+r},n.prototype.getTotalGroupPadding=function(){var t=this.model.getGroupedData(this.configs.groups);if(t.length===1)return 0;var r=this.services.cartesianScales.getDomainScale(),i=Math.min(5,5*(r.step()/70));return i*(t.length-1)},n.prototype.getBarWidth=function(){var t=this.getOptions(),r=_.getProperty(t,"bars","width"),i=_.getProperty(t,"bars","maxWidth");if(r!==null&&(i===null||r<=i))return r;var a=this.model.getGroupedData(this.configs.groups),o=a.length,s=this.getTotalGroupPadding(),l=this.services.cartesianScales.getDomainScale();return Math.min(i,(l.step()-s)/o)},n.prototype.setGroupScale=function(){var t=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=ca().domain(t).rangeRound([0,this.getGroupWidth()])},n}(Uc),$2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ov=function(e){$2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="stacked-bar",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.model.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=a.data.groupMapsTo,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),l=this.model.getActiveDataGroupNames(),u=i.selectAll("g.bars").data(s,function(h){return _.getProperty(h,0,o)});u.exit().attr("opacity",0).remove(),u.enter().append("g").classed("bars",!0).attr("role",_t.GROUP).attr("data-name","bars");var c=i.selectAll("g.bars").selectAll("path.bar").data(function(h){return h},function(h){return h.data.sharedStackKey});c.exit().remove(),c.enter().append("path").merge(c).classed("bar",!0).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:t})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:h[o],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[o])}).attr("d",function(h,f){var p=h.data.sharedStackKey,d=r.getBarWidth(),g=r.services.cartesianScales.getDomainValue(p,f)-d/2,v=g+d,b=r.services.cartesianScales.getRangeValue(h[0],f),m=r.services.cartesianScales.getRangeValue(h[1],f);if(!r.isOutsideZoomedDomain(g,v)){if(Math.abs(m-b)>0&&Math.abs(m-b)>a.bars.dividerSize){var y=h[0]<0&&h[1]<=0;y&&l.length>1?r.services.cartesianScales.getOrientation()===ae.VERTICAL?m+=h[1]===0?2:1:m-=1:y||(r.services.cartesianScales.getOrientation()===ae.VERTICAL?m+=1:m-=1)}return _.generateSVGPathString({x0:g,x1:v,y0:b,y1:m},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h[1]-h[0]}),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this.getOptions(),r=t.data.groupMapsTo,i=this;this.parent.selectAll("path.bar").on("mouseover",function(a,o){var s,l=H(this);l.classed("hovered",!0),i.services.events.dispatchEvent(C.Bar.BAR_MOUSEOVER,{event:a,element:l,datum:o});var u=i.model.getDisplayData(i.configs.groups),c=u.find(function(p){var d=i.services.cartesianScales.getDomainIdentifier(p),g=i.services.cartesianScales.getRangeIdentifier(p);return p[g]===o.data[o[r]]&&p[d].toString()===o.data.sharedStackKey&&p[r]===o[r]});if(c===void 0){var h=i.services.cartesianScales.getDomainIdentifier(),f=i.services.cartesianScales.getRangeIdentifier();c=(s={},s[h]=o.data.sharedStackKey,s[f]=o.data[o[r]],s[r]=o[r],s)}i.services.events.dispatchEvent(C.Tooltip.SHOW,{event:a,hoveredElement:l,data:[c]})}).on("mousemove",function(a,o){var s=H(this);i.services.events.dispatchEvent(C.Bar.BAR_MOUSEMOVE,{event:a,element:s,datum:o}),i.services.events.dispatchEvent(C.Tooltip.MOVE,{event:a})}).on("click",function(a,o){i.services.events.dispatchEvent(C.Bar.BAR_CLICK,{event:a,element:H(this),datum:o})}).on("mouseout",function(a,o){var s=H(this);s.classed("hovered",!1),i.services.events.dispatchEvent(C.Bar.BAR_MOUSEOUT,{event:a,element:s,datum:o}),i.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:s})})},n.prototype.getBarWidth=function(){var t=this.getOptions();if(_.getProperty(t,"bars","width"))return t.bars.width;var r=this.services.cartesianScales.getMainXScale(),i=U.getSVGElementSize(this.parent,{useAttrs:!0}).width,a=this.model.getStackKeys().length,o=_.getProperty(t,"bars","spacingFactor");return r.step?Math.min(t.bars.maxWidth,r.step()/2):Math.min(t.bars.maxWidth,i*o/a)},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Uc),Y2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),q2=function(e){Y2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="boxplot",t.renderType=ht.SVG,t}return n.prototype.render=function(t){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=a.data.groupMapsTo,s=this.model.getDataGroupNames(),l=this.services.cartesianScales.getMainXScale(),u=this.services.cartesianScales.getMainYScale(),c=l.range(),h=c[0],f=c[1],p=u.range(),d=p[0],g=p[1],v=f-h,b=d-g;if(v!==0){var m=this.services.cartesianScales,y=m.getOrientation(),w=y===ae.VERTICAL,O=_.flipDomainAndRangeBasedOnOrientation(function(I,F){return r.services.cartesianScales.getDomainValue(I,F)},function(I,F){return r.services.cartesianScales.getRangeValue(I,F)},y),x=O[0],M=O[1],S=Math.floor((w?v:b)/s.length),A=Math.min(S/2,16),k=this.model.getBoxplotData(),E=i.selectAll(".box-group").data(k);E.exit().remove();var P=E.enter().append("g").attr("class","box-group"),B=E.merge(P);P.append("path").merge(E.select("path.vertical-line.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.STROKE],originalClassName:"vertical-line start"})}).attr("stroke-width",Re.strokeWidth.default).attr("fill","none").transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-verticalstartline",animate:t})}).attr("d",function(I){var F=m.getDomainValue(I[o]),G=F,L=m.getRangeValue(I.whiskers.min),z=m.getRangeValue(I.quartiles.q_25);return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)}),P.append("path").merge(E.select("path.vertical-line.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.STROKE],originalClassName:"vertical-line end"})}).attr("stroke-width",Re.strokeWidth.default).attr("fill","none").transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-verticalendline",animate:t})}).attr("d",function(I){var F=m.getDomainValue(I[o]),G=F,L=m.getRangeValue(I.whiskers.max),z=m.getRangeValue(I.quartiles.q_75);return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)}),P.append("path").merge(E.select("path.box")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],originalClassName:"box"})}).attr("fill-opacity",Re.box.opacity.default).attr("stroke-width",Re.strokeWidth.default).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","box").attr("aria-label",function(I){return I[o]}).transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-quartiles",animate:t})}).attr("d",function(I){var F=m.getDomainValue(I[o])-A/2,G=F+A,L=m.getRangeValue(Math[w?"max":"min"](I.quartiles.q_75,I.quartiles.q_25)),z=L+Math.abs(m.getRangeValue(I.quartiles.q_75)-m.getRangeValue(I.quartiles.q_25));return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)}),P.append("path").merge(E.select("path.highlight-area")).attr("class","highlight-area").attr("opacity",0).attr("d",function(I){var F=m.getDomainValue(I[o])-A/2,G=F+A,L=m.getRangeValue(I.whiskers.min),z=m.getRangeValue(I.whiskers.max);return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)}),P.append("path").merge(E.select("path.whisker.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.STROKE],originalClassName:"whisker start"})}).attr("stroke-width",Re.strokeWidth.thicker).attr("fill","none").transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-startingwhisker",animate:t})}).attr("d",function(I){var F=m.getDomainValue(I[o])-A/4,G=F+A/2,L=m.getRangeValue(I.whiskers.min),z=m.getRangeValue(I.whiskers.min);return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)}),P.append("path").merge(E.select("path.median")).attr("fill","none").attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.STROKE],originalClassName:"median"})}).attr("stroke-width",2).transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-median",animate:t})}).attr("d",function(I){var F=m.getDomainValue(I[o])-A/2,G=F+A,L=m.getRangeValue(I.quartiles.q_50),z=L;return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)}),P.append("path").merge(E.select("path.whisker.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.STROKE],originalClassName:"whisker end"})}).attr("stroke-width",Re.strokeWidth.thicker).attr("fill","none").transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-endingwhisker",animate:t})}).attr("d",function(I){var F=m.getDomainValue(I[o])-A/4,G=F+A/2,L=m.getRangeValue(I.whiskers.max),z=m.getRangeValue(I.whiskers.max);return _.generateSVGPathString({x0:F,x1:G,y0:L,y1:z},y)});var N=B.selectAll("circle.outlier").data(function(I){return I.outliers.map(function(F){var G;return G={min:I.whiskers.min,max:I.whiskers.max},G[o]=I[o],G.value=F,G})});N.exit().remove();var R=N.enter().append("circle");N.merge(R).attr("r",Re.circle.radius).attr("class",function(){return r.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],originalClassName:"outlier"})}).attr("fill-opacity",Re.circle.opacity.default).attr("cx",x).transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"boxplot-update-circles",animate:t})}).attr("cy",M),this.addBoxEventListeners(),this.addCircleEventListeners()}},n.prototype.addBoxEventListeners=function(){var t=this,r=this.getOptions(),i=r.data.groupMapsTo;this.parent.selectAll("path.highlight-area").on("mouseover",function(a,o){var s=H(this),l=H(this.parentNode);l.select("path.box").classed("hovered",!0).attr("fill-opacity",Re.box.opacity.hovered),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:r.tooltip.groupLabel,value:o[i],class:t.model.getColorClassName({classNameTypes:[dt.TOOLTIP]})},{label:"Minimum",value:o.whiskers.min},{label:"Q1",value:o.quartiles.q_25},{label:"Median",value:o.quartiles.q_50},{label:"Q3",value:o.quartiles.q_75},{label:"Maximum",value:o.whiskers.max},{label:"IQR",value:o.quartiles.q_75-o.quartiles.q_25}]}),t.services.events.dispatchEvent(C.Boxplot.BOX_MOUSEOVER,{event:a,element:s,datum:o})}).on("mousemove",function(a,o){var s=H(this);t.services.events.dispatchEvent(C.Boxplot.BOX_MOUSEMOVE,{event:a,element:s,datum:o}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:a})}).on("click",function(a,o){t.services.events.dispatchEvent(C.Boxplot.BOX_CLICK,{event:a,element:H(this),datum:o})}).on("mouseout",function(a,o){var s=H(this),l=H(this.parentNode);l.select("path.box").classed("hovered",!1).attr("fill-opacity",Re.box.opacity.default),t.services.events.dispatchEvent(C.Boxplot.BOX_MOUSEOUT,{event:a,element:s,datum:o}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:s})})},n.prototype.addCircleEventListeners=function(){var t=this,r=this.getOptions(),i=r.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("circle").on("mouseover",function(o,s){var l=H(this);l.classed("hovered",!0).attr("fill-opacity",Re.circle.opacity.hovered).classed("unfilled",!1),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:r.tooltip.groupLabel,value:s[i],class:t.model.getColorClassName({classNameTypes:[dt.TOOLTIP]})},{label:"Outlier",value:s[a]}]}),t.services.events.dispatchEvent(C.Boxplot.OUTLIER_MOUSEOVER,{event:o,element:l,datum:s})}).on("mousemove",function(o,s){var l=H(this);t.services.events.dispatchEvent(C.Boxplot.OUTLIER_MOUSEMOVE,{event:o,element:l,datum:s}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:o})}).on("click",function(o,s){t.services.events.dispatchEvent(C.Boxplot.OUTLIER_CLICK,{event:o,element:H(this),datum:s})}).on("mouseout",function(o,s){var l=H(this);l.classed("hovered",!1).attr("fill-opacity",Re.circle.opacity.default),t.services.events.dispatchEvent(C.Boxplot.OUTLIER_MOUSEOUT,{event:o,element:l,datum:s}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:l})})},n}(Ct),X2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pn=function(e){X2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="scatter",t.renderType=ht.SVG,t.handleChartHolderOnHover=function(r){t.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},t.handleChartHolderOnMouseOut=function(r){t.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-scatter"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-scatter"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);var r=this.configs.fadeInOnChartHolderMouseover;r&&(t.addEventListener(C.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.addEventListener(C.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))},n.prototype.filterBasedOnZoomDomain=function(t){var r=this.services.cartesianScales.getDomainIdentifier(t),i=this.model.get("zoomDomain");return i!==void 0?t.filter(function(a){return a[r].getTime()>=i[0].getTime()&&a[r].getTime()<=i[1].getTime()}):t},n.prototype.getScatterData=function(){var t=this,r=this.getOptions(),i=this.configs.stacked,a;if(i){var o=Object.keys(r.axes).some(function(s){return r.axes[s].percentage});a=this.model.getStackedData({groups:this.configs.groups,percentage:o})}else a=this.model.getDisplayData(this.configs.groups).filter(function(s){var l=t.services.cartesianScales.getRangeIdentifier(s);return s[l]!==void 0&&s[l]!==null});return this.filterBasedOnZoomDomain(a)},n.prototype.render=function(t){var r=_.getProperty(this.getOptions(),"points","enabled")||_.getProperty(this.getOptions(),"bubble","enabled");if(!!r){var i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=a.data.groupMapsTo,s=this.services.cartesianScales.getDomainIdentifier(),l=i.selectAll("circle.dot").data(this.getScatterData(),function(h){return h[o]+"-"+h[s]});l.exit().attr("opacity",0).remove();var u=l.enter().append("circle").classed("dot",!0).attr("opacity",0),c=u.merge(l);this.styleCircles(c,t),this.addEventListeners()}},n.prototype.isDatapointThresholdAnomaly=function(t,r){var i=this,a=this.configs.handleThresholds;if(!a)return!1;var o=this.services.cartesianScales,s=o.getOrientation(),l=_.flipDomainAndRangeBasedOnOrientation(this.services.cartesianScales.getHighestDomainThreshold(),this.services.cartesianScales.getHighestRangeThreshold(),s),u=l[0],c=l[1],h=_.flipDomainAndRangeBasedOnOrientation(function(v,b){return i.services.cartesianScales.getDomainValue(v,b)},function(v,b){return i.services.cartesianScales.getRangeValue(v,b)},s),f=h[0],p=h[1],d=f(t,r),g=p(t,r);if(c&&u)return g<=c.scaleValue&&d>=u.scaleValue;if(c)return g<=c.scaleValue;if(u)return d>=u.scaleValue},n.prototype.styleCircles=function(t,r){var i=this,a=this.getOptions(),o=a.points,s=o.filled,l=o.fillOpacity,u=this.services,c=u.cartesianScales;u.transitions;var h=a.data.groupMapsTo,f=function(m,y){return c.getDomainValue(m,y)},p=function(m,y){return c.getRangeValue(m,y)},d=_.flipDomainAndRangeBasedOnOrientation(f,p,c.getOrientation()),g=d[0],v=d[1],b=this.configs.fadeInOnChartHolderMouseover;t.raise().classed("dot",!0).attr("class",function(m){var y=c.getDomainIdentifier(m),w=i.model.getIsFilled(m[h],m[y],m,s),O=w?[dt.FILL,dt.STROKE]:[dt.STROKE];return i.model.getColorClassName({classNameTypes:O,dataGroupName:m[h],originalClassName:"dot"})}).classed("threshold-anomaly",function(m,y){return i.isDatapointThresholdAnomaly(m,y)}).classed("filled",function(m){var y=c.getDomainIdentifier(m);return i.model.getIsFilled(m[h],m[y],m,s)}).classed("unfilled",function(m){var y=c.getDomainIdentifier(m);return!i.model.getIsFilled(m[h],m[y],m,s)}).transition().call(function(m){return i.services.transitions.setupTransition({transition:m,name:"scatter-update-enter",animate:r})}).attr("cx",g).attr("cy",v).attr("r",a.points.radius).style("fill",function(m){var y=c.getDomainIdentifier(m);if(i.model.getIsFilled(m[h],m[y],m,s))return i.model.getFillColor(m[h],m[y],m)}).style("stroke",function(m){var y=c.getDomainIdentifier(m);return i.model.getStrokeColor(m[h],m[y],m)}).attr("fill-opacity",s?l:1).attr("opacity",b?0:1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",function(m){var y=c.getRangeIdentifier(m);return m[y]}),this.addEventListeners()},n.prototype.getTooltipAdditionalItems=function(t){return null},n.prototype.addEventListeners=function(){var t=this,r=t.getOptions().data.groupMapsTo;this.parent.selectAll("circle").on("mouseover",function(i,a){var o=H(this);o.classed("hovered",!0).attr("class",function(s){return t.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:s[r],originalClassName:o.attr("class")})}).style("fill",function(s){var l=t.services.cartesianScales.getDomainIdentifier(s);return t.model.getFillColor(s[r],s[l],s)}).classed("unfilled",!1),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:i,hoveredElement:o,data:[a],additionalItems:t.getTooltipAdditionalItems(a)}),t.services.events.dispatchEvent(C.Scatter.SCATTER_MOUSEOVER,{event:i,element:o,datum:a})}).on("mousemove",function(i,a){var o=H(this);t.services.events.dispatchEvent(C.Scatter.SCATTER_MOUSEMOVE,{event:i,element:o,datum:a}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:i})}).on("click",function(i,a){t.services.events.dispatchEvent(C.Scatter.SCATTER_CLICK,{event:i,element:H(this),datum:a})}).on("mouseout",function(i,a){var o=H(this);if(o.classed("hovered",!1),!t.configs.filled){var s=t.getOptions().points.filled,l=t.services.cartesianScales.getDomainIdentifier(a),u=t.model.getIsFilled(a[r],a[l],a,s);o.classed("unfilled",!u).style("fill",function(c){return u||s?t.model.getFillColor(c[r],c[l],c):null})}t.services.events.dispatchEvent(C.Scatter.SCATTER_MOUSEOUT,{event:i,element:o,datum:a}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:o})})},n.prototype.destroy=function(){this.parent.selectAll("circle").on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),t.removeEventListener(C.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.removeEventListener(C.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)},n}(Ct),Z2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),K2=function(e){Z2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bubble",t.renderType=ht.SVG,t}return n.prototype.getRadiusScale=function(t){var r=this.getOptions(),i=r.bubble.radiusMapsTo,a=t.data(),o=a.map(function(c){return c[i]}).filter(function(c){return c}),s=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),l=o.length>0,u=l?hn(o):[1,1];return mn().domain(u).range(l?r.bubble.radiusRange(s,a):[4,4])},n.prototype.styleCircles=function(t,r){var i=this,a=this.getOptions(),o=a.bubble.radiusMapsTo,s=this.getRadiusScale(t),l=a.data.groupMapsTo,u=this.services.cartesianScales,c=function(g,v){return u.getDomainValue(g,v)},h=function(g,v){return u.getRangeValue(g,v)},f=_.flipDomainAndRangeBasedOnOrientation(c,h,u.getOrientation()),p=f[0],d=f[1];t.raise().classed("dot",!0).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-label",function(g){var v=u.getRangeIdentifier(g);return g[v]}).transition().call(function(g){return i.services.transitions.setupTransition({transition:g,name:"bubble-update-enter",animate:r})}).attr("cx",p).attr("cy",d).attr("r",function(g){return s(g[o]||1)}).attr("class",function(g){return i.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],dataGroupName:g[l],originalClassName:"dot"})}).style("fill",function(g){var v=i.services.cartesianScales.getDomainIdentifier(g);return i.model.getFillColor(g[l],g[v],g)}).style("stroke",function(g){var v=i.services.cartesianScales.getDomainIdentifier(g);return i.model.getStrokeColor(g[l],g[v],g)}).attr("fill-opacity",a.bubble.fillOpacity).attr("opacity",1)},n.prototype.getTooltipAdditionalItems=function(t){var r=_.getProperty(this.getOptions(),"bubble");return[{label:_.getProperty(r,"radiusLabel"),value:t[_.getProperty(r,"radiusMapsTo")]}]},n}(pn),Q2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J2=function(e){Q2(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bullet",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this,i=this.getOptions(),a=i.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),l=this.services.cartesianScales.getRangeScale(),u=this.services.cartesianScales.getRangeIdentifier(),c=l.range(),h=c[0],f=c[1],p=l.domain();p[0];var d=p[1],g=function(){var y=[];s.forEach(function(x){x.ranges?x.ranges.forEach(function(M,S){M!=null&&M<d&&y.push({datum:x,value:M,order:S+1})}):y.push({datum:x,order:1})});var w=U.appendOrSelect(o,"g.range-boxes").selectAll("path.range-box").data(y,function(x){return x[a]+"-"+x.order});w.exit().attr("opacity",0).remove();var O=w.enter().append("path").attr("opacity",0);O.merge(w).attr("class",function(x){return"range-box order-"+x.order}).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"bullet-range-box-update-enter",animate:t})}).attr("d",function(x,M){var S=16,A,k,E,P;return x.order===1?(A=r.services.cartesianScales.getDomainValue(x.datum,M)-S/2,k=A+S,E=f-2,P=h+1):(A=r.services.cartesianScales.getDomainValue(x.datum,M)-S/2,k=A+S,E=r.services.cartesianScales.getRangeValue(x.value,M),P=f),_.generateSVGPathString({x0:A,x1:k,y0:E,y1:P},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},v=function(){var y=U.appendOrSelect(o,"g.bars").selectAll("path.bar").data(s,function(O){return O[a]});y.exit().attr("opacity",0).remove();var w=y.enter().append("path").attr("opacity",0);w.merge(y).classed("bar",!0).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"bullet-bar-update-enter",animate:t})}).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:O[a],originalClassName:"bar"})}).style("fill",function(O){return r.model.getFillColor(O[a])}).attr("d",function(O,x){var M=8,S=r.services.cartesianScales.getDomainValue(O,x)-M/2,A=S+M,k=r.services.cartesianScales.getRangeValue(0)+1,E=r.services.cartesianScales.getRangeValue(O,x);return _.generateSVGPathString({x0:S,x1:A,y0:k,y1:E},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(O){return O.value})},b=function(){var y=U.appendOrSelect(o,"g.markers").selectAll("path.marker").data(s.filter(function(O){return _.getProperty(O,"marker")!==null}),function(O){return O[a]});y.exit().attr("opacity",0).remove();var w=y.enter().append("path").attr("opacity",0);w.merge(y).classed("marker",!0).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"bullet-marker-update-enter",animate:t})}).attr("d",function(O,x){var M=24,S=r.services.cartesianScales.getDomainValue(O,x)-M/2,A=S+M,k=r.services.cartesianScales.getRangeValue(O.marker,x),E=k;return _.generateSVGPathString({x0:S,x1:A,y0:k,y1:E},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},m=function(){var y=[];s.filter(function(x){return _.getProperty(x,"marker")!==null}).forEach(function(x){var M=x.marker,S=x[u];y=y.concat([{datum:x,value:M*.25,barValue:S},{datum:x,value:M*.5,barValue:S},{datum:x,value:M*.75,barValue:S}])});var w=U.appendOrSelect(o,"g.quartiles").selectAll("path.quartile").data(y,function(x){return x[a]});w.exit().attr("opacity",0).remove();var O=w.enter().append("path").attr("opacity",0);O.merge(w).attr("class",function(x){return"quartile "+(x.value<=x.barValue?"over-bar":"")}).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"bullet-quartile-update-enter",animate:t})}).attr("d",function(x,M){var S=x.datum,A=x.value,k=4;S.ranges&&S.ranges.indexOf(A)!==-1&&(k=8);var E=r.services.cartesianScales.getDomainValue(S,M)-k/2,P=E+k,B=r.services.cartesianScales.getRangeValue(A,M),N=B;return _.generateSVGPathString({x0:E,x1:P,y0:B,y1:N},r.services.cartesianScales.getOrientation())}).attr("opacity",1)};g(),v(),b(),m(),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this,r=this.getOptions(),i=r.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("path.bar").on("mouseover",function(o,s){var l=H(this);l.classed("hovered",!0),t.services.events.dispatchEvent(C.Bar.BAR_MOUSEOVER,{event:o,element:l,datum:s});var u=_.getProperty(r,"bullet","performanceAreaTitles"),c=t.model.getMatchingRangeIndexForDatapoint(s);t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:r.tooltip.groupLabel||"Group",value:s[i],class:t.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:s[i]})},{label:"Value",value:s[a]},{label:"Target",value:s.marker},{label:"Percentage",value:Math.floor(s[a]/s.marker*100)+"%"},{label:"Performance",value:u[c]}]})}).on("mousemove",function(o,s){t.services.events.dispatchEvent(C.Bar.BAR_MOUSEMOVE,{event:o,element:H(this),datum:s}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:o})}).on("click",function(o,s){t.services.events.dispatchEvent(C.Bar.BAR_CLICK,{event:o,element:H(this),datum:s})}).on("mouseout",function(o,s){var l=H(this);l.classed("hovered",!1),t.services.events.dispatchEvent(C.Bar.BAR_MOUSEOUT,{event:o,element:l,datum:s}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:l})})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Ct),tL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eL=function(e){tL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="histogram",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions(),o=a.data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-bar"})}).attr("opacity",function(s){return s[o]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this,i=this.getComponentContainer(),a=this.model.getOptions(),o=a.groupIdentifier,s=a.data.groupMapsTo,l=this.model.getBinnedStackedData(),u=this.services.cartesianScales.getMainXScale(),c=i.selectAll("g.bars").data(l,function(f){return zt(f,"0."+s)});c.exit().attr("opacity",0).remove(),c.enter().append("g").classed("bars",!0).attr("role",_t.GROUP);var h=i.selectAll("g.bars").selectAll("path.bar").data(function(f){return f});h.exit().remove(),h.enter().append("path").merge(h).classed("bar",!0).attr(o,function(f,p){return p}).transition().call(function(f){return r.services.transitions.setupTransition({transition:f,name:"histogram-bar-update-enter",animate:t})}).attr("class",function(f){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:f[s],originalClassName:"bar"})}).style("fill",function(f){return r.model.getFillColor(f[s])}).attr("d",function(f,p){var d=zt(f,"data");if(!!d){var g=u(d.x1)-u(d.x0)-1,v=r.services.cartesianScales.getDomainValue(d.x0,p),b=v+g,m=r.services.cartesianScales.getRangeValue(f[0],p),y=r.services.cartesianScales.getRangeValue(f[1],p);return Math.abs(y-m)>0&&Math.abs(y-m)>a.bars.dividerSize&&(r.services.cartesianScales.getOrientation()===ae.VERTICAL?y+=1:y-=1),_.generateSVGPathString({x0:v,x1:b,y0:m,y1:y},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return _.getProperty(f,"data",f[s])}),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this.model.getOptions(),r=t.data.groupMapsTo,i=this;this.parent.selectAll("path.bar").on("mouseover",function(a,o){var s=H(this);s.classed("hovered",!0);var l=parseFloat(zt(o,"data.x0")),u=parseFloat(zt(o,"data.x1")),c=i.services.cartesianScales.getRangeAxisPosition(),h=i.services.cartesianScales.getScaleLabel(c);i.services.events.dispatchEvent(C.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:zt(t,"bins.rangeLabel")||"Range",value:l+" \u2013 "+u},{label:t.tooltip.groupLabel||"Group",value:o[r],class:i.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:o[r]})},{label:h,value:zt(o,"data."+o[r])}]})}).on("mousemove",function(a,o){i.services.events.dispatchEvent(C.Tooltip.MOVE,{event:a})}).on("mouseout",function(a,o){var s=H(this);s.classed("hovered",!1),i.services.events.dispatchEvent(C.Tooltip.HIDE)})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Ct),nL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$r=function(e){nL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;t.parent.selectAll("path.line").transition("legend-hover-line").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-line"})}).attr("opacity",function(a){return a.name!==i.datum().name?ln.opacity.unselected:ln.opacity.selected})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.line").transition("legend-mouseout-line").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-line"})}).attr("opacity",ln.opacity.selected)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.getComponentContainer({withinChartClip:!0}),a=this.services,o=a.cartesianScales,s=a.curves,l=function(O,x){return o.getDomainValue(O,x)},u=function(O,x){return o.getRangeValue(O,x)},c=_.flipDomainAndRangeBasedOnOrientation(l,u,o.getOrientation()),h=c[0],f=c[1],p=this.getOptions(),d=rs().x(h).y(f).curve(s.getD3Curve()).defined(function(O,x){var M=o.getRangeIdentifier(O),S=O[M];return S!=null}),g=[];if(this.configs.stacked){var v=Object.keys(p.axes).some(function(O){return p.axes[O].percentage}),b=p.data.groupMapsTo,m=this.model.getStackedData({groups:this.configs.groups,percentage:v});g=m.map(function(O){var x=r.services.cartesianScales.getDomainIdentifier(O),M=r.services.cartesianScales.getRangeIdentifier(O);return{name:_.getProperty(O,0,b),data:O.map(function(S){var A;return A={},A[x]=S.data.sharedStackKey,A[b]=S[b],A[M]=S[1],A}),hidden:!_.some(O,function(S){return S[0]!==S[1]})}})}else g=this.model.getGroupedData(this.configs.groups);var y=i.selectAll("path.line").data(g,function(O){return O.name});y.exit().attr("opacity",0).remove();var w=y.enter().append("path").classed("line",!0).attr("opacity",0);w.merge(y).data(g,function(O){return O.name}).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[dt.STROKE],dataGroupName:O.name,originalClassName:"line"})}).style("stroke",function(O){return r.model.getStrokeColor(O.name)}).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",function(O){var x=O.data;return x.map(function(M){var S=r.services.cartesianScales.getRangeIdentifier(M);return M[S]}).join(",")}).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"line-update-enter",animate:t})}).attr("opacity",function(O){return O.hidden?0:1}).attr("d",function(O){var x=O.data;return d(x)})},n.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Ct),rL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iL=function(e){rL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="lollipop",t.renderType=ht.SVG,t.handleScatterOnHover=function(r){var i=r.detail,a=t.getOptions(),o=a.data.groupMapsTo;t.parent.selectAll("line.line").attr("stroke-width",function(s){return s[o]!==i.datum[o]?ln.weight.unselected:ln.weight.selected})},t.handleScatterOnMouseOut=function(r){t.parent.selectAll("line.line").attr("stroke-width",ln.weight.unselected)},t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions(),o=a.data.groupMapsTo;t.parent.selectAll("line.line").transition("legend-hover-line").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-line"})}).attr("opacity",function(s){return s[o]!==i.datum().name?ln.opacity.unselected:ln.opacity.selected})},t.handleLegendMouseOut=function(r){t.parent.selectAll("line.line").transition("legend-mouseout-line").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-line"})}).attr("opacity",ln.opacity.selected)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=this.model.getOptions(),o=a.data.groupMapsTo,s=this.services.cartesianScales,l=s.getMainXScale(),u=s.getMainYScale(),c=s.getDomainIdentifier(),h=function(w,O){return s.getDomainValue(w,O)},f=function(w,O){return s.getRangeValue(w,O)},p=s.getOrientation(),d=_.flipDomainAndRangeBasedOnOrientation(h,f,p),g=d[0],v=d[1],b=i.selectAll("line.line").data(this.getScatterData(),function(w){return w[o]+"-"+w[c]});b.exit().attr("opacity",0).remove();var m=b.enter().append("line").attr("opacity",0),y=m.merge(b).classed("line",!0).attr("class",function(w){return r.model.getColorClassName({classNameTypes:[dt.STROKE],dataGroupName:w[o],originalClassName:"line"})}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"lollipop-line-update-enter",animate:t})}).style("stroke",function(w){return r.model.getFillColor(w[o],w[c],w)}).attr("opacity",1);p===ae.HORIZONTAL?y.attr("y1",v).attr("y2",v).attr("x1",l.range()[0]).attr("x2",function(w,O){return g(w,O)-a.points.radius}):y.attr("x1",g).attr("x2",g).attr("y1",u.range()[0]).attr("y2",function(w,O){return v(w,O)+a.points.radius}),this.addScatterPointEventListeners()},n.prototype.addScatterPointEventListeners=function(){this.services.events.addEventListener(C.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),this.services.events.addEventListener(C.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},n.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),t.removeEventListener(C.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),t.removeEventListener(C.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},n}(pn),aL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wv=function(e){aL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="scatter-stacked",t.renderType=ht.SVG,t}return n.prototype.render=function(t){var r=this,i=_.getProperty(this.getOptions(),"points","enabled");if(!!i){var a=this.getComponentContainer({withinChartClip:!0}),o=this.getOptions(),s=o.data.groupMapsTo,l=Object.keys(o.axes).some(function(g){return o.axes[g].percentage}),u=this.model.getStackedData({groups:this.configs.groups,percentage:l}),c=a.selectAll("g.dots").data(u,function(g){return _.getProperty(g,0,s)});c.exit().attr("opacity",0).remove();var h=c.enter().append("g").classed("dots",!0).attr("role",_t.GROUP),f=h.merge(c).selectAll("circle.dot").data(function(g){return g});f.exit().attr("opacity",0).remove();var p=f.enter().append("circle").classed("dot",!0).attr("opacity",0),d=p.merge(f).datum(function(g){var v,b=g[s],m=r.services.cartesianScales.getDomainIdentifier(g),y=r.services.cartesianScales.getRangeIdentifier(g);return v={},v[s]=b,v[m]=g.data.sharedStackKey,v[y]=g[1],v});this.styleCircles(d,t),this.addEventListeners()}},n.prototype.getTooltipData=function(t,r){var i=this,a=this.getOptions(),o=a.data.groupMapsTo,s=Object.keys(a.axes).some(function(c){return a.axes[c].percentage}),l=this.model.getStackedData({groups:this.configs.groups,percentage:s}),u=[];return l.forEach(function(c,h){c.forEach(function(f,p){var d,g=f[o],v=f.data.sharedStackKey,b=f.data[g],m=f[1],y=i.services.cartesianScales.getDomainIdentifier(f),w=i.services.cartesianScales.getRangeIdentifier(f);b!=null&&t===i.services.cartesianScales.getDomainValue(v)&&r===i.services.cartesianScales.getRangeValue(m)&&(s&&(b=i.model.getStackedData({groups:i.configs.groups})[h][p].data[g]),b!==null&&u.push((d={},d[o]=g,d[y]=v,d[w]=b,d)))})}),this.model.getDisplayData(this.configs.groups).filter(function(c){var h=i.services.cartesianScales.getDomainIdentifier(c),f=i.services.cartesianScales.getRangeIdentifier(c);return u.find(function(p){return p[o]==c[o]&&p[h]==c[h]&&p[f]==c[f]})!==void 0})},n}(pn),oL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function sL(e,n){var t=this,r=ha(this._current,e);return function(i){return t._current=r(i),n(t._current)}}var Tv=function(e){oL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pie",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.slice").transition("legend-hover-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o.data[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.getInnerRadius=function(){return Ut.innerRadius},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this,a=this.getComponentContainer(),o=this.getOptions(),s=o.data.groupMapsTo,l=o.pie.valueMapsTo,u=this.model.getDisplayData().filter(function(N){return N[l]>0}),c=this.computeRadius();this.arc=Qi().innerRadius(this.getInnerRadius()).outerRadius(c),this.hoverArc=Qi().innerRadius(this.getInnerRadius()).outerRadius(c+Ut.hoverArc.outerRadiusOffset);var h=OC().value(function(N){return N[l]}).sort(_.getProperty(o,"pie","sortFunction")).padAngle(Ut.padAngle),f=h(u),p=U.appendOrSelect(a,"g.slices").attr("role",_t.GROUP).attr("data-name","slices"),d=p.selectAll("path.slice").data(f,function(N){return N.data[s]});d.exit().attr("opacity",0).remove();var g=d.enter().append("path").classed("slice",!0).attr("opacity",0),v=g.merge(d).attr("class",function(N){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:N.data[s],originalClassName:"slice"})}).style("fill",function(N){return i.model.getFillColor(N.data[s])}).attr("d",this.arc);v.transition().call(function(N){return r.services.transitions.setupTransition({transition:N,name:"pie_slice_enter_update",animate:t})}).attr("opacity",1).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","slice").attr("aria-label",function(N){return N[l]+", "+(_.convertValueToPercentage(N.data[l],u,l)+"%")}).attrTween("d",function(N){return sL.bind(this)(N,i.arc)});var b=o.pie.labels.enabled,m=b?f.filter(function(N){return N.data[l]>0}):[],y=U.appendOrSelect(a,"g.labels").attr("role",_t.GROUP).attr("data-name","labels"),w=y.selectAll("text.pie-label").data(m,function(N){return N.data[s]});w.exit().attr("opacity",0).remove();var O=w.enter().append("text").classed("pie-label",!0),x=[];O.merge(w).style("text-anchor","middle").text(function(N){return o.pie.labels.formatter?o.pie.labels.formatter(N):_.convertValueToPercentage(N.data[l],u,l)+"%"}).datum(function(N){var R=c+7,I=(N.endAngle-N.startAngle)/2+N.startAngle,F=I/Math.PI*180,G=this.getComputedTextLength();return N.textOffsetX=G/2,N.textOffsetY=F>90&&F<270?10:0,N.xPosition=(N.textOffsetX+R)*Math.sin(I),N.yPosition=(N.textOffsetY+R)*-Math.cos(I),N}).attr("transform",function(N,R){var I=m.length,F=(N.endAngle-N.startAngle)*(180/Math.PI);if(R>=I-2&&F<Ut.callout.minSliceDegree){var G=void 0,L=void 0;return N.index===I-1?(G=N.xPosition+Ut.callout.offsetX+Ut.callout.textMargin+N.textOffsetX,L=N.yPosition-Ut.callout.offsetY,N.direction=Li.RIGHT,x.push(N)):(G=N.xPosition-Ut.callout.offsetX-N.textOffsetX-Ut.callout.textMargin,L=N.yPosition-Ut.callout.offsetY,N.direction=Li.LEFT,x.push(N)),"translate("+G+", "+L+")"}return"translate("+N.xPosition+", "+N.yPosition+")"}),this.renderCallouts(x);var M=_.getProperty(o,"donut")?"donut":"pie",S=_.getProperty(o,M,"alignment"),A=U.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,k=b?Ut.xOffset:0,E=b?Ut.yOffset:0,P=c+k;S===de.CENTER?P=A/2:S===de.RIGHT&&(P=A-c-Ut.xOffset);var B=c+E;x.length>0&&(B+=Ut.yOffsetCallout),a.attr("x",P+7).attr("y",B),this.addEventListeners()},n.prototype.renderCallouts=function(t){var r=U.appendOrSelect(this.getComponentContainer(),"g.callouts").attr("role",_t.GROUP).attr("data-name","callouts"),i=r.selectAll("g.callout").data(t);i.exit().remove();var a=i.enter().append("g").classed("callout",!0).attr("role",_t.GROUP).attr("aria-roledescription","label callout");a.merge(i).datum(function(l){var u=l.xPosition,c=l.yPosition,h=l.direction;return h===Li.RIGHT?(l.startPos={x:u,y:c+l.textOffsetY},l.endPos={x:u+Ut.callout.offsetX,y:c-Ut.callout.offsetY+l.textOffsetY},l.intersectPointX=l.endPos.x-Ut.callout.horizontalLineLength):(l.startPos={x:u,y:c+l.textOffsetY},l.endPos={x:u-Ut.callout.offsetX,y:c-Ut.callout.offsetY+l.textOffsetY},l.intersectPointX=l.endPos.x+Ut.callout.horizontalLineLength),l});var o=a.append("line").classed("vertical-line",!0);o.merge(r.selectAll("line.vertical-line")).datum(function(l){return H(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(l){return l.startPos.x}).attr("y1",function(l){return l.startPos.y}).attr("x2",function(l){return l.intersectPointX}).attr("y2",function(l){return l.endPos.y});var s=a.append("line").classed("horizontal-line",!0);s.merge(r.selectAll("line.horizontal-line")).datum(function(l){return H(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(l){return l.intersectPointX}).attr("y1",function(l){return l.endPos.y}).attr("x2",function(l){return l.endPos.x}).attr("y2",function(l){return l.endPos.y})},n.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.slice").on("mouseover",function(r,i){var a=H(this);a.classed("hovered",!0).transition("pie_slice_mouseover").call(function(l){return t.services.transitions.setupTransition({transition:l,name:"pie_slice_mouseover"})}).attr("d",t.hoverArc),t.services.events.dispatchEvent(C.Pie.SLICE_MOUSEOVER,{event:r,element:H(this),datum:i});var o=t.getOptions().data.groupMapsTo,s=t.getOptions().pie.valueMapsTo;t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:r,hoveredElement:a,items:[{label:i.data[o],value:i.data[s]}]})}).on("mousemove",function(r,i){var a=H(this);t.services.events.dispatchEvent(C.Pie.SLICE_MOUSEMOVE,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:r})}).on("click",function(r,i){t.services.events.dispatchEvent(C.Pie.SLICE_CLICK,{event:r,element:H(this),datum:i})}).on("mouseout",function(r,i){var a=H(this);a.classed("hovered",!1).transition("pie_slice_mouseout").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"pie_slice_mouseout"})}).attr("d",t.arc),t.services.events.dispatchEvent(C.Pie.SLICE_MOUSEOUT,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:a})})},n.prototype.computeRadius=function(){var t=U.getSVGElementSize(this.parent,{useAttrs:!0}),r=t.width,i=t.height,a=this.getOptions(),o=Math.min(r,i)/2,s=a.pie.labels.enabled;return s?o+Ut.radiusOffset:o},n}(Ct),lL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$h="4,10 8,6 12,10",Yh="12,6 8,10 4,6",uL=function(e){lL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="gauge",t.renderType=ht.SVG,t}return n.prototype.getValue=function(){var t,r,i=this.model.getData(),a=(r=(t=i.find(function(o){return o.group==="value"}))===null||t===void 0?void 0:t.value,r!=null?r:null);return a},n.prototype.getValueRatio=function(){var t=_.clamp(this.getValue(),0,100);return t/100},n.prototype.getDelta=function(){var t,r,i=this.model.getData(),a=(r=(t=i.find(function(o){return o.group==="delta"}))===null||t===void 0?void 0:t.value,r!=null?r:null);return a},n.prototype.getArcRatio=function(){var t=this.getOptions(),r=_.getProperty(t,"gauge","type"),i=r===or.FULL?1:.5;return i},n.prototype.getArcSize=function(){return this.getArcRatio()*Math.PI*2},n.prototype.getStartAngle=function(){var t=this.getArcSize();return t===2*Math.PI?0:-t/2},n.prototype.getArrow=function(t){var r=this.getOptions(),i=_.getProperty(r,"gauge","deltaArrow","direction");switch(i){case uo.UP:return $h;case uo.DOWN:return Yh;default:return t>0?$h:Yh}},n.prototype.render=function(t){var r=this,i=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.getOptions(),o=this.getValue(),s=this.getValueRatio(),l=this.getArcSize(),u=this.getStartAngle(),c=s*l,h=u+c,f=u+l,p=this.computeRadius(),d=this.getInnerRadius();this.backgroundArc=Qi().innerRadius(d).outerRadius(p).startAngle(h).endAngle(f),this.arc=Qi().innerRadius(d).outerRadius(p).startAngle(u).endAngle(h),U.appendOrSelect(i,"path.arc-background").attr("d",this.backgroundArc);var g=i.selectAll("path.arc-foreground").data([o]),v=g.enter().append("path");v.merge(g).attr("class",this.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:"value",originalClassName:"arc-foreground"})).style("fill",function(w){return _.getProperty(r.getOptions(),"color","scale","value")}).attr("d",this.arc).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(w){return w}),this.drawValueNumber(),this.drawDelta(),g.exit().remove();var b=_.getProperty(a,"gauge","alignment"),m=U.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,y=p;b===de.CENTER?y=m/2:b===de.RIGHT&&(y=m-p),i.attr("x",y).attr("y",p),this.addEventListeners()},n.prototype.drawValueNumber=function(){var t=this.getComponentContainer(),r=this.getOptions(),i=_.getProperty(r,"gauge","type"),a=this.getValue(),o=this.getDelta(),s=this.computeRadius(),l=_.getProperty(r,"gauge","valueFontSize"),u=_.getProperty(r,"gauge","deltaFontSize"),c=_.getProperty(r,"gauge","numberSpacing"),h=_.getProperty(r,"gauge","showPercentageSymbol"),f=0;i===or.FULL&&!o?f=u(s):i===or.SEMI&&o&&(f=-(u(s)+c));var p=U.appendOrSelect(t,"g.gauge-numbers").attr("transform","translate(0, "+f+")"),d=l(s),g=U.appendOrSelect(p,"g.gauge-value-number"),v=_.getProperty(r,"gauge","numberFormatter"),b=g.selectAll("text.gauge-value-number").data([a]);b.enter().append("text").attr("class","gauge-value-number").merge(b).style("font-size",d+"px").attr("text-anchor","middle").text(function(A){return v(A)});var m=U.getSVGElementSize(U.appendOrSelect(t,"text.gauge-value-number"),{useBBox:!0}).width,y=d/2,w=h?"%":"",O=U.appendOrSelect(g,"text.gauge-value-symbol").style("font-size",y+"px").attr("x",m/2).text(w),x=U.getSVGElementSize(O,{useBBox:!0}),M=x.width,S=x.height;O.attr("y","-"+S/2+"px"),g.attr("transform","translate(-"+M/2+", 0)")},n.prototype.drawDelta=function(){var t=this,r=this.getComponentContainer(),i=this.getOptions(),a=this.getDelta(),o=this.computeRadius(),s=a?_.getProperty(i,"gauge","deltaFontSize"):function(){return 0},l=a?_.getProperty(i,"gauge","numberFormatter"):function(){return null},u=_.getProperty(i,"gauge","deltaArrow","size"),c=_.getProperty(i,"gauge","numberSpacing"),h=_.getProperty(i,"gauge","showPercentageSymbol"),f=U.appendOrSelect(r,"g.gauge-numbers"),p=U.appendOrSelect(f,"g.gauge-delta").attr("transform","translate(0, "+(s(o)+c)+")"),d=U.appendOrSelect(p,"text.gauge-delta-number"),g=h?"%":"";d.data(a===null?[]:[a]),d.enter().append("text").classed("gauge-delta-number",!0).merge(d).attr("text-anchor","middle").style("font-size",s(o)+"px").text(function(y){return""+l(y)+g});var v=U.getSVGElementSize(U.appendOrSelect(r,".gauge-delta-number"),{useBBox:!0}).width,b=_.getProperty(i,"gauge","deltaArrow","enabled"),m=p.selectAll("svg.gauge-delta-arrow").data(a!==null&&b?[a]:[]);m.enter().append("svg").merge(m).attr("class","gauge-delta-arrow").attr("x",-u(o)-v/2).attr("y",-u(o)/2-s(o)*.35).attr("width",u(o)).attr("height",u(o)).attr("viewBox","0 0 16 16").each(function(){var y=H(this);U.appendOrSelect(y,"rect.gauge-delta-arrow-backdrop").attr("width","16").attr("height","16").attr("fill","none");var w=_.getProperty(i,"gauge","status");U.appendOrSelect(y,"polygon.gauge-delta-arrow").attr("class",w!==null?"gauge-delta-arrow status--"+w:"").attr("points",t.getArrow(a))}),m.exit().remove(),d.exit().remove()},n.prototype.getInnerRadius=function(){var t=this.computeRadius(),r=_.getProperty(this.getOptions(),"gauge","arcWidth");return t-r},n.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.arc-foreground").on("mouseover",function(r,i){t.services.events.dispatchEvent(C.Gauge.ARC_MOUSEOVER,{event:r,element:H(this),datum:i})}).on("mousemove",function(r,i){var a=H(this);t.services.events.dispatchEvent(C.Gauge.ARC_MOUSEMOVE,{event:r,element:a,datum:i})}).on("click",function(r,i){t.services.events.dispatchEvent(C.Gauge.ARC_CLICK,{event:r,element:H(this),datum:i})}).on("mouseout",function(r,i){var a=H(this);t.services.events.dispatchEvent(C.Gauge.ARC_MOUSEOUT,{event:r,element:a,datum:i})})},n.prototype.computeRadius=function(){var t=this.getOptions(),r=_.getProperty(t,"gauge","type"),i=U.getSVGElementSize(this.parent,{useAttrs:!0}),a=i.width,o=i.height,s=r===or.SEMI?Math.min(a/2,o):Math.min(a/2,o/2);return s},n}(Ct),cL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fL=function(e){cL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="donut",t.renderType=ht.SVG,t}return n.prototype.render=function(t){var r=this;t===void 0&&(t=!0),e.prototype.render.call(this,t);var i=this;if(this.model.isDataEmpty()){this.getComponentContainer().select("g.center").remove();return}var a=U.appendOrSelect(this.getComponentContainer(),"g.center"),o=this.getOptions(),s=this.computeRadius(),l=_.getProperty(o,"donut","center","label");U.appendOrSelect(a,"text.donut-figure").attr("text-anchor","middle").style("dominant-baseline",function(){return l===null||l===""?"central":"initial"}).style("font-size",function(){return o.donut.center.numberFontSize(s)}).transition().call(function(u){return r.services.transitions.setupTransition({transition:u,name:"donut-figure-enter-update",animate:t})}).tween("text",function(){return i.centerNumberTween(H(this))}),l!==null&&l!==""&&U.appendOrSelect(a,"text.donut-title").attr("text-anchor","middle").style("font-size",function(){return o.donut.center.titleFontSize(s)}).attr("y",o.donut.center.titleYPosition(s)).text(l)},n.prototype.getInnerRadius=function(){var t=this.computeRadius();return t*(3/4)},n.prototype.centerNumberTween=function(t){var r=this.getOptions(),i=_.getProperty(r,"donut","center","number");i===null&&(i=this.model.getDisplayData().reduce(function(l,u){return l+u[r.pie.valueMapsTo]},0));var a=parseInt(t.text().replace(/[, ]+/g,""),10)||0,o;a%1===0&&i%1===0?o=gg:o=Ne;var s=o(a,i);return function(l){var u=r.donut.center.numberFormatter;t.text(u(s(l)))}},n}(Tv),hL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Se=function(e){hL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="skeleton",t}return n.prototype.render=function(){var t=_.getProperty(this.getOptions(),"data","loading");t?this.renderSkeleton(t):this.removeSkeleton()},n.prototype.renderSkeleton=function(t){if(this.configs.skeleton===re.GRID)this.renderGridSkeleton(t);else if(this.configs.skeleton===re.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(t);else if(this.configs.skeleton===re.PIE)this.renderPieSkeleton(t);else if(this.configs.skeleton===re.DONUT)this.renderDonutSkeleton(t);else throw new Error('"'+this.configs.skeleton+'" is not a valid Skeleton type.')},n.prototype.renderGridSkeleton=function(t){this.setScales(),this.drawBackdrop(t),this.drawXGrid(t),this.drawYGrid(t),t&&this.setShimmerEffect("shimmer-lines")},n.prototype.renderVertOrHorizSkeleton=function(t){var r=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(t),r===ae.VERTICAL&&this.drawYGrid(t),r===ae.HORIZONTAL&&this.drawXGrid(t),this.setShimmerEffect("shimmer-lines")},n.prototype.renderPieSkeleton=function(t){var r=this.computeOuterRadius(),i=0;this.drawRing(r,i,t),t&&this.setShimmerEffect("shimmer-areas")},n.prototype.renderDonutSkeleton=function(t){var r=this.computeOuterRadius(),i=this.computeInnerRadius();this.drawRing(r,i,t),t&&this.setShimmerEffect("shimmer-areas")},n.prototype.setScales=function(){var t=this.services.cartesianScales.getMainXScale().range(),r=this.services.cartesianScales.getMainYScale().range();this.xScale=mn().domain([0,1]).range(t),this.yScale=mn().domain([0,1]).range(r)},n.prototype.drawBackdrop=function(t){var r=this.parent,i=U.getSVGElementSize(r,{useAttrs:!0}),a=i.width,o=i.height;this.backdrop=U.appendOrSelect(r,"svg.chart-skeleton.DAII").attr("width",a).attr("height",o);var s=U.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");var l=this.xScale.range(),u=l[0];l[1];var c=this.yScale.range();c[0];var h=c[1];this.backdrop.merge(s).attr("x",u).attr("y",h),s.classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.drawXGrid=function(t){var r=this.backdrop.attr("width"),i=_.getProperty(this.getOptions(),"grid","x","numberOfTicks"),a=this.xScale.ticks(i).map(function(l){return l*r}),o=U.appendOrSelect(this.backdrop,"g.x.skeleton"),s=o.selectAll("line").data(a);s.enter().append("line").merge(s).attr("x1",function(l){return l}).attr("x2",function(l){return l}).attr("y1",0).attr("y2","100%"),o.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.drawYGrid=function(t){var r=this.backdrop.attr("height"),i=this.backdrop.attr("width"),a=_.getProperty(this.getOptions(),"grid","y","numberOfTicks"),o=this.xScale.ticks(a).map(function(u){return u*r}),s=U.appendOrSelect(this.backdrop,"g.y.skeleton"),l=s.selectAll("line").data(o);l.enter().append("line").merge(l).attr("x1",0).attr("x2",i).attr("y1",function(u){return u}).attr("y2",function(u){return u}),s.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.drawRing=function(t,r,i){i===void 0&&(i=!0);var a=this.parent,o=U.getSVGElementSize(a,{useAttrs:!0}),s=o.width,l=o.height,u=U.appendOrSelect(a,"svg.chart-skeleton").attr("width",s).attr("height",l),c=r===0?"pie":"donut",h=_.getProperty(this.getOptions(),c,"alignment");U.appendOrSelect(u,"rect.chart-skeleton-area-container").attr("width",s).attr("height",l).attr("fill","none");var f=Qi().innerRadius(r).outerRadius(t).startAngle(0).endAngle(Math.PI*2),p=t+Math.abs(Ut.radiusOffset),d=t+(Math.min(s,l)-t*2)/2,g=U.appendOrSelect(u,"path").attr("class","skeleton-area-shape").attr("transform","translate("+p+", "+d+")").attr("d",f).classed("shimmer-effect-areas",i).classed("empty-state-areas",!i).style("fill",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-areas")+")":null),v=t+Ut.xOffset;h===de.CENTER?v=s/2:h===de.RIGHT&&(v=s-t-Ut.xOffset);var b=t+Ut.yOffset;g.attr("transform","translate("+v+", "+b+")")},n.prototype.computeOuterRadius=function(){var t=U.getSVGElementSize(this.parent,{useAttrs:!0}),r=t.width,i=t.height,a=Math.min(r,i)/2;return a+Ut.radiusOffset},n.prototype.computeInnerRadius=function(){return this.computeOuterRadius()*(3/4)},n.prototype.setShimmerEffect=function(t){var r=2e3,i=1e3,a=.2,o="stop-bg-shimmer",s="stop-shimmer",l=this.parent.select(".chart-skeleton"),u=U.getSVGElementSize(this.parent,{useAttrs:!0}).width,c=0,h=u,f=U.appendOrSelect(l,"defs").lower(),p=U.appendOrSelect(f,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(t)).attr("class",t).attr("x1",c-3*a*u).attr("x2",h).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),d=`
			<stop class="`+o+'" offset="'+c+`"></stop>
			<stop class="`+s+'" offset="'+(c+a)+`"></stop>
			<stop class="`+o+'" offset="'+(c+2*a)+`"></stop>
		`;p.html(d),g();function g(){p.attr("gradientTransform","translate("+(c-3*a*u)+", 0)").transition().duration(r).delay(i).ease(Wm).attr("gradientTransform","translate("+(h+3*a*u)+", 0)").on("end",g)}},n.prototype.removeSkeleton=function(){var t=this.parent.select(".chart-skeleton");t.remove()},n}(Ct),dL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pL=function(e){dL(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="skeleton-lines",t}return n.prototype.render=function(){var t=_.getProperty(this.getOptions(),"data","loading"),r=!_.getProperty(this.getOptions(),"grid","x","enabled")&&!_.getProperty(this.getOptions(),"grid","y","enabled")&&!_.getProperty(this.getOptions(),"axes","bottom","visible")&&!_.getProperty(this.getOptions(),"axes","left","visible");t&&!r?e.prototype.renderGridSkeleton.call(this,t):t&&r?this.renderSparklineSkeleton(t):this.removeSkeleton()},n.prototype.renderSparklineSkeleton=function(t){this.setScales(),this.drawBackdrop(t),this.drawSparkline(t),this.updateBackdropStyle(),t&&this.setShimmerEffect("shimmer-lines")},n.prototype.drawSparkline=function(t){var r=this.backdrop.attr("width"),i=[100],a=U.appendOrSelect(this.backdrop,"g.y.skeleton"),o=a.selectAll("line").data(i);o.enter().append("line").merge(o).attr("x1",0).attr("x2",r).attr("y1",function(s){return s}).attr("y2",function(s){return s}),a.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.updateBackdropStyle=function(){var t=this.parent;this.backdrop=U.appendOrSelect(t,"svg.chart-skeleton.DAII");var r=U.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");r.classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)},n}(Se);function gL(e,n){return e.parent===n.parent?1:2}function vL(e){return e.reduce(mL,0)/e.length}function mL(e,n){return e+n.x}function yL(e){return 1+e.reduce(_L,0)}function _L(e,n){return Math.max(e,n.y)}function bL(e){for(var n;n=e.children;)e=n[0];return e}function xL(e){for(var n;n=e.children;)e=n[n.length-1];return e}function OL(){var e=gL,n=1,t=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var p=f.children;p?(f.x=vL(p),f.y=yL(p)):(f.x=o?s+=e(f,o):0,f.y=0,o=f)});var l=bL(a),u=xL(a),c=l.x-e(l,u)/2,h=u.x+e(u,l)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*n,f.y=(a.y-f.y)*t}:function(f){f.x=(f.x-c)/(h-c)*n,f.y=(1-(a.y?f.y/a.y:1))*t})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,n=+a[0],t=+a[1],i):r?null:[n,t]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],t=+a[1],i):r?[n,t]:null},i}function wL(e){var n=0,t=e.children,r=t&&t.length;if(!r)n=1;else for(;--r>=0;)n+=t[r].value;e.value=n}function TL(){return this.eachAfter(wL)}function EL(e,n){let t=-1;for(const r of this)e.call(n,r,++t,this);return this}function SL(e,n){for(var t=this,r=[t],i,a,o=-1;t=r.pop();)if(e.call(n,t,++o,this),i=t.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function ML(e,n){for(var t=this,r=[t],i=[],a,o,s,l=-1;t=r.pop();)if(i.push(t),a=t.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;t=i.pop();)e.call(n,t,++l,this);return this}function CL(e,n){let t=-1;for(const r of this)if(e.call(n,r,++t,this))return r}function AL(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)t+=r[i].value;n.value=t})}function DL(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function PL(e){for(var n=this,t=LL(n,e),r=[n];n!==t;)n=n.parent,r.push(n);for(var i=r.length;e!==t;)r.splice(i,0,e),e=e.parent;return r}function LL(e,n){if(e===n)return e;var t=e.ancestors(),r=n.ancestors(),i=null;for(e=t.pop(),n=r.pop();e===n;)i=e,e=t.pop(),n=r.pop();return i}function kL(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function RL(){return Array.from(this)}function IL(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function NL(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function*BL(){var e=this,n,t=[e],r,i,a;do for(n=t.reverse(),t=[];e=n.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)t.push(r[i]);while(t.length)}function pa(e,n){e instanceof Map?(e=[void 0,e],n===void 0&&(n=HL)):n===void 0&&(n=UL);for(var t=new ta(e),r,i=[t],a,o,s,l;r=i.pop();)if((o=n(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new ta(o[s])),a.parent=r,a.depth=r.depth+1;return t.eachBefore(GL)}function FL(){return pa(this).eachBefore(VL)}function UL(e){return e.children}function HL(e){return Array.isArray(e)?e[1]:null}function VL(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function GL(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function ta(e){this.data=e,this.depth=this.height=0,this.parent=null}ta.prototype=pa.prototype={constructor:ta,count:TL,each:EL,eachAfter:ML,eachBefore:SL,find:CL,sum:AL,sort:DL,path:PL,ancestors:kL,descendants:RL,leaves:IL,links:NL,copy:FL,[Symbol.iterator]:BL};function zL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jL(e){for(var n=e.length,t,r;n;)r=Math.random()*n--|0,t=e[n],e[n]=e[r],e[r]=t;return e}function WL(e){for(var n=0,t=(e=jL(Array.from(e))).length,r=[],i,a;n<t;)i=e[n],a&&Ev(a,i)?++n:(a=YL(r=$L(r,i)),n=0);return a}function $L(e,n){var t,r;if(zs(n,e))return[n];for(t=0;t<e.length;++t)if(Na(n,e[t])&&zs(Si(e[t],n),e))return[e[t],n];for(t=0;t<e.length-1;++t)for(r=t+1;r<e.length;++r)if(Na(Si(e[t],e[r]),n)&&Na(Si(e[t],n),e[r])&&Na(Si(e[r],n),e[t])&&zs(Sv(e[t],e[r],n),e))return[e[t],e[r],n];throw new Error}function Na(e,n){var t=e.r-n.r,r=n.x-e.x,i=n.y-e.y;return t<0||t*t<r*r+i*i}function Ev(e,n){var t=e.r-n.r+Math.max(e.r,n.r,1)*1e-9,r=n.x-e.x,i=n.y-e.y;return t>0&&t*t>r*r+i*i}function zs(e,n){for(var t=0;t<n.length;++t)if(!Ev(e,n[t]))return!1;return!0}function YL(e){switch(e.length){case 1:return qL(e[0]);case 2:return Si(e[0],e[1]);case 3:return Sv(e[0],e[1],e[2])}}function qL(e){return{x:e.x,y:e.y,r:e.r}}function Si(e,n){var t=e.x,r=e.y,i=e.r,a=n.x,o=n.y,s=n.r,l=a-t,u=o-r,c=s-i,h=Math.sqrt(l*l+u*u);return{x:(t+a+l/h*c)/2,y:(r+o+u/h*c)/2,r:(h+i+s)/2}}function Sv(e,n,t){var r=e.x,i=e.y,a=e.r,o=n.x,s=n.y,l=n.r,u=t.x,c=t.y,h=t.r,f=r-o,p=r-u,d=i-s,g=i-c,v=l-a,b=h-a,m=r*r+i*i-a*a,y=m-o*o-s*s+l*l,w=m-u*u-c*c+h*h,O=p*d-f*g,x=(d*w-g*y)/(O*2)-r,M=(g*v-d*b)/O,S=(p*y-f*w)/(O*2)-i,A=(f*b-p*v)/O,k=M*M+A*A-1,E=2*(a+x*M+S*A),P=x*x+S*S-a*a,B=-(k?(E+Math.sqrt(E*E-4*k*P))/(2*k):P/E);return{x:r+x+M*B,y:i+S+A*B,r:B}}function qh(e,n,t){var r=e.x-n.x,i,a,o=e.y-n.y,s,l,u=r*r+o*o;u?(a=n.r+t.r,a*=a,l=e.r+t.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),t.x=e.x-i*r-s*o,t.y=e.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),t.x=n.x+i*r-s*o,t.y=n.y+i*o+s*r)):(t.x=n.x+t.r,t.y=n.y)}function Xh(e,n){var t=e.r+n.r-1e-6,r=n.x-e.x,i=n.y-e.y;return t>0&&t*t>r*r+i*i}function Zh(e){var n=e._,t=e.next._,r=n.r+t.r,i=(n.x*t.r+t.x*n.r)/r,a=(n.y*t.r+t.y*n.r)/r;return i*i+a*a}function Ba(e){this._=e,this.next=null,this.previous=null}function XL(e){if(!(i=(e=zL(e)).length))return 0;var n,t,r,i,a,o,s,l,u,c,h;if(n=e[0],n.x=0,n.y=0,!(i>1))return n.r;if(t=e[1],n.x=-t.r,t.x=n.r,t.y=0,!(i>2))return n.r+t.r;qh(t,n,r=e[2]),n=new Ba(n),t=new Ba(t),r=new Ba(r),n.next=r.previous=t,t.next=n.previous=r,r.next=t.previous=n;t:for(s=3;s<i;++s){qh(n._,t._,r=e[s]),r=new Ba(r),l=t.next,u=n.previous,c=t._.r,h=n._.r;do if(c<=h){if(Xh(l._,r._)){t=l,n.next=t,t.previous=n,--s;continue t}c+=l._.r,l=l.next}else{if(Xh(u._,r._)){n=u,n.next=t,t.previous=n,--s;continue t}h+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=n,r.next=t,n.next=t.previous=t=r,a=Zh(n);(r=r.next)!==t;)(o=Zh(r))<a&&(n=r,a=o);t=n.next}for(n=[t._],r=t;(r=r.next)!==t;)n.push(r._);for(r=WL(n),s=0;s<i;++s)n=e[s],n.x-=r.x,n.y-=r.y;return r.r}function ZL(e){return e==null?null:Mv(e)}function Mv(e){if(typeof e!="function")throw new Error;return e}function ir(){return 0}function Lr(e){return function(){return e}}function KL(e){return Math.sqrt(e.value)}function QL(){var e=null,n=1,t=1,r=ir;function i(a){return a.x=n/2,a.y=t/2,e?a.eachBefore(Kh(e)).eachAfter(js(r,.5)).eachBefore(Qh(1)):a.eachBefore(Kh(KL)).eachAfter(js(ir,1)).eachAfter(js(r,a.r/Math.min(n,t))).eachBefore(Qh(Math.min(n,t)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=ZL(a),i):e},i.size=function(a){return arguments.length?(n=+a[0],t=+a[1],i):[n,t]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Lr(+a),i):r},i}function Kh(e){return function(n){n.children||(n.r=Math.max(0,+e(n)||0))}}function js(e,n){return function(t){if(r=t.children){var r,i,a=r.length,o=e(t)*n||0,s;if(o)for(i=0;i<a;++i)r[i].r+=o;if(s=XL(r),o)for(i=0;i<a;++i)r[i].r-=o;t.r=s+o}}}function Qh(e){return function(n){var t=n.parent;n.r*=e,t&&(n.x=t.x+e*n.x,n.y=t.y+e*n.y)}}function JL(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function tk(e,n,t,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(r-n)/e.value;++s<l;)o=a[s],o.y0=t,o.y1=i,o.x0=n,o.x1=n+=o.value*u}function ek(e,n){return e.parent===n.parent?1:2}function Ws(e){var n=e.children;return n?n[0]:e.t}function $s(e){var n=e.children;return n?n[n.length-1]:e.t}function nk(e,n,t){var r=t/(n.i-e.i);n.c-=r,n.s+=t,e.c+=r,n.z+=t,n.m+=t}function rk(e){for(var n=0,t=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=n,a.m+=n,n+=a.s+(t+=a.c)}function ik(e,n,t){return e.a.parent===n.parent?e.a:t}function Qa(e,n){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Qa.prototype=Object.create(ta.prototype);function ak(e){for(var n=new Qa(e,0),t,r=[n],i,a,o,s;t=r.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=t.children[o]=new Qa(a[o],o)),i.parent=t;return(n.parent=new Qa(null,0)).children=[n],n}function ok(){var e=ek,n=1,t=1,r=null;function i(u){var c=ak(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var h=u,f=u,p=u;u.eachBefore(function(m){m.x<h.x&&(h=m),m.x>f.x&&(f=m),m.depth>p.depth&&(p=m)});var d=h===f?1:e(h,f)/2,g=d-h.x,v=n/(f.x+d+g),b=t/(p.depth||1);u.eachBefore(function(m){m.x=(m.x+g)*v,m.y=m.depth*b})}return u}function a(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){rk(u);var p=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-p):u.z=p}else f&&(u.z=f.z+e(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,p=u,d=c,g=f.parent.children[0],v=f.m,b=p.m,m=d.m,y=g.m,w;d=$s(d),f=Ws(f),d&&f;)g=Ws(g),p=$s(p),p.a=u,w=d.z+m-f.z-v+e(d._,f._),w>0&&(nk(ik(d,u,h),u,w),v+=w,b+=w),m+=d.m,v+=f.m,y+=g.m,b+=p.m;d&&!$s(p)&&(p.t=d,p.m+=m-b),f&&!Ws(g)&&(g.t=f,g.m+=v-y,h=u)}return h}function l(u){u.x*=n,u.y=u.depth*t}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,n=+u[0],t=+u[1],i):r?null:[n,t]},i.nodeSize=function(u){return arguments.length?(r=!0,n=+u[0],t=+u[1],i):r?[n,t]:null},i}function sk(e,n,t,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(i-t)/e.value;++s<l;)o=a[s],o.x0=n,o.x1=r,o.y0=t,o.y1=t+=o.value*u}var lk=(1+Math.sqrt(5))/2;function uk(e,n,t,r,i,a){for(var o=[],s=n.children,l,u,c=0,h=0,f=s.length,p,d,g=n.value,v,b,m,y,w,O,x;c<f;){p=i-t,d=a-r;do v=s[h++].value;while(!v&&h<f);for(b=m=v,O=Math.max(d/p,p/d)/(g*e),x=v*v*O,w=Math.max(m/x,x/b);h<f;++h){if(v+=u=s[h].value,u<b&&(b=u),u>m&&(m=u),x=v*v*O,y=Math.max(m/x,x/b),y>w){v-=u;break}w=y}o.push(l={value:v,dice:p<d,children:s.slice(c,h)}),l.dice?tk(l,t,r,i,g?r+=d*v/g:a):sk(l,t,r,g?t+=p*v/g:i,a),g-=v,c=h}return o}var ck=function e(n){function t(r,i,a,o,s){uk(n,r,i,a,o,s)}return t.ratio=function(r){return e((r=+r)>1?r:1)},t}(lk);function fk(){var e=ck,n=!1,t=1,r=1,i=[0],a=ir,o=ir,s=ir,l=ir,u=ir;function c(f){return f.x0=f.y0=0,f.x1=t,f.y1=r,f.eachBefore(h),i=[0],n&&f.eachBefore(JL),f}function h(f){var p=i[f.depth],d=f.x0+p,g=f.y0+p,v=f.x1-p,b=f.y1-p;v<d&&(d=v=(d+v)/2),b<g&&(g=b=(g+b)/2),f.x0=d,f.y0=g,f.x1=v,f.y1=b,f.children&&(p=i[f.depth+1]=a(f)/2,d+=u(f)-p,g+=o(f)-p,v-=s(f)-p,b-=l(f)-p,v<d&&(d=v=(d+v)/2),b<g&&(g=b=(g+b)/2),e(f,d,g,v,b))}return c.round=function(f){return arguments.length?(n=!!f,c):n},c.size=function(f){return arguments.length?(t=+f[0],r=+f[1],c):[t,r]},c.tile=function(f){return arguments.length?(e=Mv(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Lr(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Lr(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Lr(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Lr(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:Lr(+f),c):u},c}var hk=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cr=6,dk=function(e){hk(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tree",t.renderType=ht.SVG,t}return n.prototype.getLongestLabel=function(t){var r=this,i="";return t.forEach(function(a){var o=a.children?r.getLongestLabel(a.children):"";(o.length>i.length||a.name.length>i.length)&&(i=o.length>a.name.length?o:a.name)}),i},n.prototype.getMockLabelWidth=function(t,r){var i=t.append("text").attr("dy","0.31em").attr("x",0).attr("text-anchor","end").text(r),a=U.getSVGElementSize(i.node(),{useBBox:!0}).width;return i.remove(),a},n.prototype.render=function(t){var r=this,i=this.getComponentContainer();i.html("");var a=U.getSVGElementSize(this.parent,{useAttrs:!0}),o=a.width,s=a.height;if(!(o<1||s<1)){var l=this.model.getOptions(),u=this.model.getDisplayData(),c=_.getProperty(l,"tree","rootTitle")||"Tree",h=this.getMockLabelWidth(i,c),f=this.getLongestLabel(u),p=this.getMockLabelWidth(i,f),d={top:0,right:0,bottom:0,left:h>0?h+Cr:30-Cr},g=pa({name:c,children:u}),v=10,b=o/6,m=function(A){var k=g.descendants().reverse(),E=g.links(),P=g,B=g;g.eachBefore(function($){$.x<P.x&&(P=$),$.x>B.x&&(B=$)});var N=B.x-P.x,R=i.transition().call(function($){return r.services.transitions.setupTransition({transition:$,name:"tree-update-viewbox",animate:!0})}).attr("viewBox",[-d.left,P.x,o,N]),I=S.selectAll("g").data(k,function($){return $.id}),F=r,G=I.enter().append("g").attr("transform",function(){return"translate("+A.y0+","+A.x0+")"}).attr("class",function($){return $.depth!==0&&$.children&&$.children.length>0?"clickable":null}).on("mouseover",function($,W){F.services.events.dispatchEvent(C.Tree.NODE_MOUSEOVER,{event:$,element:H(this),datum:W})}).on("click",function($,W){W.depth!==0&&(W.children=W.children?null:W._children,m(W)),F.services.events.dispatchEvent(C.Tree.NODE_CLICK,{event:$,element:H(this),datum:W})}).on("mouseout",function($,W){F.services.events.dispatchEvent(C.Tree.NODE_MOUSEOUT,{event:$,element:H(this),datum:W})});G.append("circle").attr("r",2.5).attr("class",function($){return $._children?"parent":"child"}).attr("stroke-width",10),G.append("text").attr("dy","0.31em").attr("x",function($){return $._children?-Cr:Cr}).attr("text-anchor",function($){return $._children?"end":"start"}).text(function($){return $.data.name}).clone(!0).attr("class","text-stroke").lower(),I.merge(G).transition(R).attr("transform",function($){return"translate("+$.y+","+$.x+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),I.exit().transition(R).remove().attr("transform",function(){return"translate("+A.y+","+A.x+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var L=M.selectAll("path").data(E,function($){return $.target.id}),z=L.enter().append("path").attr("d",function($){var W={x:A.x0,y:A.y0};return x({source:W,target:W})});L.merge(z).transition(R).attr("d",x),L.exit().transition(R).remove().attr("d",function(){var $={x:A.x,y:A.y};return x({source:$,target:$})}),g.eachBefore(function($){$.x0=$.x,$.y0=$.y})},y=g.descendants(),w=y[y.length-1].depth,O=_.getProperty(l,"tree","type")===lo.DENDROGRAM?OL().size([s,o-p-w*Cr-h]):ok().nodeSize([v,b]).size([s,o-p-w*Cr-h]),x=PC().x(function(A){return A.y}).y(function(A){return A.x});g.x0=b/2,g.y0=0,g.descendants().forEach(function(A,k){A.id=k,A._children=A.children}),O(g),i.attr("viewBox",[-d.left,-d.top,o,v]).style("user-select","none");var M=i.append("g").attr("class","links"),S=i.append("g").attr("class","nodes");m(g)}},n}(Ct),pk="#000000",gk="#ffffff",vk="#fcf4d6",mk="#fddc69",yk="#f1c21b",_k="#d2a106",bk="#b28600",xk="#8e6a00",Ok="#684e00",wk="#483700",Tk="#302400",Ek="#1c1500",Sk={10:vk,20:mk,30:yk,40:_k,50:bk,60:xk,70:Ok,80:wk,90:Tk,100:Ek},Mk="#fff2e8",Ck="#ffd9be",Ak="#ffb784",Dk="#ff832b",Pk="#eb6200",Lk="#ba4e00",kk="#8a3800",Rk="#5e2900",Ik="#3e1a00",Nk="#231000",Bk={10:Mk,20:Ck,30:Ak,40:Dk,50:Pk,60:Lk,70:kk,80:Rk,90:Ik,100:Nk},Fk="#fff1f1",Uk="#ffd7d9",Hk="#ffb3b8",Vk="#ff8389",Gk="#fa4d56",zk="#da1e28",jk="#a2191f",Wk="#750e13",$k="#520408",Yk="#2d0709",qk={10:Fk,20:Uk,30:Hk,40:Vk,50:Gk,60:zk,70:jk,80:Wk,90:$k,100:Yk},Xk="#fff0f7",Zk="#ffd6e8",Kk="#ffafd2",Qk="#ff7eb6",Jk="#ee5396",tR="#d02670",eR="#9f1853",nR="#740937",rR="#510224",iR="#2a0a18",aR={10:Xk,20:Zk,30:Kk,40:Qk,50:Jk,60:tR,70:eR,80:nR,90:rR,100:iR},oR="#f6f2ff",sR="#e8daff",lR="#d4bbff",uR="#be95ff",cR="#a56eff",fR="#8a3ffc",hR="#6929c4",dR="#491d8b",pR="#31135e",gR="#1c0f30",vR={10:oR,20:sR,30:lR,40:uR,50:cR,60:fR,70:hR,80:dR,90:pR,100:gR},mR="#edf5ff",yR="#d0e2ff",_R="#a6c8ff",bR="#78a9ff",xR="#4589ff",OR="#0f62fe",wR="#0043ce",TR="#002d9c",ER="#001d6c",SR="#001141",MR={10:mR,20:yR,30:_R,40:bR,50:xR,60:OR,70:wR,80:TR,90:ER,100:SR},CR="#e5f6ff",AR="#bae6ff",DR="#82cfff",PR="#33b1ff",LR="#1192e8",kR="#0072c3",RR="#00539a",IR="#003a6d",NR="#012749",BR="#061727",FR={10:CR,20:AR,30:DR,40:PR,50:LR,60:kR,70:RR,80:IR,90:NR,100:BR},UR="#d9fbfb",HR="#9ef0f0",VR="#3ddbd9",GR="#08bdba",zR="#009d9a",jR="#007d79",WR="#005d5d",$R="#004144",YR="#022b30",qR="#081a1c",XR={10:UR,20:HR,30:VR,40:GR,50:zR,60:jR,70:WR,80:$R,90:YR,100:qR},ZR="#defbe6",KR="#a7f0ba",QR="#6fdc8c",JR="#42be65",tI="#24a148",eI="#198038",nI="#0e6027",rI="#044317",iI="#022d0d",aI="#071908",oI={10:ZR,20:KR,30:QR,40:JR,50:tI,60:eI,70:nI,80:rI,90:iI,100:aI},sI="#f2f4f8",lI="#dde1e6",uI="#c1c7cd",cI="#a2a9b0",fI="#878d96",hI="#697077",dI="#4d5358",pI="#343a3f",gI="#21272a",vI="#121619",mI={10:sI,20:lI,30:uI,40:cI,50:fI,60:hI,70:dI,80:pI,90:gI,100:vI},yI="#f4f4f4",_I="#e0e0e0",bI="#c6c6c6",xI="#a8a8a8",OI="#8d8d8d",wI="#6f6f6f",TI="#525252",EI="#393939",SI="#262626",MI="#161616",CI={10:yI,20:_I,30:bI,40:xI,50:OI,60:wI,70:TI,80:EI,90:SI,100:MI},AI="#f7f3f2",DI="#e5e0df",PI="#cac5c4",LI="#ada8a8",kI="#8f8b8b",RI="#726e6e",II="#565151",NI="#3c3838",BI="#272525",FI="#171414",UI={10:AI,20:DI,30:PI,40:LI,50:kI,60:RI,70:II,80:NI,90:BI,100:FI},Jh={black:{100:pk},blue:MR,coolGray:mI,cyan:FR,gray:CI,green:oI,magenta:aR,orange:Bk,purple:vR,red:qk,teal:XR,warmGray:UI,white:{0:gk},yellow:Sk},HI=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VI=function(e){if(!e)return null;for(var n=0,t=Object.keys(Jh);n<t.length;n++)for(var r=t[n],i=Jh[r],a=0,o=Object.keys(i);a<o.length;a++){var s=o[a],l=i[s];if(l===e)return s}return null},td=function(){var e=H(this.parentNode).select("rect.leaf"),n=getComputedStyle(e.node(),null).getPropertyValue("fill"),t=Ln(n),r;if(t&&(r=VI(t?t.hex():null)),r==null){var i=vc(t).l;r=Math.abs(i*100-100)}return r>50?"white":"black"},GI=0,zI=function(e){HI(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="treemap",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;t.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-treemap"})}).attr("opacity",function(a){return a.parent.data.name===i.datum().name?1:.3})},t.handleLegendMouseOut=function(r){t.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-treemap"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.getComponentContainer();this.model.getData();var a=this.model.getDisplayData(),o=this.model.getOptions(),s=_.getProperty(window,"location"),l=U.getSVGElementSize(i,{useAttrs:!0}),u=l.width,c=l.height,h=pa({name:o.title||"Treemap",children:a}).sum(function(m){return m.value}).sort(function(m,y){return y.value-m.value}),f=fk().size([u,c]).paddingInner(1).paddingOuter(0).round(!0)(h);this.services.transitions;var p=i.selectAll("g[data-name='leaf']").data(f.leaves(),function(m){return m.data.name});p.exit().attr("opacity",0).remove();var d=p.enter().append("g").attr("data-name","leaf").attr("data-uid",function(){return GI++}),g=d.merge(p);g.attr("data-name","leaf").transition().call(function(m){return r.services.transitions.setupTransition({transition:m,name:"treemap-group-update",animate:t})}).attr("transform",function(m){return"translate("+m.x0+","+m.y0+")"});var v=g.selectAll("rect.leaf").data(function(m){return[m]});v.exit().attr("width",0).attr("height",0).remove();var b=v.enter().append("rect").classed("leaf",!0);b.merge(v).attr("width",0).attr("height",0).attr("id",function(){var m=H(this.parentNode).attr("data-uid");return o.style.prefix+"-leaf-"+m}).attr("class",function(m){for(;m.depth>1;)m=m.parent;return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:m.data.name,originalClassName:"leaf"})}).transition().call(function(m){return r.services.transitions.setupTransition({transition:m,name:"treemap-leaf-update-enter",animate:t})}).attr("width",function(m){return m.x1-m.x0}).attr("height",function(m){return m.y1-m.y0}).style("fill",function(m){for(;m.depth>1;)m=m.parent;return r.model.getFillColor(m.data.name)}),g.selectAll("clipPath").data(function(m){return m.data.showLabel!==!0?[]:[1]},function(m){return m}).join(function(m){m.append("clipPath").attr("id",function(){var y=H(this.parentNode).attr("data-uid");return o.style.prefix+"-clip-"+y}).append("use").attr("xlink:href",function(){var y=H(this.parentNode.parentNode).attr("data-uid"),w=o.style.prefix+"-leaf-"+y;return new URL("#"+w,s)+""})},function(m){return null},function(m){return m.remove()}),g.selectAll("text").data(function(m){if(m.data.showLabel!==!0)return[];for(var y=m;y.depth>1;)y=y.parent;var w=vc(r.model.getFillColor(y.data.name));return[{text:m.data.name,color:w.l<.5?"white":"black"}]},function(m){return m}).join(function(m){var y=m.append("text").text(function(w){return w.text}).style("fill",td).attr("x",7).attr("y",18);s&&y.attr("clip-path",function(){var w=H(this.parentNode).attr("data-uid"),O=o.style.prefix+"-clip-"+w;return"url("+(new URL("#"+O,s)+"")+")"})},function(m){return m.text(function(y){return y.text}).style("fill",td)},function(m){return m.remove()}),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("rect.leaf").on("mouseover",function(r,i){for(var a=H(this),o=getComputedStyle(this,null).getPropertyValue("fill"),s=i;s.depth>1;)s=s.parent;a.transition("graph_element_mouseover_fill_update").call(function(l){return t.services.transitions.setupTransition({transition:l,name:"graph_element_mouseover_fill_update"})}).style("fill",function(l){var u=t.model.getFillColor(l.parent.data.name);return u&&(o=u),Ln(o).darker(.7).toString()}),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:r,hoveredElement:a,items:[{color:o,label:s.data.name,bold:!0},{label:i.data.name,value:i.data.value}]}),t.services.events.dispatchEvent(C.Treemap.LEAF_MOUSEOVER,{event:r,element:a,datum:i})}).on("mousemove",function(r,i){var a=H(this);t.services.events.dispatchEvent(C.Treemap.LEAF_MOUSEMOVE,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:r})}).on("click",function(r,i){t.services.events.dispatchEvent(C.Treemap.LEAF_CLICK,{event:r,element:H(this),datum:i})}).on("mouseout",function(r,i){var a=H(this);a.classed("hovered",!1);for(var o=i;o.depth>1;)o=o.parent;a.transition().call(function(s){return t.services.transitions.setupTransition({transition:s,name:"graph_element_mouseout_fill_update"})}).style("fill",function(s){return t.model.getFillColor(s.parent.data.name)}),t.services.events.dispatchEvent(C.Treemap.LEAF_MOUSEOUT,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:a})})},n}(Ct);function ed(e){var n=jI(Cv(e),360);return Vn(n,[0,10])||Vn(n,[350,0])?{textAnchor:on.START,dominantBaseline:sn.MIDDLE}:Vn(n,[10,80])?{textAnchor:on.START,dominantBaseline:sn.HANGING}:Vn(n,[80,100])?{textAnchor:on.MIDDLE,dominantBaseline:sn.HANGING}:Vn(n,[100,170])?{textAnchor:on.END,dominantBaseline:sn.HANGING}:Vn(n,[170,190])?{textAnchor:on.END,dominantBaseline:sn.MIDDLE}:Vn(n,[190,260])?{textAnchor:on.END,dominantBaseline:sn.BASELINE}:Vn(n,[260,280])?{textAnchor:on.MIDDLE,dominantBaseline:sn.BASELINE}:{textAnchor:on.START,dominantBaseline:sn.BASELINE}}function jI(e,n){return(e%n+n)%n}function Vn(e,n){var t=n[0],r=n[1];return e>=t&&e<=r}function Cv(e){return e*(180/Math.PI)}function Jt(e,n,t){t===void 0&&(t={x:0,y:0});var r=n*Math.cos(e)+t.x,i=n*Math.sin(e)+t.y;return{x:isNaN(r)?0:r,y:isNaN(i)?0:i}}function WI(e,n){return n*Math.sin(e-Math.PI/2)}var $I=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YI=function(e){$I(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radar",t.renderType=ht.SVG,t.getLabelDimensions=function(r){var i=U.appendOrSelect(t.getComponentContainer(),"g.tmp-tick"),a=U.appendOrSelect(i,"text").text(r),o=U.getSVGElementSize(a.node(),{useBBox:!0}),s=o.width,l=o.height;return i.remove(),{width:s,height:l}},t.normalizeFlatData=function(r){var i=t.getOptions(),a=_.getProperty(i,"radar","axes"),o=a.angle,s=a.value,l=_.getProperty(i,"data","groupMapsTo"),u=_.flatMapDeep(t.uniqueKeys.map(function(c){return t.uniqueGroups.map(function(h){var f;return f={},f[o]=c,f[l]=h,f[s]=null,f})}));return _.merge(u,r)},t.normalizeGroupedData=function(r){var i=t.getOptions(),a=_.getProperty(i,"radar","axes"),o=a.angle,s=a.value,l=_.getProperty(i,"data","groupMapsTo");return r.map(function(u){var c=u.name,h=u.data,f=t.uniqueKeys.map(function(p){var d;return d={},d[l]=c,d[o]=p,d[s]=null,d});return{name:c,data:_.merge(f,h)}})},t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;t.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-blob"})}).style("fill-opacity",function(a){return a.name!==i.datum().name?zn.opacity.unselected:zn.opacity.selected}).style("stroke-opacity",function(a){return a.name!==i.datum().name?zn.opacity.unselected:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-blob"})}).style("fill-opacity",zn.opacity.selected).style("stroke-opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.getComponentContainer(),a=U.getSVGElementSize(i,{useAttrs:!0}),o=a.width,s=a.height,l=this.model.getData(),u=this.model.getGroupedData(),c=this.getOptions(),h=_.getProperty(c,"data","groupMapsTo"),f=_.getProperty(c,"radar","axes","value"),p=_.getProperty(c,"radar","axes"),d=p.angle,g=p.value,v=zn,b=v.xLabelPadding,m=v.yLabelPadding,y=v.yTicksNumber,w=v.minRange,O=v.xAxisRectHeight;this.uniqueKeys=Array.from(new Set(l.map(function(q){return q[d]}))),this.uniqueGroups=Array.from(new Set(l.map(function(q){return q[h]}))),this.fullDataNormalized=this.normalizeFlatData(l),this.groupedDataNormalized=this.normalizeGroupedData(u);var x=this.getLabelDimensions(this.uniqueKeys[0]).height,M=2*(x+m),S=Math.min(o,s),A=S-M,k=A/2;if(!(k<=0)){var E=ca().domain(this.fullDataNormalized.map(function(q){return q[d]})).range([0,2*Math.PI].map(function(q){return q-Math.PI/2})),P=jn(this.fullDataNormalized.map(function(q){return q[g]})),B=mn().domain([P>=0?0:P,dr(this.fullDataNormalized.map(function(q){return q[g]}))]).range([w,k]).nice(y),N=B.ticks(y),R=function(q){return r.model.getFillColor(q)},I=EC().angle(function(q){return E(q[d])+Math.PI/2}).radius(function(q){return B(q[g])}).curve(Zg),F=this.uniqueKeys.map(function(q){var Q=r.getLabelDimensions(q).width,j=WI(E(q),k);return Q+j}),G=dr(F),L={x:G+b,y:s/2},z=U.appendOrSelect(i,"g.y-axes").attr("role",_t.GROUP),$=z.selectAll("path").data(N,function(q){return q}),W=function(q){return r.uniqueKeys.map(function(Q){var j;return j={},j[d]=Q,j[g]=q,j})};$.join(function(q){return q.append("path").attr("opacity",0).attr("transform","translate("+L.x+", "+L.y+")").attr("fill","none").call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_y_axes_enter",animate:t})}).attr("opacity",1).attr("d",function(j){return I(W(j))})})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_y_axes_update",animate:t})}).attr("opacity",1).attr("transform","translate("+L.x+", "+L.y+")").attr("d",function(j){return I(W(j))})})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_y_axes_exit",animate:t})}).attr("d",function(j){return I(W(j))}).attr("opacity",0).remove()})});var et=U.appendOrSelect(i,"g.x-axes").attr("role",_t.GROUP),ut=et.selectAll("line").data(this.uniqueKeys,function(q){return q});ut.join(function(q){return q.append("line").attr("opacity",0).attr("class",function(Q){return"x-axis-"+_.kebabCase(Q)}).attr("stroke-dasharray","0").attr("x1",function(Q){return Jt(E(Q),0,L).x}).attr("y1",function(Q){return Jt(E(Q),0,L).y}).attr("x2",function(Q){return Jt(E(Q),0,L).x}).attr("y2",function(Q){return Jt(E(Q),0,L).y}).call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_x_axes_enter",animate:t})}).attr("opacity",1).attr("x1",function(j){return Jt(E(j),B.range()[0],L).x}).attr("y1",function(j){return Jt(E(j),B.range()[0],L).y}).attr("x2",function(j){return Jt(E(j),B.range()[1],L).x}).attr("y2",function(j){return Jt(E(j),B.range()[1],L).y})})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_x_axes_update",animate:t})}).attr("opacity",1).attr("x1",function(j){return Jt(E(j),B.range()[0],L).x}).attr("y1",function(j){return Jt(E(j),B.range()[0],L).y}).attr("x2",function(j){return Jt(E(j),B.range()[1],L).x}).attr("y2",function(j){return Jt(E(j),B.range()[1],L).y})})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_x_axes_exit",animate:t})}).attr("opacity",0).remove()})});var nt=U.appendOrSelect(i,"g.x-labels").attr("role",_t.GROUP),ot=nt.selectAll("text").data(this.uniqueKeys);ot.join(function(q){return q.append("text").text(function(Q){return Q}).attr("opacity",0).attr("x",function(Q){return Jt(E(Q),B.range()[1]+b,L).x}).attr("y",function(Q){return Jt(E(Q),B.range()[1]+b,L).y}).style("text-anchor",function(Q){return ed(E(Q)).textAnchor}).style("dominant-baseline",function(Q){return ed(E(Q)).dominantBaseline}).call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_x_labels_enter",animate:t})}).attr("opacity",1)})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_x_labels_update",animate:t})}).attr("opacity",1).attr("x",function(j){return Jt(E(j),B.range()[1]+b,L).x}).attr("y",function(j){return Jt(E(j),B.range()[1]+b,L).y}).end().finally(function(){var j=_.getProperty(c,"radar","alignment"),St=r.getAlignmentXOffset(j,i,r.getParent());i.attr("x",St)})})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_x_labels_exit",animate:t})}).attr("opacity",0).remove()})});var it=U.appendOrSelect(i,"g.blobs").attr("role",_t.GROUP),Z=it.selectAll("path").data(this.groupedDataNormalized,function(q){return q.name});Z.join(function(q){return q.append("path").attr("class",function(Q){return r.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],dataGroupName:Q.name,originalClassName:"blob"})}).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-label",function(Q){return Q.name}).attr("opacity",0).attr("transform",t?function(){return"translate("+L.x+", "+L.y+") scale("+(1+Math.random()*.35)+")"}:"translate("+L.x+", "+L.y+")").style("fill",function(Q){return R(Q.name)}).style("fill-opacity",zn.opacity.selected).style("stroke",function(Q){return R(Q.name)}).call(function(Q){var j=Q.transition().call(function(St){return r.services.transitions.setupTransition({transition:St,name:"radar_blobs_enter",animate:t})});t&&j.delay(function(){return Math.random()*30}).attr("transform","translate("+L.x+", "+L.y+")"),j.attr("opacity",1).attr("d",function(St){return I(St.data)})})},function(q){q.attr("class",function(Q){return r.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],dataGroupName:Q.name,originalClassName:"blob"})}).style("fill",function(Q){return R(Q.name)}).style("stroke",function(Q){return R(Q.name)}),q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_blobs_update",animate:t})}).attr("opacity",1).attr("transform","translate("+L.x+", "+L.y+")").attr("d",function(j){return I(j.data)})})},function(q){return q.call(function(Q){var j=Q.transition().call(function(St){return r.services.transitions.setupTransition({transition:St,name:"radar_blobs_exit",animate:t})});t&&j.delay(function(){return Math.random()*30}).attr("transform",function(){return"translate("+L.x+", "+L.y+") scale("+(1+Math.random()*.35)+")"}),j.attr("opacity",0).remove()})});var tt=U.appendOrSelect(i,"g.dots").attr("role",_t.GROUP),at=tt.selectAll("circle").data(this.fullDataNormalized.filter(function(q){return _.getProperty(q,g)!==null}));at.join(function(q){return q.append("circle").attr("role",_t.GRAPHICS_SYMBOL).attr("aria-label",function(Q){return Q[f]})},function(q){return q},function(q){return q.remove()}).attr("class",function(q){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:q[h],originalClassName:_.kebabCase(q[d])})}).attr("cx",function(q){return Jt(E(q[d]),B(q[g]),L).x}).attr("cy",function(q){return Jt(E(q[d]),B(q[g]),L).y}).attr("r",0).attr("opacity",0).style("fill",function(q){return R(q[h])});var pt=U.appendOrSelect(i,"g.x-axes-rect").attr("role",_t.GROUP),X=pt.selectAll("rect").data(this.uniqueKeys);X.join(function(q){return q.append("rect")},function(q){return q},function(q){return q.remove()}).attr("x",L.x).attr("y",L.y-O/2).attr("width",B.range()[1]).attr("height",O).style("fill","red").style("fill-opacity",0).attr("transform",function(q){return"rotate("+Cv(E(q))+", "+L.x+", "+L.y+")"});var Tt=U.appendOrSelect(i,"g.y-labels").attr("role",_t.GROUP),gt=Tt.selectAll("text").data(hn(N));gt.join(function(q){return q.append("text").attr("opacity",0).text(function(Q){return Q}).attr("x",function(Q){return Jt(-Math.PI/2,B(Q),L).x+m}).attr("y",function(Q){return Jt(-Math.PI/2,B(Q),L).y}).style("text-anchor","start").style("dominant-baseline","middle").call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_y_labels_enter",animate:t})}).attr("opacity",1)})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_y_labels_update",animate:t})}).text(function(j){return j}).attr("opacity",1).attr("x",function(j){return Jt(-Math.PI/2,B(j),L).x+m}).attr("y",function(j){return Jt(-Math.PI/2,B(j),L).y})})},function(q){return q.call(function(Q){return Q.transition().call(function(j){return r.services.transitions.setupTransition({transition:j,name:"radar_y_labels_exit",animate:t})}).attr("opacity",0).remove()})}),this.addEventListeners()}},n.prototype.getAlignmentXOffset=function(t,r,i){var a=U.getSVGElementSize(r,{useBBox:!0}),o=U.getSVGElementSize(i,{useAttrs:!0}).width,s=0;return t===de.CENTER?s=Math.floor((o-a.width)/2):t===de.RIGHT&&(s=o-a.width),s},n.prototype.destroy=function(){this.parent.selectAll(".x-axes-rect > rect").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.addEventListeners=function(){var t=this,r=_.getProperty(this.getOptions(),"radar").axes.angle;this.parent.selectAll(".x-axes-rect > rect").on("mouseover",function(i,a){var o=H(this);t.services.events.dispatchEvent(C.Radar.X_AXIS_MOUSEOVER,{event:i,element:o,datum:a});var s=t.parent.select(".x-axes .x-axis-"+_.kebabCase(a)),l=t.parent.selectAll(".dots circle."+_.kebabCase(a)),u=t.model.getActiveDataGroupNames(),c=t.getOptions(),h=c.data.groupMapsTo,f=_.getProperty(c,"radar","axes","value");s.classed("hovered",!0).attr("stroke-dasharray","4 4"),l.classed("hovered",!0).attr("opacity",function(d){return u.indexOf(d[h])!==-1?1:0}).attr("r",zn.dotsRadius);var p=t.fullDataNormalized.filter(function(d){return d[r]===a&&u.indexOf(d[h])!==-1});t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:i,hoveredElement:o,items:p.filter(function(d){return typeof d[f]=="number"}).map(function(d){return{label:d[h],value:d[f],color:t.model.getFillColor(d[h]),class:t.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:d[h]})}})})}).on("mousemove",function(i,a){var o=H(this);t.services.events.dispatchEvent(C.Radar.X_AXIS_MOUSEMOVE,{event:i,element:o,datum:a}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:i})}).on("click",function(i,a){t.services.events.dispatchEvent(C.Radar.X_AXIS_CLICK,{event:i,element:H(this),datum:a})}).on("mouseout",function(i,a){var o=H(this),s=t.parent.select(".x-axes .x-axis-"+_.kebabCase(a)),l=t.parent.selectAll(".dots circle."+_.kebabCase(a));s.classed("hovered",!1).attr("stroke-dasharray","0"),l.classed("hovered",!1).attr("opacity",0).attr("r",0),t.services.events.dispatchEvent(C.Radar.X_AXIS_MOUSEOUT,{event:i,element:o,datum:a}),t.services.events.dispatchEvent(C.Tooltip.HIDE)})},n}(Ct),qI=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XI=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},ZI=function(e){qI(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle-pack",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;t.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-circlepack"})}).attr("opacity",function(a){return a.data.dataGroupName===i.datum().name?1:rr.circles.fillOpacity})},t.handleLegendMouseOut=function(r){t.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-circlepack"})}).attr("opacity",1)},t}return n.prototype.render=function(t){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=U.getSVGElementSize(this.parent,{useAttrs:!0}),o=a.width,s=a.height;if(!(o<1||s<1)){var l=this.model.getDisplayData(),u=this.model.hasParentNode(),c=this.model.getHierarchyLevel(),h=this.getOptions(),f=_.getProperty(h,"canvasZoom","enabled");u&&_.getProperty(l,0,"children")&&(l=_.getProperty(l,0,"children"));var p=pa({children:l}).sum(function(m){return m.value}).sort(function(m,y){return y.value-m.value}),d=QL().size([o,s]).padding(function(m){return m.depth>=1?rr.padding.children+3:rr.padding.mainGroup+3}),g=d(p).descendants().splice(1).filter(function(m){return m.depth<=c}),v=i.selectAll("circle.node").data(g);v.exit().attr("width",0).attr("height",0).remove();var b=v.enter().append("circle").classed("node",!0);b.merge(v).attr("class",function(m){var y=f&&c===3?r.getZoomClass(m):"";return r.model.getColorClassName({classNameTypes:[dt.FILL,dt.STROKE],dataGroupName:m.data.dataGroupName,originalClassName:m.children?"node "+y:"node node-leaf "+y})}).style("fill",function(m){return r.model.getFillColor(m.data.dataGroupName)}).style("stroke",function(m){return r.model.getFillColor(m.data.dataGroupName)}).attr("cx",function(m){return m.x}).attr("cy",function(m){return m.y}).transition("circlepack-leaf-update-enter").call(function(m){return r.services.transitions.setupTransition({transition:m,name:"circlepack-leaf-update-enter"})}).attr("r",function(m){return m.r}).attr("opacity",1).attr("fill-opacity",rr.circles.fillOpacity),f===!0&&this.focal&&(this.services.canvasZoom.zoomIn(this.focal,b,zr),this.setBackgroundListeners()),u||this.addLegendListeners(),this.addEventListeners()}},n.prototype.unhighlightChildren=function(t){var r=this,i=t.map(function(a){return a.data});this.parent.selectAll("circle.node").filter(function(a){return i.some(function(o){return o===a.data})&&a.depth>1}).style("stroke",function(a){return r.model.getFillColor(a.data.dataGroupName)})},n.prototype.highlightChildren=function(t){var r=t.map(function(i){return i.data});this.parent.selectAll("circle.node").filter(function(i){return r.some(function(a){return a===i.data})&&i.depth>1}).style("stroke",rr.circles.hover.stroke)},n.prototype.getZoomClass=function(t){return this.model.getHierarchyLevel()===3&&this.focal&&(t.data===this.focal.data||this.focal.children.some(function(r){return r.data===t.data}))?"focal":"non-focal"},n.prototype.addLegendListeners=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.removeBackgroundListeners=function(){var t=H(this.services.domUtils.getMainContainer());t.on("click",function(){return null})},n.prototype.setBackgroundListeners=function(){var t=H(this.services.domUtils.getMainContainer()),r=this,i=this.parent.selectAll("circle.node"),a=_.getProperty(lg,"canvasZoomSettings");t.on("click",function(){r.focal=null,r.model.updateHierarchyLevel(2),t.classed("zoomed-in",!1),r.services.canvasZoom.zoomOut(i,a)})},n.prototype.getZoomIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`},n.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("circle.node").on("mouseover",function(r,i){var a=H(this);a.classed("hovered",!0);var o=t.model.getHierarchyLevel(),s=o>2&&!a.classed("focal"),l=_.getProperty(t.model.getOptions(),"canvasZoom","enabled"),u=!1;if(!s){var c=[],h=[],f=null;if(i.children){i.depth>1&&l&&(u=!0,a.classed("clickable",!0)),c=i.children.map(function(g){if(g!==null)return typeof g.data.value=="number"?{label:g.data.name,value:g.data.value}:{label:g.data.name,labelIcon:l&&o<=2?t.getZoomIcon():null,value:g.value}});var p=t.model.getOptions();h=[{label:zt(p,"tooltip.totalLabel")||"Total",value:i.value,bold:!0}],t.highlightChildren(i.children)}else f=i.value;var d=getComputedStyle(this,null).getPropertyValue("fill");t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:r,hoveredElement:a,items:XI([{color:d,label:i.data.name,labelIcon:u&&l&&o<=2?t.getZoomIcon():null,value:f}],c,h)})}t.services.events.dispatchEvent(C.CirclePack.CIRCLE_MOUSEOVER,{event:r,element:a,datum:i})}).on("mousemove",function(r,i){var a=H(this);t.services.events.dispatchEvent(C.CirclePack.CIRCLE_MOUSEMOVE,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:r})}).on("mouseout",function(r,i){var a=H(this);a.classed("hovered",!1),i.children&&t.unhighlightChildren(i.children),t.services.events.dispatchEvent(C.CirclePack.CIRCLE_MOUSEOUT,{event:r,element:a,datum:i}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:a})}).on("click",function(r,i){var a=H(this),o=a.classed("non-focal"),s=_.getProperty(t.model.getOptions(),"canvasZoom","enabled");if(s&&t.model.getHierarchyLevel()>2){var l=t.parent.selectAll("circle.node"),u=H(t.services.domUtils.getMainContainer());u.classed("zoomed-in",!1),t.focal=null,t.model.updateHierarchyLevel(2),t.services.canvasZoom.zoomOut(l,zr)}else if(i.depth===2&&i.children&&!o&&s){var l=t.parent.selectAll("circle.node"),u=H(t.services.domUtils.getMainContainer());u.classed("zoomed-in",!0),t.focal=i,t.model.updateHierarchyLevel(3),t.services.canvasZoom.zoomIn(i,l,zr),r.stopPropagation()}t.services.events.dispatchEvent(C.CirclePack.CIRCLE_CLICK,{event:r,element:a,datum:i})})},n.prototype.destroy=function(){this.parent.selectAll("circle.node").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),this.removeBackgroundListeners()},n}(Ct),KI={value:function(){}};function Av(){for(var e=0,n=arguments.length,t={},r;e<n;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Ja(t)}function Ja(e){this._=e}function QI(e,n){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Ja.prototype=Av.prototype={constructor:Ja,on:function(e,n){var t=this._,r=QI(e+"",t),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=JI(t[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(e=r[a]).type)t[i]=nd(t[i],e.name,n);else if(n==null)for(i in t)t[i]=nd(t[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Ja(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,a;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(n,t)}};function JI(e,n){for(var t=0,r=e.length,i;t<r;++t)if((i=e[t]).name===n)return i.value}function nd(e,n,t){for(var r=0,i=e.length;r<i;++r)if(e[r].name===n){e[r]=KI,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:n,value:t}),e}var tN=Object.freeze(Object.defineProperty({__proto__:null,dispatch:Av},Symbol.toStringTag,{value:"Module"})),eN=cE(tN),nN=eN.dispatch,Ys=Math.PI/180,Mi=1<<11>>5,to=1<<11,rN=function(){var e=[256,256],n=iN,t=aN,r=oN,i=rd,a=rd,o=sN,s=lN,l=Dv,u=[],c=1/0,h=nN("word","end"),f=null,p=Math.random,d={},g=gN;d.canvas=function(m){return arguments.length?(g=Gn(m),d):g},d.start=function(){var m=v(g()),y=pN((e[0]>>5)*e[1]),w=null,O=u.length,x=-1,M=[],S=u.map(function(k,E){return k.text=n.call(this,k,E),k.font=t.call(this,k,E),k.style=i.call(this,k,E),k.weight=a.call(this,k,E),k.rotate=o.call(this,k,E),k.size=~~r.call(this,k,E),k.padding=s.call(this,k,E),k}).sort(function(k,E){return E.size-k.size});return f&&clearInterval(f),f=setInterval(A,0),A(),d;function A(){for(var k=Date.now();Date.now()-k<c&&++x<O&&f;){var E=S[x];E.x=e[0]*(p()+.5)>>1,E.y=e[1]*(p()+.5)>>1,uN(m,E,S,x),E.hasText&&b(y,E,w)&&(M.push(E),h.call("word",d,E),w?fN(w,E):w=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}x>=O&&(d.stop(),h.call("end",d,M,w))}},d.stop=function(){return f&&(clearInterval(f),f=null),d};function v(m){m.width=m.height=1;var y=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(Mi<<5)/y,m.height=to/y;var w=m.getContext("2d");return w.fillStyle=w.strokeStyle="red",w.textAlign="center",{context:w,ratio:y}}function b(m,y,w){e[0],e[1];for(var O=y.x,x=y.y,M=Math.sqrt(e[0]*e[0]+e[1]*e[1]),S=l(e),A=p()<.5?1:-1,k=-A,E,P,B;(E=S(k+=A))&&(P=~~E[0],B=~~E[1],!(Math.min(Math.abs(P),Math.abs(B))>=M));)if(y.x=O+P,y.y=x+B,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>e[0]||y.y+y.y1>e[1])&&(!w||!cN(y,m,e[0]))&&(!w||hN(y,w))){for(var N=y.sprite,R=y.width>>5,I=e[0]>>5,F=y.x-(R<<4),G=F&127,L=32-G,z=y.y1-y.y0,$=(y.y+y.y0)*I+(F>>5),W,et=0;et<z;et++){W=0;for(var ut=0;ut<=R;ut++)m[$+ut]|=W<<L|(ut<R?(W=N[et*R+ut])>>>G:0);$+=I}return delete y.sprite,!0}return!1}return d.timeInterval=function(m){return arguments.length?(c=m==null?1/0:m,d):c},d.words=function(m){return arguments.length?(u=m,d):u},d.size=function(m){return arguments.length?(e=[+m[0],+m[1]],d):e},d.font=function(m){return arguments.length?(t=Gn(m),d):t},d.fontStyle=function(m){return arguments.length?(i=Gn(m),d):i},d.fontWeight=function(m){return arguments.length?(a=Gn(m),d):a},d.rotate=function(m){return arguments.length?(o=Gn(m),d):o},d.text=function(m){return arguments.length?(n=Gn(m),d):n},d.spiral=function(m){return arguments.length?(l=vN[m]||m,d):l},d.fontSize=function(m){return arguments.length?(r=Gn(m),d):r},d.padding=function(m){return arguments.length?(s=Gn(m),d):s},d.random=function(m){return arguments.length?(p=m,d):p},d.on=function(){var m=h.on.apply(h,arguments);return m===h?d:m},d};function iN(e){return e.text}function aN(){return"serif"}function rd(){return"normal"}function oN(e){return Math.sqrt(e.value)}function sN(){return(~~(Math.random()*6)-3)*30}function lN(){return 1}function uN(e,n,t,r){if(!n.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(Mi<<5)/a,to/a);var o=0,s=0,l=0,u=t.length;for(--r;++r<u;){n=t[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font;var c=i.measureText(n.text+"m").width*a,h=n.size<<1;if(n.rotate){var f=Math.sin(n.rotate*Ys),p=Math.cos(n.rotate*Ys),d=c*p,g=c*f,v=h*p,b=h*f;c=Math.max(Math.abs(d+b),Math.abs(d-b))+31>>5<<5,h=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else c=c+31>>5<<5;if(h>l&&(l=h),o+c>=Mi<<5&&(o=0,s+=l,l=0),s+h>=to)break;i.translate((o+(c>>1))/a,(s+(h>>1))/a),n.rotate&&i.rotate(n.rotate*Ys),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=c,n.height=h,n.xoff=o,n.yoff=s,n.x1=c>>1,n.y1=h>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,o+=c}for(var m=i.getImageData(0,0,(Mi<<5)/a,to/a).data,y=[];--r>=0;)if(n=t[r],!!n.hasText){for(var c=n.width,w=c>>5,h=n.y1-n.y0,O=0;O<h*w;O++)y[O]=0;if(o=n.xoff,o==null)return;s=n.yoff;for(var x=0,M=-1,S=0;S<h;S++){for(var O=0;O<c;O++){var A=w*S+(O>>5),k=m[(s+S)*(Mi<<5)+(o+O)<<2]?1<<31-O%32:0;y[A]|=k,x|=k}x?M=S:(n.y0++,h--,S--,s++)}n.y1=n.y0+M,n.sprite=y.slice(0,(n.y1-n.y0)*w)}}}function cN(e,n,t){t>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*t+(a>>5),c,h=0;h<l;h++){c=0;for(var f=0;f<=i;f++)if((c<<s|(f<i?(c=r[h*i+f])>>>o:0))&n[u+f])return!0;u+=t}return!1}function fN(e,n){var t=e[0],r=e[1];n.x+n.x0<t.x&&(t.x=n.x+n.x0),n.y+n.y0<t.y&&(t.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function hN(e,n){return e.x+e.x1>n[0].x&&e.x+e.x0<n[1].x&&e.y+e.y1>n[0].y&&e.y+e.y0<n[1].y}function Dv(e){var n=e[0]/e[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function dN(e){var n=4,t=n*e[0]/e[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=t;break;case 1:i+=n;break;case 2:r-=t;break;default:i-=n;break}return[r,i]}}function pN(e){for(var n=[],t=-1;++t<e;)n[t]=0;return n}function gN(){return document.createElement("canvas")}function Gn(e){return typeof e=="function"?e:function(){return e}}var vN={archimedean:Dv,rectangular:dN},mN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yN=function(e){mN(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="wordcloud",t.renderType=ht.SVG,t.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-hover-wordcloud"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},t.handleLegendMouseOut=function(r){t.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-mouseout-wordcloud"})}).attr("opacity",1)},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(C.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(t){t===void 0&&(t=!0);var r=this,i=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.model.getDisplayData(),o=this.getFontSizeScale(a),s=this.getOptions(),l=s.wordCloud,u=l.fontSizeMapsTo,c=l.wordMapsTo,h=s.data.groupMapsTo,f=U.getSVGElementSize(i,{useAttrs:!0}),p=f.width,d=f.height;if(p===0||d===0)return;var g=rN().size([p,d]).words(a.map(function(b){var m;return m={},m[h]=b[h],m.text=b[c],m.size=b[u],m.value=b[u],m})).padding(5).rotate(0).fontSize(function(b){return o(b.size)}).on("end",v);g.start();function v(b){var m=U.appendOrSelect(i,"g.words");m.attr("transform","translate("+g.size()[0]/2+", "+g.size()[1]/2+")");var y=m.selectAll("text").data(b,function(O){return O[h]+"-"+O.text});y.exit().attr("opacity",0).remove();var w=y.enter().append("text").attr("opacity",0);w.merge(y).style("font-size",function(O){return O.size+"px"}).text(function(O){return O.text}).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:O[h],originalClassName:"word "+(O.size>32?"light":"")})}).style("fill",function(O){return r.model.getFillColor(O[h],O.text,O)}).attr("text-anchor","middle").transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"wordcloud-text-update-enter",animate:t})}).attr("transform",function(O){return"translate("+O.x+", "+O.y+")"}).attr("opacity",1)}this.addEventListeners()},n.prototype.getFontSizeScale=function(t){var r=this.getOptions(),i=r.wordCloud.fontSizeMapsTo,a=t.map(function(u){return u[i]}).filter(function(u){return u}),o=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),s=a.length>0,l=s?hn(a):[1,1];return mn().domain(l).range(s?r.wordCloud.fontSizeRange(o,t):[4,4])},n.prototype.addEventListeners=function(){var t=this.getOptions(),r=t.data.groupMapsTo,i=this,a=_.debounce(function(o){var s=i.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(function(l){return i.services.transitions.setupTransition({transition:l,name:"wordcloud-word-mouse-highlight"})});o===null?s.attr("opacity",1):s.attr("opacity",function(){return o===this?1:.3})},6);this.parent.selectAll("text.word").on("mouseover",function(o,s){var l=this;a(l),i.services.events.dispatchEvent(C.WordCloud.WORD_MOUSEOVER,{event:o,element:H(this),datum:s}),i.services.events.dispatchEvent(C.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:t.tooltip.wordLabel,value:s.text},{label:t.tooltip.valueLabel,value:s.value},{label:t.tooltip.groupLabel,value:s[r],class:i.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:s[r]})}]})}).on("mousemove",function(o,s){var l=H(this);i.services.events.dispatchEvent(C.WordCloud.WORD_MOUSEMOVE,{element:l,datum:s}),i.services.events.dispatchEvent(C.Tooltip.MOVE,{event:o})}).on("click",function(o,s){i.services.events.dispatchEvent(C.WordCloud.WORD_CLICK,{event:o,element:H(this),datum:s})}).on("mouseout",function(o,s){var l=H(this);a(null),i.services.events.dispatchEvent(C.WordCloud.WORD_MOUSEOUT,{event:o,element:l,datum:s}),i.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:l})})},n}(Ct);function id(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function _N(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function qs(e,n){let t=0;if(n===void 0)for(let r of e)(r=+r)&&(t+=r);else{let r=-1;for(let i of e)(i=+n(i,++r,e))&&(t+=i)}return t}function bN(e,n){return e.sourceLinks.length?e.depth:n-1}function Fa(e){return function(){return e}}function ad(e,n){return Io(e.source,n.source)||e.index-n.index}function od(e,n){return Io(e.target,n.target)||e.index-n.index}function Io(e,n){return e.y0-n.y0}function Xs(e){return e.value}function xN(e){return e.index}function ON(e){return e.nodes}function wN(e){return e.links}function sd(e,n){const t=e.get(n);if(!t)throw new Error("missing: "+n);return t}function ld({nodes:e}){for(const n of e){let t=n.y0,r=t;for(const i of n.sourceLinks)i.y0=t+i.width/2,t+=i.width;for(const i of n.targetLinks)i.y1=r+i.width/2,r+=i.width}}function TN(){let e=0,n=0,t=1,r=1,i=24,a=8,o,s=xN,l=bN,u,c,h=ON,f=wN,p=6;function d(){const R={nodes:h.apply(null,arguments),links:f.apply(null,arguments)};return g(R),v(R),b(R),m(R),O(R),ld(R),R}d.update=function(R){return ld(R),R},d.nodeId=function(R){return arguments.length?(s=typeof R=="function"?R:Fa(R),d):s},d.nodeAlign=function(R){return arguments.length?(l=typeof R=="function"?R:Fa(R),d):l},d.nodeSort=function(R){return arguments.length?(u=R,d):u},d.nodeWidth=function(R){return arguments.length?(i=+R,d):i},d.nodePadding=function(R){return arguments.length?(a=o=+R,d):a},d.nodes=function(R){return arguments.length?(h=typeof R=="function"?R:Fa(R),d):h},d.links=function(R){return arguments.length?(f=typeof R=="function"?R:Fa(R),d):f},d.linkSort=function(R){return arguments.length?(c=R,d):c},d.size=function(R){return arguments.length?(e=n=0,t=+R[0],r=+R[1],d):[t-e,r-n]},d.extent=function(R){return arguments.length?(e=+R[0][0],t=+R[1][0],n=+R[0][1],r=+R[1][1],d):[[e,n],[t,r]]},d.iterations=function(R){return arguments.length?(p=+R,d):p};function g({nodes:R,links:I}){for(const[G,L]of R.entries())L.index=G,L.sourceLinks=[],L.targetLinks=[];const F=new Map(R.map((G,L)=>[s(G,L,R),G]));for(const[G,L]of I.entries()){L.index=G;let{source:z,target:$}=L;typeof z!="object"&&(z=L.source=sd(F,z)),typeof $!="object"&&($=L.target=sd(F,$)),z.sourceLinks.push(L),$.targetLinks.push(L)}if(c!=null)for(const{sourceLinks:G,targetLinks:L}of R)G.sort(c),L.sort(c)}function v({nodes:R}){for(const I of R)I.value=I.fixedValue===void 0?Math.max(qs(I.sourceLinks,Xs),qs(I.targetLinks,Xs)):I.fixedValue}function b({nodes:R}){const I=R.length;let F=new Set(R),G=new Set,L=0;for(;F.size;){for(const z of F){z.depth=L;for(const{target:$}of z.sourceLinks)G.add($)}if(++L>I)throw new Error("circular link");F=G,G=new Set}}function m({nodes:R}){const I=R.length;let F=new Set(R),G=new Set,L=0;for(;F.size;){for(const z of F){z.height=L;for(const{source:$}of z.targetLinks)G.add($)}if(++L>I)throw new Error("circular link");F=G,G=new Set}}function y({nodes:R}){const I=id(R,L=>L.depth)+1,F=(t-e-i)/(I-1),G=new Array(I);for(const L of R){const z=Math.max(0,Math.min(I-1,Math.floor(l.call(null,L,I))));L.layer=z,L.x0=e+z*F,L.x1=L.x0+i,G[z]?G[z].push(L):G[z]=[L]}if(u)for(const L of G)L.sort(u);return G}function w(R){const I=_N(R,F=>(r-n-(F.length-1)*o)/qs(F,Xs));for(const F of R){let G=n;for(const L of F){L.y0=G,L.y1=G+L.value*I,G=L.y1+o;for(const z of L.sourceLinks)z.width=z.value*I}G=(r-G+o)/(F.length+1);for(let L=0;L<F.length;++L){const z=F[L];z.y0+=G*(L+1),z.y1+=G*(L+1)}P(F)}}function O(R){const I=y(R);o=Math.min(a,(r-n)/(id(I,F=>F.length)-1)),w(I);for(let F=0;F<p;++F){const G=Math.pow(.99,F),L=Math.max(1-G,(F+1)/p);M(I,G,L),x(I,G,L)}}function x(R,I,F){for(let G=1,L=R.length;G<L;++G){const z=R[G];for(const $ of z){let W=0,et=0;for(const{source:nt,value:ot}of $.targetLinks){let it=ot*($.layer-nt.layer);W+=B(nt,$)*it,et+=it}if(!(et>0))continue;let ut=(W/et-$.y0)*I;$.y0+=ut,$.y1+=ut,E($)}u===void 0&&z.sort(Io),S(z,F)}}function M(R,I,F){for(let G=R.length,L=G-2;L>=0;--L){const z=R[L];for(const $ of z){let W=0,et=0;for(const{target:nt,value:ot}of $.sourceLinks){let it=ot*(nt.layer-$.layer);W+=N($,nt)*it,et+=it}if(!(et>0))continue;let ut=(W/et-$.y0)*I;$.y0+=ut,$.y1+=ut,E($)}u===void 0&&z.sort(Io),S(z,F)}}function S(R,I){const F=R.length>>1,G=R[F];k(R,G.y0-o,F-1,I),A(R,G.y1+o,F+1,I),k(R,r,R.length-1,I),A(R,n,0,I)}function A(R,I,F,G){for(;F<R.length;++F){const L=R[F],z=(I-L.y0)*G;z>1e-6&&(L.y0+=z,L.y1+=z),I=L.y1+o}}function k(R,I,F,G){for(;F>=0;--F){const L=R[F],z=(L.y1-I)*G;z>1e-6&&(L.y0-=z,L.y1-=z),I=L.y0-o}}function E({sourceLinks:R,targetLinks:I}){if(c===void 0){for(const{source:{sourceLinks:F}}of I)F.sort(od);for(const{target:{targetLinks:F}}of R)F.sort(ad)}}function P(R){if(c===void 0)for(const{sourceLinks:I,targetLinks:F}of R)I.sort(od),F.sort(ad)}function B(R,I){let F=R.y0-(R.sourceLinks.length-1)*o/2;for(const{target:G,width:L}of R.sourceLinks){if(G===I)break;F+=L+o}for(const{source:G,width:L}of I.targetLinks){if(G===R)break;F-=L}return F}function N(R,I){let F=I.y0-(I.targetLinks.length-1)*o/2;for(const{source:G,width:L}of I.targetLinks){if(G===R)break;F+=L+o}for(const{target:G,width:L}of R.sourceLinks){if(G===I)break;F-=L}return F}return d}var Nu=Math.PI,Bu=2*Nu,nr=1e-6,EN=Bu-nr;function Fu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pv(){return new Fu}Fu.prototype=Pv.prototype={constructor:Fu,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,t,r){this._+="Q"+ +e+","+ +n+","+(this._x1=+t)+","+(this._y1=+r)},bezierCurveTo:function(e,n,t,r,i,a){this._+="C"+ +e+","+ +n+","+ +t+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,n,t,r,i){e=+e,n=+n,t=+t,r=+r,i=+i;var a=this._x1,o=this._y1,s=t-e,l=r-n,u=a-e,c=o-n,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(h>nr)if(!(Math.abs(c*s-l*u)>nr)||!i)this._+="L"+(this._x1=e)+","+(this._y1=n);else{var f=t-a,p=r-o,d=s*s+l*l,g=f*f+p*p,v=Math.sqrt(d),b=Math.sqrt(h),m=i*Math.tan((Nu-Math.acos((d+h-g)/(2*v*b)))/2),y=m/b,w=m/v;Math.abs(y-1)>nr&&(this._+="L"+(e+y*u)+","+(n+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*p)+","+(this._x1=e+w*s)+","+(this._y1=n+w*l)}},arc:function(e,n,t,r,i,a){e=+e,n=+n,t=+t,a=!!a;var o=t*Math.cos(r),s=t*Math.sin(r),l=e+o,u=n+s,c=1^a,h=a?r-i:i-r;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>nr||Math.abs(this._y1-u)>nr)&&(this._+="L"+l+","+u),t&&(h<0&&(h=h%Bu+Bu),h>EN?this._+="A"+t+","+t+",0,1,"+c+","+(e-o)+","+(n-s)+"A"+t+","+t+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>nr&&(this._+="A"+t+","+t+",0,"+ +(h>=Nu)+","+c+","+(this._x1=e+t*Math.cos(i))+","+(this._y1=n+t*Math.sin(i))))},rect:function(e,n,t,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +t+"v"+ +r+"h"+-t+"Z"},toString:function(){return this._}};function ud(e){return function(){return e}}function SN(e){return e[0]}function MN(e){return e[1]}var CN=Array.prototype.slice;function AN(e){return e.source}function DN(e){return e.target}function PN(e){var n=AN,t=DN,r=SN,i=MN,a=null;function o(){var s,l=CN.call(arguments),u=n.apply(this,l),c=t.apply(this,l);if(a||(a=s=Pv()),e(a,+r.apply(this,(l[0]=u,l)),+i.apply(this,l),+r.apply(this,(l[0]=c,l)),+i.apply(this,l)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(n=s,o):n},o.target=function(s){return arguments.length?(t=s,o):t},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:ud(+s),o):r},o.y=function(s){return arguments.length?(i=typeof s=="function"?s:ud(+s),o):i},o.context=function(s){return arguments.length?(a=s==null?null:s,o):a},o}function LN(e,n,t,r,i){e.moveTo(n,t),e.bezierCurveTo(n=(n+r)/2,t,n,i,r,i)}function kN(){return PN(LN)}function RN(e){return[e.source.x1,e.y0]}function IN(e){return[e.target.x0,e.y1]}function NN(){return kN().source(RN).target(IN)}var BN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FN=function(e){BN(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="alluvial",t.renderType=ht.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t}return n.prototype.render=function(t){var r=this,i=this.getComponentContainer({withinChartClip:!0});i.html("");var a=U.getSVGElementSize(i,{useAttrs:!0}),o=a.width,s=a.height;if(!(o<1||s<1)){var l=this.model.getOptions(),u=this.model.getDisplayData(),c=_.getProperty(this.getOptions(),"color","gradient","enabled"),h=ze.minNodePadding;l.alluvial.nodePadding>ze.minNodePadding&&(h=l.alluvial.nodePadding);var f=TN().nodeId(function(y){return y.name}).nodeWidth(ze.nodeWidth).nodePadding(h).extent([[2,30],[o-2,s]]);this.graph=f({nodes:l.alluvial.nodes.map(function(y){return Object.assign({},y)}),links:u.map(function(y){return Object.assign({},y)})}),this.graph.nodes=this.graph.nodes.filter(function(y){return y.value!==0});var p={};this.graph.nodes.forEach(function(y){var w,O=y.x0;y.category&&(p[O]=(w=y)===null||w===void 0?void 0:w.category)});var d=i.append("g").classed("header-arrows",!0).selectAll("g").data(Object.keys(p)).join("g").attr("transform",function(y){return"translate("+y+", 0)"});d.append("text").attr("id",function(y,w){return r.services.domUtils.generateElementIDString("alluvial-category-"+w)}).style("font-size","14px").text(function(y){return p[y]?p[y]:""}).attr("y",20).attr("x",function(y,w){var O=r.services.domUtils.generateElementIDString("alluvial-category-"+w),x=U.getSVGElementSize(H("text#"+O),{useBBox:!0}).width,M=0;return y+M>=x&&(M=-x+4),M});var g=i.append("g").attr("fill","none").selectAll("g").data(this.graph.links);if(g.exit().remove(),c){var v=_.getProperty(this.getOptions(),"color","scale");v&&g.enter().append("linearGradient").attr("id",function(y){return r.gradient_id+"-link-"+y.index}).attr("gradientUnits","userSpaceOnUse").call(function(y){return y.append("stop").attr("offset","0%").attr("stop-color",function(w){return v[w.source.name]})}).call(function(y){return y.append("stop").attr("offset","100%").attr("stop-color",function(w){return v[w.target.name]})}),g.exit().remove()}g.enter().append("path").classed("link",!0).attr("d",NN()).attr("id",function(y){return r.services.domUtils.generateElementIDString("alluvial-line-"+y.index)}).attr("class",function(y){return l.alluvial.monochrome?r.model.getColorClassName({classNameTypes:[dt.STROKE],dataGroupName:0,originalClassName:"link"}):r.model.getColorClassName({classNameTypes:[dt.STROKE],dataGroupName:y.source.index,originalClassName:"link"})}).style("stroke",function(y){return c?"url(#"+r.gradient_id+"-link-"+y.index+")":r.model.getFillColor(y.source.name)}).attr("stroke-width",function(y){return Math.max(1,y.width)}).style("stroke-opacity",ze.opacity.default).attr("aria-label",function(y){return y.source.name+" \u2192 "+y.target.name+" ("+y.value+(l.alluvial.units?" "+l.alluvial.units:"")+")"});var b=i.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr("id",function(y){return r.services.domUtils.generateElementIDString("alluvial-node-"+y.index)}).classed("node-group",!0).attr("transform",function(y){return"translate("+y.x0+", "+y.y0+")"});b.append("rect").classed("node",!0).attr("height",function(y){return y.y1-y.y0}).attr("width",function(y){return y.x1-y.x0}).attr("fill","black");var m=b.append("g").attr("id",function(y){return r.services.domUtils.generateElementIDString("alluvial-node-title-"+y.index)});m.append("text").attr("id",function(y){return r.services.domUtils.generateElementIDString("alluvial-node-text-"+y.index)}).attr("class","node-text").style("font-size","12px").attr("text-anchor","start").attr("fill","white").attr("x",4).attr("dy",13).text(function(y){return y.name+" ("+y.value+")"}).attr("aria-label",function(y){return y.name+" ("+y.value+")"}),m.append("rect").classed("node-text-bg",!0).attr("width",function(y,w){var O=r.services.domUtils.generateElementIDString("alluvial-node-text-"+w),x=U.getSVGElementSize(H("text#"+O),{useBBox:!0}).width;return x+8}).attr("height",18).attr("stroke-width",2).lower(),m.attr("transform",function(y,w){var O=r.services.domUtils.generateElementIDString("alluvial-node-text-"+w),x=U.getSVGElementSize(H("text#"+O),{useBBox:!0}).width,M=(y.y1-y.y0)/2-9,S=y.x1-y.x0;return y.x1>=x?S=S-(x+16):S+=4,"translate("+S+", "+M+")"}),this.addLineEventListener(),this.addNodeEventListener()}},n.prototype.addLineEventListener=function(){var t=this.getOptions(),r=this,i=_.debounce(function(a,o){o===void 0&&(o="mouseover");var s=r.parent.selectAll("path.link").transition().call(function(l){return r.services.transitions.setupTransition({transition:l,name:"alluvial-links-mouse-highlight"})});o==="mouseout"?(H(a).lower(),s.style("stroke-opacity",ze.opacity.default)):s.style("stroke-opacity",function(){return a===this?(H(this).raise(),ze.opacity.selected):ze.opacity.unfocus})},33);this.parent.selectAll("path.link").on("mouseover",function(a,o){var s=H(this);i(this,"mouseover"),s.classed("link-hovered",!0);var l=getComputedStyle(this).getPropertyValue("stroke");r.services.events.dispatchEvent(C.Alluvial.LINE_MOUSEOVER,{event:a,element:s,datum:o}),r.services.events.dispatchEvent(C.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:o.target.name,value:o.value+(t.alluvial.units?" "+t.alluvial.units:""),color:l,labelIcon:r.getRightArrowIcon()}]})}).on("mousemove",function(a,o){r.services.events.dispatchEvent(C.Alluvial.LINE_MOUSEMOVE,{event:a,element:H(this),datum:o}),r.services.events.dispatchEvent(C.Tooltip.MOVE,{event:a})}).on("click",function(a,o){r.services.events.dispatchEvent(C.Alluvial.LINE_CLICK,{event:a,element:H(this),datum:o})}).on("mouseout",function(a,o){var s=H(this);i(this,"mouseout"),s.classed("link-hovered",!1),r.services.events.dispatchEvent(C.Alluvial.LINE_MOUSEOUT,{event:a,element:s,datum:o}),r.services.events.dispatchEvent(C.Tooltip.HIDE,{event:a,hoveredElement:s})})},n.prototype.addNodeEventListener=function(){var t=this,r=this,i=_.debounce(function(a,o){if(a===void 0&&(a=[]),o===void 0&&(o="mouseover"),o==="mouseout"||a.length===0){r.parent.selectAll("path.link").classed("link-hovered",!1).data(t.graph.links,function(l){return l.index}).order().style("stroke-opacity",ze.opacity.default);return}var s=r.parent.selectAll("path.link").transition().call(function(l){return t.services.transitions.setupTransition({transition:l,name:"alluvial-link-mouse-highlight"})});s.style("stroke-opacity",function(l){return a.some(function(u){return u===l.index})?(H(this).classed("link-hovered",!0).raise(),ze.opacity.selected):ze.opacity.unfocus})},66);r.parent.selectAll(".node-group").on("mouseover",function(a,o){var s=H(this),l=[];if(r.traverse({link:"sourceLinks",node:"target"},o,l),r.traverse({link:"targetLinks",node:"source"},o,l),l.length){var u=_.getTranformOffsets(s.attr("transform"));if(s.attr("transform","translate("+(u.x-2)+", "+u.y+")"),s.classed("node-hovered",!0).selectAll("rect.node").attr("width",8),o.x0-2===0){var c=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),h=r.parent.select("g#"+c),f=_.getTranformOffsets(h.attr("transform"));h.attr("transform","translate("+(f.x+4)+","+f.y+")")}var p=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+p).style("font-weight","bold"),i(l,"mouseover"),r.services.events.dispatchEvent(C.Alluvial.NODE_MOUSEOVER,{event:a,element:s,datum:o})}}).on("mousemove",function(a,o){r.services.events.dispatchEvent(C.Alluvial.NODE_MOUSEMOVE,{event:a,element:H(this),datum:o}),r.services.events.dispatchEvent(C.Tooltip.MOVE,{event:a})}).on("click",function(a,o){r.services.events.dispatchEvent(C.Alluvial.NODE_CLICK,{event:a,element:H(this),datum:o})}).on("mouseout",function(a,o){var s=H(this),l=_.getTranformOffsets(s.attr("transform"));if(s.classed("node-hovered",!1).attr("transform","translate("+(l.x+2)+", "+l.y+")").select("rect.node").attr("width",ze.nodeWidth),o.x0-2===0){var u=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),c=r.parent.select("g#"+u),h=_.getTranformOffsets(c.attr("transform"));c.attr("transform","translate("+(h.x-4)+","+h.y+")")}var f=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+f).style("font-weight","normal"),i([],"mouseout"),r.services.events.dispatchEvent(C.Alluvial.NODE_MOUSEOUT,{event:a,element:s,datum:o}),r.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:s})})},n.prototype.traverse=function(t,r,i){var a=this;i===void 0&&(i=[]);var o=r[t.link].map(function(s){return i.push(s.index),s[t.node]});o.forEach(function(s){return a.traverse(t,s,i)})},n.prototype.getRightArrowIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect  data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/>
		</svg>`},n.prototype.destroy=function(){this.parent.selectAll("path.line,.node-group").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null)},n}(Ct),UN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HN=function(e){UN(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.renderType=ht.SVG,t.matrix={},t.xBandwidth=0,t.yBandwidth=0,t.translationUnits={x:0,y:0},t.handleAxisOnHover=function(r){var i=r.detail,a=i.datum,o=t.model.getUniqueRanges(),s=t.model.getUniqueDomain(),l=t.services.cartesianScales.getDomainLabel(),u=t.services.cartesianScales.getRangeLabel(),c=t.services.cartesianScales.getMainXScale(),h=t.services.cartesianScales.getMainYScale(),f="",p=0,d=0,g=0;t.matrix[a]!==void 0?(f=l,o.forEach(function(v){var b=t.matrix[a][v].value||0;p+=b,d=b<d?b:d,g=b>g?b:g})):(f=u,s.forEach(function(v){var b=t.matrix[v][a].value||0;p+=b,d=b<d?b:d,g=b>g?b:g})),c(a)!==void 0?t.parent.select("g.multi-cell.column-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+c(a)+", "+jn(h.range())+")"):h(a)!==void 0&&t.parent.select("g.multi-cell.row-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+jn(c.range())+","+h(a)+")"),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:i.event,hoveredElement:H(r.detail.element),items:[{label:f,value:a,bold:!0},{label:"Min",value:d},{label:"Max",value:g},{label:"Average",value:p/s.length}]})},t.handleAxisMouseOut=function(r){t.parent.selectAll("g.multi-cell").classed("highlighter-hidden",!0),t.services.events.dispatchEvent(C.Tooltip.HIDE,{event:r})},t}return n.prototype.init=function(){var t=this.services.events;t.addEventListener(C.Axis.LABEL_MOUSEOVER,this.handleAxisOnHover),t.addEventListener(C.Axis.LABEL_MOUSEOUT,this.handleAxisMouseOut),t.addEventListener(C.Axis.LABEL_FOCUS,this.handleAxisOnHover),t.addEventListener(C.Axis.LABEL_BLUR,this.handleAxisMouseOut)},n.prototype.render=function(t){var r=this,i=this.getComponentContainer({withinChartClip:!0});i.lower();var a=this.services.cartesianScales;if(this.matrix=this.model.getMatrix(),i.html(""),!_.getProperty(this.getOptions(),"data","loading")){var o=a.getMainXScale(),s=a.getMainYScale(),l=a.getDomainIdentifier(),u=a.getRangeIdentifier(),c=this.model.getUniqueDomain(),h=this.model.getUniqueRanges(),f=this.model.getMatrixAsArray(),p=o.range(),d=s.range();this.xBandwidth=Math.abs((p[1]-p[0])/c.length),this.yBandwidth=Math.abs((d[1]-d[0])/h.length);var g=this.services.domUtils.generateElementIDString("heatmap-pattern-stripes");i.append("defs").append("pattern").attr("id",g).attr("width",3).attr("height",3).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").classed("pattern-fill",!0).attr("width",.5).attr("height",8);var v=i.selectAll().data(f).enter().append("g").attr("class",function(b){return"heat-"+b.index}).classed("cell",!0).attr("transform",function(b){return"translate("+o(b[l])+", "+s(b[u])+")"}).append("rect").attr("class",function(b){return r.model.getColorClassName({value:b.value,originalClassName:"heat-"+b.index})}).classed("heat",!0).classed("null-state",function(b){return b.index===-1||b.value===null}).attr("width",this.xBandwidth).attr("height",this.yBandwidth).style("fill",function(b){return b.index===-1||b.value===null?"url(#"+g+")":r.model.getFillColor(Number(b.value))}).attr("aria-label",function(b){return b.value});this.createOuterBox("g.cell-highlight",this.xBandwidth,this.yBandwidth),this.createOuterBox("g.multi-cell.column-highlight",this.xBandwidth,Math.abs(d[1]-d[0])),this.createOuterBox("g.multi-cell.row-highlight",Math.abs(p[1]-p[0]),this.yBandwidth),this.determineDividerStatus()&&(v.style("stroke-width","1px"),this.parent.select("g.cell-highlight").classed("cell-2",!0)),this.addEventListener()}},n.prototype.createOuterBox=function(t,r,i){var a=U.appendOrSelect(this.parent,t).classed("shadows",!0).classed("highlighter-hidden",!0);U.appendOrSelect(a,"line.top").attr("x1",-1).attr("x2",r+1),U.appendOrSelect(a,"line.left").attr("x1",0).attr("y1",-1).attr("x2",0).attr("y2",i+1),U.appendOrSelect(a,"line.down").attr("x1",-1).attr("x2",r+1).attr("y1",i).attr("y2",i),U.appendOrSelect(a,"line.right").attr("x1",r).attr("x2",r).attr("y1",-1).attr("y2",i+1)},n.prototype.determineDividerStatus=function(){var t=_.getProperty(this.getOptions(),"heatmap","divider","state");return t!==Gr.OFF&&(t===Gr.AUTO&&Bl.minCellDividerDimension<=this.xBandwidth&&Bl.minCellDividerDimension<=this.yBandwidth||t===Gr.ON)},n.prototype.addEventListener=function(){var t=this,r=this.services.cartesianScales,i=this.getOptions(),a=zt(i,"tooltip.totalLabel"),o=r.getDomainIdentifier(),s=r.getRangeIdentifier(),l=r.getDomainLabel(),u=r.getRangeLabel();this.parent.selectAll("g.cell").on("mouseover",function(c,h){var f=H(this),p=f.select("rect.heat"),d=p.classed("null-state");if(!d){var g=_.getTranformOffsets(f.attr("transform"));H("g.cell-highlight").attr("transform","translate("+(g.x+t.translationUnits.x)+", "+(g.y+t.translationUnits.y)+")").classed("highlighter-hidden",!1),t.services.events.dispatchEvent(C.Heatmap.HEATMAP_MOUSEOVER,{event:c,element:p,datum:h}),t.services.events.dispatchEvent(C.Tooltip.SHOW,{event:c,items:[{label:l,value:h[o]},{label:u,value:h[s]},{label:a||"Total",value:h.value,color:p.style("fill")}]})}}).on("mousemove",function(c,h){t.services.events.dispatchEvent(C.Heatmap.HEATMAP_MOUSEMOVE,{event:c,element:H(this),datum:h}),t.services.events.dispatchEvent(C.Tooltip.MOVE,{event:c})}).on("click",function(c,h){t.services.events.dispatchEvent(C.Heatmap.HEATMAP_CLICK,{event:c,element:H(this),datum:h})}).on("mouseout",function(c,h){var f=H(this),p=f.select("rect.heat"),d=p.classed("null-state");H("g.cell-highlight").classed("highlighter-hidden",!0),d||(t.services.events.dispatchEvent(C.Heatmap.HEATMAP_MOUSEOUT,{event:c,element:p,datum:h}),t.services.events.dispatchEvent(C.Tooltip.HIDE,{event:c,hoveredElement:p}))})},n.prototype.destroy=function(){this.parent.selectAll("rect.heat").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(C.Legend.ITEM_HOVER,this.handleAxisOnHover),t.removeEventListener(C.Legend.ITEM_MOUSEOUT,this.handleAxisMouseOut)},n}(Ct),VN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vr=function(e){VN(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="spacer",t}return n.prototype.render=function(){this.getComponentContainer().style("width",(this.configs.size||Fl.default.size)+"px").style("height",(this.configs.size||Fl.default.size)+"px").attr("opacity",0)},n}(Ct),GN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gn=function(e){GN(n,e);function n(t,r,i,a){var o=e.call(this,t,r,a)||this;return o.type="layout",o.configs=a,o.children=i,o._instanceID=n.instanceID++,o.init(),o}return n.prototype.init=function(){this.children.forEach(function(t){t.components.forEach(function(r){r.init()})})},n.prototype.getPreferedAndFixedSizeSum=function(){var t=this.parent,r=0;return t.selectAll("div.layout-child-"+this._instanceID).filter(function(i){var a=_.getProperty(i,"growth");return a===Et.PREFERRED||a===Et.FIXED}).each(function(i){r+=i.size}),r},n.prototype.getNumOfStretchChildren=function(){var t=this.parent;return t.selectAll("div.layout-child-"+this._instanceID).filter(function(r){return _.getProperty(r,"growth")===Et.STRETCH}).size()},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.parent,a=U.getHTMLElementSize(i.node()),o=a.width,s=a.height,l=this.configs.direction===Xt.ROW||this.configs.direction===Xt.ROW_REVERSE,u=_.getProperty(this.model.getOptions(),"style","prefix"),c=i.classed(he.prefix+"--"+u+"--layout-row",this.configs.direction===Xt.ROW).classed(he.prefix+"--"+u+"--layout-row-reverse",this.configs.direction===Xt.ROW_REVERSE).classed(he.prefix+"--"+u+"--layout-column",this.configs.direction===Xt.COLUMN).classed(he.prefix+"--"+u+"--layout-column-reverse",this.configs.direction===Xt.COLUMN_REVERSE).classed(he.prefix+"--"+u+"--layout-alignitems-center",this.configs.alignItems===qr.CENTER).selectAll("div.layout-child-"+this._instanceID).data(this.children,function(p){return p.id}),h=c.enter().append("div");h.merge(i.selectAll("div.layout-child-"+this._instanceID)).attr("class",function(p){return"layout-child layout-child-"+r._instanceID+" "+p.id}).each(function(p){var d=this;p.components.forEach(function(g){var v=H(d),b=_.getProperty(p,"renderType"),m=b===ht.SVG;g.setParent(m?U.appendOrSelect(v,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):v);var y=_.getProperty(p,"growth");(y===Et.PREFERRED||y===Et.FIXED)&&g.render(t)})}),i.selectAll("div.layout-child-"+this._instanceID).style("height",null).style("width",null).each(function(p){var d=_.getProperty(p,"growth"),g=_.getProperty(p,"renderType"),v=g===ht.SVG?U.getSVGElementSize(H(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):U.getHTMLElementSize(this);if(d===Et.PREFERRED){var b=l?v.width:v.height,m=l?o:s;p.size=b/m*100}}),c.exit().remove(),this.children.filter(function(p){var d=_.getProperty(p,"growth");return d===Et.STRETCH}).forEach(function(p,d){p.size=(100-+r.getPreferedAndFixedSizeSum())/+r.getNumOfStretchChildren()});var f=i.selectAll("div.layout-child-"+this._instanceID).data(this.children,function(p){return p.id});l?f.style("width",function(p){return p.size/100*o+"px"}).style("height","100%"):f.style("height",function(p){return p.size/100*s+"px"}).style("width","100%"),f.each(function(p,d){p.components.forEach(function(g){var v=_.getProperty(p,"growth");v===Et.STRETCH&&g.render(t)})})},n.prototype.setModel=function(t){e.prototype.setModel.call(this,t),this.children.forEach(function(r){r.components.forEach(function(i){return i.setModel(t)})})},n.prototype.setServices=function(t){e.prototype.setServices.call(this,t),this.children.forEach(function(r){r.components.forEach(function(i){return i.setServices(t)})})},n.prototype.destroy=function(){this.children.forEach(function(t){t.components.forEach(function(r){return r.destroy()})})},n.instanceID=Math.floor(Math.random()*99999999999),n}(Ct),zN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lv=function(e){zN(n,e);function n(t,r,i){var a,o=e.call(this,t,r,i)||this;return o.type="axes",o.renderType=ht.SVG,o.truncation=(a={},a[K.LEFT]=!1,a[K.RIGHT]=!1,a[K.TOP]=!1,a[K.BOTTOM]=!1,a),i&&(o.configs=i),o.margins=o.configs.margins,o}return n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this.configs.position,a=this.getOptions(),o=_.getProperty(a,"axes",i,"visible"),s=this.getComponentContainer(),l=U.getSVGElementSize(s,{useAttrs:!0}),u=l.width,c=l.height,h=U.appendOrSelect(s,"g.axis."+i),f,p;i===K.BOTTOM||i===K.TOP?(f=this.configs.axes[K.LEFT]?this.margins.left:0,p=this.configs.axes[K.RIGHT]?u-this.margins.right:u):(f=c-this.margins.bottom,p=this.margins.top);var d=this.services.cartesianScales.getScaleByPosition(i);this.scaleType===st.LABELS||this.scaleType===st.LABELS_RATIO?d.rangeRound([f,p]):d.range([f,p]);var g;switch(i){case K.LEFT:g=fv;break;case K.BOTTOM:g=Bc;break;case K.RIGHT:g=dP;break;case K.TOP:g=hP;break}h.attr("aria-label",i+" axis");var v=!h.select("g.ticks").empty(),b=U.appendOrSelect(h,"g.ticks");v||(b.attr("role",_t.GRAPHICS_OBJECT+" "+_t.GROUP),b.attr("aria-label",i+" ticks"));var m=U.appendOrSelect(h,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label","invisible "+i+" ticks"),y=_.getProperty(a,"axes",i),w=this.scaleType===st.TIME||y.scaleType===st.TIME,O=i===K.LEFT||i===K.RIGHT,x=this.model.get("zoomDomain");if(x&&w&&!O&&d.domain(x),!o){b.attr("aria-hidden",!0);return}var M=_.getProperty(y,"scaleType"),S=_.getProperty(a,"data","loading"),A=_.getProperty(y,"ticks","number"),k=_.getProperty(y,"ticks","values"),E=_.getProperty(y,"truncation","type"),P=_.getProperty(y,"truncation","threshold"),B=_.getProperty(y,"truncation","numCharacter"),N=A!==null,R=_.getProperty(a,"timeScale"),I=U.appendOrSelect(m,"g.tick"),F=U.appendOrSelect(I,"text").text("0"),G=U.getSVGElementSize(F.node(),{useBBox:!0}).height;I.remove();var L=this.scaleType||y.scaleType||st.LINEAR,z=g(d).tickSizeOuter(0);if(d.ticks){var $=void 0;if(N?$=A:($=Cn.ticks.number,O&&($=this.getNumberOfFittingTicks(c,G,Cn.ticks.verticalSpaceRatio))),d.ticks().length===1&&d.ticks()[0]===0&&($=0),z.ticks($),w)if(!d.ticks($).length)z.tickValues([]);else{var W=_.getProperty(a,"timeScale","addSpaceOnEdges"),et=_.getProperty(a,"axes",i,"domain"),ut=void 0,nt=d.copy();W&&!et&&nt.nice($),ut=nt.ticks($),W&&ut.length>2&&!et&&(ut.splice(ut.length-1,1),ut.splice(0,1)),z.tickValues(ut)}}var ot,it=_.getProperty(y,"ticks","formatter");if(w){var Z=Iu(z.tickValues());it===null?ot=function(xt,ce){return Ru(xt,ce,z.tickValues(),Z,R)}:ot=function(xt,ce){var jt=Ru(xt,ce,z.tickValues(),Z,R);return it(xt,ce,jt)}}else it===null?L===st.LINEAR&&(ot=function(xt){return xt.toLocaleString()}):ot=it;z.tickFormat(ot);var tt=this.services.cartesianScales.getScaleByPosition(i).domain(),at=tt[0],pt=tt[1],X;if(k){if(w)k.forEach(function(xt,ce){xt.getTime===void 0&&(k[ce]=new Date(xt))}),X=k.filter(function(xt){var ce=xt.getTime();return ce>=new Date(at).getTime()&&ce<=new Date(pt).getTime()});else if(M===st.LABELS){var Tt=this.services.cartesianScales.getScaleByPosition(i).domain();X=k.filter(function(xt){return Tt.includes(xt)})}else X=k.filter(function(xt){return xt>=at&&xt<=pt});z.tickValues(X)}switch(i){case K.LEFT:b.attr("transform","translate("+this.margins.left+", 0)");break;case K.BOTTOM:b.attr("transform","translate(0, "+(c-this.margins.bottom)+")");break;case K.RIGHT:b.attr("transform","translate("+(u-this.margins.right)+", 0)");break;case K.TOP:b.attr("transform","translate(0, "+this.margins.top+")");break}var gt=this.model.isDataEmpty();if(y.title){var q=U.appendOrSelect(h,"text.axis-title").html(gt||S?"":y.title),Q=_.getProperty(y,"titleOrientation");switch(i){case K.LEFT:Q===co.RIGHT?q.attr("transform","rotate(90)").attr("y",0).attr("x",d.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):q.attr("transform","rotate(-90)").attr("y",0).attr("x",-(d.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case K.BOTTOM:q.attr("transform","translate("+(this.margins.left/2+d.range()[1]/2)+", "+(c+4)+")").style("text-anchor","middle");break;case K.RIGHT:Q===co.LEFT?q.attr("transform","rotate(-90)").attr("y",u).attr("x",-(d.range()[0]/2)).style("text-anchor","middle"):q.attr("transform","rotate(90)").attr("y",-u).attr("x",d.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case K.TOP:var j=U.getSVGElementSize(q,{useBBox:!0}).height;q.attr("transform","translate("+(this.margins.left/2+d.range()[1]/2)+", "+j/2+")").style("text-anchor","middle");break}}if(w){var St=Iu(z.tickValues()),Tn=R.showDayName,Ve=b;t&&(b=b.transition().call(function(xt){return r.services.transitions.setupTransition({transition:xt,name:"axis-update",animate:t})})),b=b.call(z);var ga=Ve.selectAll(".tick").data(z.tickValues(),d).order().select("text");ga.style("font-weight",function(xt,ce){return pv(xt,ce,z.tickValues(),St,Tn)?"bold":"normal"})}else!t||!v?b=b.call(z):b=b.transition().call(function(xt){return r.services.transitions.setupTransition({transition:xt,name:"axis-update",animate:t})}).call(z);if(m.call(z),i===K.BOTTOM||i===K.TOP){var nn=!1,Xn=_.getProperty(y,"ticks","rotation");if(Xn===Ri.ALWAYS)nn=!0;else if(Xn===Ri.NEVER)nn=!1;else if(!Xn||Xn===Ri.AUTO)if(d.step){var Er=m.selectAll("g.tick text").nodes();nn=Er.some(function(xt){return U.getSVGElementSize(xt,{useBBox:!0}).width>=d.step()})}else{nn=!1;var ds=m.append("text").text("A"),va=U.getSVGElementSize(ds.node(),{useBBox:!0}).width,ma;m.selectAll("g.tick").each(function(){var xt=H(this),ce=parseFloat(_.getProperty(_.getTranslationValues(this),"tx"));ce!==null&&ma+xt.text().length*va*.8>=ce&&(nn=!0),ma=ce})}nn?(N||(z.ticks(this.getNumberOfFittingTicks(u,G,Cn.ticks.horizontalSpaceRatio)),m.call(z),b.call(z)),h.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").style("text-anchor",i===K.TOP?"start":"end")):h.selectAll("g.ticks g.tick text").attr("transform",null).style("text-anchor",null)}if(S?h.attr("opacity",0):h.attr("opacity",1),b.selectAll("g.tick").attr("aria-label",function(xt){return xt}),m.selectAll("g.tick").attr("aria-label",function(xt){return xt}),E!==Pn.NONE&&M===st.LABELS&&!k){var Zn=this.services.cartesianScales.getScaleDomain(i);if(Zn.length>0){var ps=s.select("g.axis."+i+" g.ticks g.tick").html();h.selectAll("g.ticks g.tick").html(ps);var gs=this;h.selectAll("g.tick text").data(Zn).text(function(xt){return xt.length>P?(gs.truncation[i]=!0,_.truncateLabel(xt,E,B)):xt}),this.getInvisibleAxisRef().selectAll("g.tick text").data(Zn).text(function(xt){return xt.length>P?_.truncateLabel(xt,E,B):xt}),h.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),h.selectAll("g.tick text").data(Zn)}}this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(t,"g.axis."+r),a=this.getOptions(),o=_.getProperty(a,"axes",r),s=_.getProperty(o,"scaleType"),l=_.getProperty(o,"truncation","threshold"),u=this;i.selectAll("g.tick text").on("mouseover",function(c,h){u.services.events.dispatchEvent(C.Axis.LABEL_MOUSEOVER,{event:c,element:H(this),datum:h}),s===st.LABELS&&h.length>l&&u.services.events.dispatchEvent(C.Tooltip.SHOW,{event:c,hoveredElement:H(this),content:h})}).on("mousemove",function(c,h){u.services.events.dispatchEvent(C.Axis.LABEL_MOUSEMOVE,{event:c,element:H(this),datum:h}),s===st.LABELS&&h.length>l&&u.services.events.dispatchEvent(C.Tooltip.MOVE,{event:c})}).on("click",function(c,h){u.services.events.dispatchEvent(C.Axis.LABEL_CLICK,{event:c,element:H(this),datum:h})}).on("mouseout",function(c,h){u.services.events.dispatchEvent(C.Axis.LABEL_MOUSEOUT,{event:c,element:H(this),datum:h}),s===st.LABELS&&u.services.events.dispatchEvent(C.Tooltip.HIDE)})},n.prototype.getInvisibleAxisRef=function(){var t=this.configs.position;return this.getComponentContainer().select("g.axis."+t+" g.ticks.invisible")},n.prototype.getTitleRef=function(){var t=this.configs.position;return this.getComponentContainer().select("g.axis."+t+" text.axis-title")},n.prototype.getNumberOfFittingTicks=function(t,r,i){var a=Math.floor(t/(r*i));return _.clamp(a,2,Cn.ticks.number)},n.prototype.destroy=function(){var t=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(t,"g.axis."+r);i.selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)},n}(Ct),jN=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),No=globalThis&&globalThis.__assign||function(){return No=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},No.apply(this,arguments)},WN=function(e){jN(n,e);function n(t,r,i){return e.call(this,t,r,i)||this}return n.prototype.render=function(t){t===void 0&&(t=!0),e.prototype.render.call(this,t),e.prototype.destroy.call(this);var r=this.configs.position,i=this.getComponentContainer(),a=U.appendOrSelect(i,"g.axis."+r),o=this;a.selectAll("g.tick").each(function(s,l){var u=H(this);u.classed("tick-hover",!0).attr("tabindex",l===0?0:-1);var c=u.select("text"),h=U.getSVGElementSize(c,{useBBox:!0}),f=h.width,p=h.height,d=U.appendOrSelect(u,"rect.axis-holder"),g=0,v=0;switch(r){case K.LEFT:g=-f+Number(c.attr("x")),v=-(p/2);break;case K.RIGHT:g=Math.abs(Number(c.attr("x"))),v=-(p/2);break;case K.TOP:g=-(f/2),v=-p+Number(c.attr("y"))/2,o.truncation[r]&&(g=0,d.attr("transform","rotate(-45)"));break;case K.BOTTOM:g=-(f/2),v=p/2-2,o.truncation[r]&&(g=-f,d.attr("transform","rotate(-45)"));break}d.attr("x",g-Cn.hover.rectanglePadding).attr("y",v).attr("width",f+Cn.hover.rectanglePadding*2).attr("height",p).lower(),u.on("keydown",function(b){r===K.LEFT||r===K.RIGHT?b.key&&b.key==="ArrowUp"?o.goNext(this,b):b.key&&b.key==="ArrowDown"&&o.goPrevious(this,b):b.key&&b.key==="ArrowLeft"?o.goPrevious(this,b):b.key&&b.key==="ArrowRight"&&o.goNext(this,b)})}),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(t,"g.axis."+r),a=this.getOptions(),o=_.getProperty(a,"axes",r),s=_.getProperty(o,"scaleType"),l=_.getProperty(o,"truncation","threshold"),u=this;i.selectAll("g.tick.tick-hover").on("mouseover",function(c){var h=H(this).select("text"),f=h.datum();u.services.events.dispatchEvent(C.Axis.LABEL_MOUSEOVER,{event:c,element:h,datum:f}),s===st.LABELS&&f.length>l&&u.services.events.dispatchEvent(C.Tooltip.SHOW,{event:c,element:h,datum:f})}).on("mousemove",function(c){var h=H(this).select("text"),f=h.datum();u.services.events.dispatchEvent(C.Axis.LABEL_MOUSEMOVE,{event:c,element:h,datum:f}),u.services.events.dispatchEvent(C.Tooltip.MOVE,{event:c})}).on("click",function(c){u.services.events.dispatchEvent(C.Axis.LABEL_CLICK,{event:c,element:H(this).select("text"),datum:H(this).select("text").datum()})}).on("mouseout",function(c){u.services.events.dispatchEvent(C.Axis.LABEL_MOUSEOUT,{event:c,element:H(this).select("text"),datum:H(this).select("text").datum()}),s===st.LABELS&&u.services.events.dispatchEvent(C.Tooltip.HIDE)}).on("focus",function(c){var h={clientX:0,clientY:0};if(c.target){c.target.focus();var f=c.target.getBoundingClientRect();h.clientX=f.x,h.clientY=f.y}u.services.events.dispatchEvent(C.Axis.LABEL_FOCUS,{event:No(No({},c),h),element:H(this),datum:H(this).select("text").datum()})}).on("blur",function(c){u.services.events.dispatchEvent(C.Axis.LABEL_BLUR,{event:c,element:H(this),datum:H(this).select("text").datum()})})},n.prototype.goNext=function(t,r){t.nextElementSibling&&t.nextElementSibling.tagName!=="path"&&t.nextElementSibling.dispatchEvent(new Event("focus")),r.preventDefault()},n.prototype.goPrevious=function(t,r){t.previousElementSibling&&t.previousElementSibling.tagName!=="path"&&t.previousElementSibling.dispatchEvent(new Event("focus")),r.preventDefault()},n.prototype.destroy=function(){var t=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(t,"g.axis."+r);i.selectAll("g.tick.tick-hover").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("focus",null).on("blur",null)},n}(Lv),$N=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),De=function(e){$N(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="2D-axes",t.renderType=ht.SVG,t.children={},t.thresholds=[],t.margins={top:0,right:0,bottom:0,left:0},t}return n.prototype.render=function(t){var r=this;t===void 0&&(t=!1);var i={},a=Object.keys(K),o=_.getProperty(this.getOptions(),"axes");a.forEach(function(u){var c=o[K[u]];c&&(i[K[u]]=!0)}),this.configs.axes=i,a.forEach(function(u){var c=K[u];if(r.configs.axes[c]&&!r.children[c]){var h={position:c,axes:r.configs.axes,margins:r.margins},f=r.model.axisFlavor===Vi.DEFAULT?new Lv(r.model,r.services,h):new WN(r.model,r.services,h);f.setModel(r.model),f.setServices(r.services),f.setParent(r.parent),r.children[c]=f}}),Object.keys(this.children).forEach(function(u){var c=r.children[u];c.render(t)});var s={};Object.keys(this.children).forEach(function(u){var c=r.children[u],h=c.configs.position,f=c.getInvisibleAxisRef(),p=U.getSVGElementSize(f,{useBBox:!0}),d=p.width,g=p.height,v;switch(c.getTitleRef().empty()?v=0:(v=U.getSVGElementSize(c.getTitleRef(),{useBBox:!0}).height,(h===K.LEFT||h===K.RIGHT)&&(v+=5)),h){case K.TOP:s.top=g+v;break;case K.BOTTOM:s.bottom=g+v;break;case K.LEFT:s.left=d+v;break;case K.RIGHT:s.right=d+v;break}}),this.services.events.dispatchEvent(C.Axis.RENDER_COMPLETE);var l=Object.keys(s).some(function(u){return r.margins[u]!==s[u]});l&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(C.ZoomBar.UPDATE),Object.keys(this.children).forEach(function(u){var c=r.children[u];c.margins=r.margins}),this.render(!0))},n}(Ct),YN={value:()=>{}};function Hc(){for(var e=0,n=arguments.length,t={},r;e<n;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new eo(t)}function eo(e){this._=e}function qN(e,n){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}eo.prototype=Hc.prototype={constructor:eo,on:function(e,n){var t=this._,r=qN(e+"",t),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=XN(t[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(e=r[a]).type)t[i]=cd(t[i],e.name,n);else if(n==null)for(i in t)t[i]=cd(t[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new eo(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,a;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(n,t)}};function XN(e,n){for(var t=0,r=e.length,i;t<r;++t)if((i=e[t]).name===n)return i.value}function cd(e,n,t){for(var r=0,i=e.length;r<i;++r)if(e[r].name===n){e[r]=YN,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:n,value:t}),e}const Uu={capture:!0,passive:!1};function Hu(e){e.preventDefault(),e.stopImmediatePropagation()}function ZN(e){var n=e.document.documentElement,t=H(e).on("dragstart.drag",Hu,Uu);"onselectstart"in n?t.on("selectstart.drag",Hu,Uu):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function KN(e,n){var t=e.document.documentElement,r=H(e).on("dragstart.drag",null);n&&(r.on("click.drag",Hu,Uu),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var oi=0,Ci=0,bi=0,kv=1e3,Bo,Ai,Fo=0,mr=0,fs=0,ea=typeof performance=="object"&&performance.now?performance:Date,Rv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vc(){return mr||(Rv(QN),mr=ea.now()+fs)}function QN(){mr=0}function Uo(){this._call=this._time=this._next=null}Uo.prototype=Iv.prototype={constructor:Uo,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Vc():+t)+(n==null?0:+n),!this._next&&Ai!==this&&(Ai?Ai._next=this:Bo=this,Ai=this),this._call=e,this._time=t,Vu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vu())}};function Iv(e,n,t){var r=new Uo;return r.restart(e,n,t),r}function JN(){Vc(),++oi;for(var e=Bo,n;e;)(n=mr-e._time)>=0&&e._call.call(void 0,n),e=e._next;--oi}function fd(){mr=(Fo=ea.now())+fs,oi=Ci=0;try{JN()}finally{oi=0,eB(),mr=0}}function tB(){var e=ea.now(),n=e-Fo;n>kv&&(fs-=n,Fo=e)}function eB(){for(var e,n=Bo,t,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Bo=t);Ai=e,Vu(r)}function Vu(e){if(!oi){Ci&&(Ci=clearTimeout(Ci));var n=e-mr;n>24?(e<1/0&&(Ci=setTimeout(fd,e-ea.now()-fs)),bi&&(bi=clearInterval(bi))):(bi||(Fo=ea.now(),bi=setInterval(tB,kv)),oi=1,Rv(fd))}}function hd(e,n,t){var r=new Uo;return n=n==null?0:+n,r.restart(i=>{r.stop(),e(i+n)},n,t),r}var nB=Hc("start","end","cancel","interrupt"),rB=[],Nv=0,dd=1,Gu=2,no=3,pd=4,zu=5,ro=6;function hs(e,n,t,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(t in o)return;iB(e,t,{name:n,index:r,group:i,on:nB,tween:rB,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Nv})}function Gc(e,n){var t=en(e,n);if(t.state>Nv)throw new Error("too late; already scheduled");return t}function On(e,n){var t=en(e,n);if(t.state>no)throw new Error("too late; already running");return t}function en(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function iB(e,n,t){var r=e.__transition,i;r[n]=t,t.timer=Iv(a,0,t.time);function a(u){t.state=dd,t.timer.restart(o,t.delay,t.time),t.delay<=u&&o(u-t.delay)}function o(u){var c,h,f,p;if(t.state!==dd)return l();for(c in r)if(p=r[c],p.name===t.name){if(p.state===no)return hd(o);p.state===pd?(p.state=ro,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=ro,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(hd(function(){t.state===no&&(t.state=pd,t.timer.restart(s,t.delay,t.time),s(u))}),t.state=Gu,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Gu){for(t.state=no,i=new Array(f=t.tween.length),c=0,h=-1;c<f;++c)(p=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(i[++h]=p);i.length=h+1}}function s(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=zu,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);t.state===zu&&(t.on.call("end",e,e.__data__,t.index,t.group),l())}function l(){t.state=ro,t.timer.stop(),delete r[n];for(var u in r)return;delete e.__transition}}function ju(e,n){var t=e.__transition,r,i,a=!0,o;if(!!t){n=n==null?null:n+"";for(o in t){if((r=t[o]).name!==n){a=!1;continue}i=r.state>Gu&&r.state<zu,r.state=ro,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[o]}a&&delete e.__transition}}function aB(e){return this.each(function(){ju(this,e)})}function oB(e,n){var t,r;return function(){var i=On(this,e),a=i.tween;if(a!==t){r=t=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function sB(e,n,t){var r,i;if(typeof t!="function")throw new Error;return function(){var a=On(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:t},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function lB(e,n){var t=this._id;if(e+="",arguments.length<2){for(var r=en(this.node(),t).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((n==null?oB:sB)(t,e,n))}function zc(e,n,t){var r=e._id;return e.each(function(){var i=On(this,r);(i.value||(i.value={}))[n]=t.apply(this,arguments)}),function(i){return en(i,r).value[n]}}function Bv(e,n){var t;return(typeof n=="number"?Ne:n instanceof Ln?yo:(t=Ln(n))?(n=t,yo):pg)(e,n)}function uB(e){return function(){this.removeAttribute(e)}}function cB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fB(e,n,t){var r,i=t+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=n(r=o,t)}}function hB(e,n,t){var r,i=t+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=n(r=o,t)}}function dB(e,n,t){var r,i,a;return function(){var o,s=t(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function pB(e,n,t){var r,i,a;return function(){var o,s=t(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function gB(e,n){var t=Qo(e),r=t==="transform"?xS:Bv;return this.attrTween(e,typeof n=="function"?(t.local?pB:dB)(t,r,zc(this,"attr."+e,n)):n==null?(t.local?cB:uB)(t):(t.local?hB:fB)(t,r,n))}function vB(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function mB(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function yB(e,n){var t,r;function i(){var a=n.apply(this,arguments);return a!==r&&(t=(r=a)&&mB(e,a)),t}return i._value=n,i}function _B(e,n){var t,r;function i(){var a=n.apply(this,arguments);return a!==r&&(t=(r=a)&&vB(e,a)),t}return i._value=n,i}function bB(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var r=Qo(e);return this.tween(t,(r.local?yB:_B)(r,n))}function xB(e,n){return function(){Gc(this,e).delay=+n.apply(this,arguments)}}function OB(e,n){return n=+n,function(){Gc(this,e).delay=n}}function wB(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?xB:OB)(n,e)):en(this.node(),n).delay}function TB(e,n){return function(){On(this,e).duration=+n.apply(this,arguments)}}function EB(e,n){return n=+n,function(){On(this,e).duration=n}}function SB(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?TB:EB)(n,e)):en(this.node(),n).duration}function MB(e,n){if(typeof n!="function")throw new Error;return function(){On(this,e).ease=n}}function CB(e){var n=this._id;return arguments.length?this.each(MB(n,e)):en(this.node(),n).ease}function AB(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;On(this,e).ease=t}}function DB(e){if(typeof e!="function")throw new Error;return this.each(AB(this._id,e))}function PB(e){typeof e!="function"&&(e=Wp(e));for(var n=this._groups,t=n.length,r=new Array(t),i=0;i<t;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new kn(r,this._parents,this._name,this._id)}function LB(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,r=n.length,i=t.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=n[s],u=t[s],c=l.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;s<r;++s)o[s]=n[s];return new kn(o,this._parents,this._name,this._id)}function kB(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}function RB(e,n,t){var r,i,a=kB(n)?Gc:On;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(n,t),o.on=i}}function IB(e,n){var t=this._id;return arguments.length<2?en(this.node(),t).on.on(e):this.each(RB(t,e,n))}function NB(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}function BB(){return this.on("end.remove",NB(this._id))}function FB(e){var n=this._name,t=this._id;typeof e!="function"&&(e=uc(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,hs(u[f],n,t,f,u,en(c,t)));return new kn(a,this._parents,n,t)}function UB(e){var n=this._name,t=this._id;typeof e!="function"&&(e=jp(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=e.call(c,c.__data__,h,l),p,d=en(c,t),g=0,v=f.length;g<v;++g)(p=f[g])&&hs(p,n,t,g,f,d);a.push(f),o.push(c)}return new kn(a,o,n,t)}var HB=sa.prototype.constructor;function VB(){return new HB(this._groups,this._parents)}function GB(e,n){var t,r,i;return function(){var a=Jr(this,e),o=(this.style.removeProperty(e),Jr(this,e));return a===o?null:a===t&&o===r?i:i=n(t=a,r=o)}}function Fv(e){return function(){this.style.removeProperty(e)}}function zB(e,n,t){var r,i=t+"",a;return function(){var o=Jr(this,e);return o===i?null:o===r?a:a=n(r=o,t)}}function jB(e,n,t){var r,i,a;return function(){var o=Jr(this,e),s=t(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Jr(this,e))),o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s))}}function WB(e,n){var t,r,i,a="style."+n,o="end."+a,s;return function(){var l=On(this,e),u=l.on,c=l.value[a]==null?s||(s=Fv(n)):void 0;(u!==t||i!==c)&&(r=(t=u).copy()).on(o,i=c),l.on=r}}function $B(e,n,t){var r=(e+="")=="transform"?bS:Bv;return n==null?this.styleTween(e,GB(e,r)).on("end.style."+e,Fv(e)):typeof n=="function"?this.styleTween(e,jB(e,r,zc(this,"style."+e,n))).each(WB(this._id,e)):this.styleTween(e,zB(e,r,n),t).on("end.style."+e,null)}function YB(e,n,t){return function(r){this.style.setProperty(e,n.call(this,r),t)}}function qB(e,n,t){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&YB(e,o,t)),r}return a._value=n,a}function XB(e,n,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,qB(e,n,t==null?"":t))}function ZB(e){return function(){this.textContent=e}}function KB(e){return function(){var n=e(this);this.textContent=n==null?"":n}}function QB(e){return this.tween("text",typeof e=="function"?KB(zc(this,"text",e)):ZB(e==null?"":e+""))}function JB(e){return function(n){this.textContent=e.call(this,n)}}function t3(e){var n,t;function r(){var i=e.apply(this,arguments);return i!==t&&(n=(t=i)&&JB(i)),n}return r._value=e,r}function e3(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,t3(e))}function n3(){for(var e=this._name,n=this._id,t=Uv(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=en(l,n);hs(l,e,t,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new kn(r,this._parents,e,t)}function r3(){var e,n,t=this,r=t._id,i=t.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};t.each(function(){var u=On(this,r),c=u.on;c!==e&&(n=(e=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),i===0&&a()})}var i3=0;function kn(e,n,t,r){this._groups=e,this._parents=n,this._name=t,this._id=r}function Uv(){return++i3}var En=sa.prototype;kn.prototype={constructor:kn,select:FB,selectAll:UB,selectChild:En.selectChild,selectChildren:En.selectChildren,filter:PB,merge:LB,selection:VB,transition:n3,call:En.call,nodes:En.nodes,node:En.node,size:En.size,empty:En.empty,each:En.each,on:IB,attr:gB,attrTween:bB,style:$B,styleTween:XB,text:QB,textTween:e3,remove:BB,tween:lB,delay:wB,duration:SB,ease:CB,easeVarying:DB,end:r3,[Symbol.iterator]:En[Symbol.iterator]};var a3={time:null,delay:0,duration:250,ease:Bd};function o3(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function s3(e){var n,t;e instanceof kn?(n=e._id,e=e._name):(n=Uv(),(t=a3).time=Vc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&hs(l,e,n,u,o,t||o3(l,n));return new kn(r,this._parents,e,n)}sa.prototype.interrupt=aB;sa.prototype.transition=s3;var Zs=e=>()=>e;function l3(e,{sourceEvent:n,target:t,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function u3(e){e.stopImmediatePropagation()}function Ks(e){e.preventDefault(),e.stopImmediatePropagation()}var gd={name:"drag"},Qs={name:"space"},Ar={name:"handle"},Dr={name:"center"};const{abs:vd,max:me,min:ye}=Math;function md(e){return[+e[0],+e[1]]}function yd(e){return[md(e[0]),md(e[1])]}var io={name:"x",handles:["w","e"].map(Ho),input:function(e,n){return e==null?null:[[+e[0],n[0][1]],[+e[1],n[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Js={name:"y",handles:["n","s"].map(Ho),input:function(e,n){return e==null?null:[[n[0][0],+e[0]],[n[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Sn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_d={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},c3={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},f3={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ho(e){return{type:e}}function h3(e){return!e.ctrlKey&&!e.button}function d3(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function p3(){return navigator.maxTouchPoints||"ontouchstart"in this}function tl(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function g3(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Hv(){return v3(io)}function v3(e){var n=d3,t=h3,r=p3,i=!0,a=Hc("start","brush","end"),o=6,s;function l(v){var b=v.property("__brush",g).selectAll(".overlay").data([Ho("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Sn.overlay).merge(b).each(function(){var y=tl(this).extent;H(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),v.selectAll(".selection").data([Ho("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Sn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var m=v.selectAll(".handle").data(e.handles,function(y){return y.type});m.exit().remove(),m.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return Sn[y.type]}),v.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(v,b,m){v.tween?v.on("start.brush",function(y){c(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){c(this,arguments).end(y)}).tween("brush",function(){var y=this,w=y.__brush,O=c(y,arguments),x=w.selection,M=e.input(typeof b=="function"?b.apply(this,arguments):b,w.extent),S=ha(x,M);function A(k){w.selection=k===1&&M===null?null:S(k),u.call(y),O.brush()}return x!==null&&M!==null?A:A(1)}):v.each(function(){var y=this,w=arguments,O=y.__brush,x=e.input(typeof b=="function"?b.apply(y,w):b,O.extent),M=c(y,w).beforestart();ju(y),O.selection=x===null?null:x,u.call(y),M.start(m).brush(m).end(m)})},l.clear=function(v,b){l.move(v,null,b)};function u(){var v=H(this),b=tl(this).selection;b?(v.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),v.selectAll(".handle").style("display",null).attr("x",function(m){return m.type[m.type.length-1]==="e"?b[1][0]-o/2:b[0][0]-o/2}).attr("y",function(m){return m.type[0]==="s"?b[1][1]-o/2:b[0][1]-o/2}).attr("width",function(m){return m.type==="n"||m.type==="s"?b[1][0]-b[0][0]+o:o}).attr("height",function(m){return m.type==="e"||m.type==="w"?b[1][1]-b[0][1]+o:o})):v.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(v,b,m){var y=v.__brush.emitter;return y&&(!m||!y.clean)?y:new h(v,b,m)}function h(v,b,m){this.that=v,this.args=b,this.state=v.__brush,this.active=0,this.clean=m}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(v,b){return this.starting?(this.starting=!1,this.emit("start",v,b)):this.emit("brush",v),this},brush:function(v,b){return this.emit("brush",v,b),this},end:function(v,b){return--this.active===0&&(delete this.state.emitter,this.emit("end",v,b)),this},emit:function(v,b,m){var y=H(this.that).datum();a.call(v,this.that,new l3(v,{sourceEvent:b,target:l,selection:e.output(this.state.selection),mode:m,dispatch:a}),y)}};function f(v){if(s&&!v.touches||!t.apply(this,arguments))return;var b=this,m=v.target.__data__.type,y=(i&&v.metaKey?m="overlay":m)==="selection"?gd:i&&v.altKey?Dr:Ar,w=e===Js?null:c3[m],O=e===io?null:f3[m],x=tl(b),M=x.extent,S=x.selection,A=M[0][0],k,E,P=M[0][1],B,N,R=M[1][0],I,F,G=M[1][1],L,z,$=0,W=0,et,ut=w&&O&&i&&v.shiftKey,nt,ot,it=Array.from(v.touches||[v],j=>{const St=j.identifier;return j=fr(j,b),j.point0=j.slice(),j.identifier=St,j});ju(b);var Z=c(b,arguments,!0).beforestart();if(m==="overlay"){S&&(et=!0);const j=[it[0],it[1]||it[0]];x.selection=S=[[k=e===Js?A:ye(j[0][0],j[1][0]),B=e===io?P:ye(j[0][1],j[1][1])],[I=e===Js?R:me(j[0][0],j[1][0]),L=e===io?G:me(j[0][1],j[1][1])]],it.length>1&&Tt(v)}else k=S[0][0],B=S[0][1],I=S[1][0],L=S[1][1];E=k,N=B,F=I,z=L;var tt=H(b).attr("pointer-events","none"),at=tt.selectAll(".overlay").attr("cursor",Sn[m]);if(v.touches)Z.moved=X,Z.ended=gt;else{var pt=H(v.view).on("mousemove.brush",X,!0).on("mouseup.brush",gt,!0);i&&pt.on("keydown.brush",q,!0).on("keyup.brush",Q,!0),ZN(v.view)}u.call(b),Z.start(v,y.name);function X(j){for(const St of j.changedTouches||[j])for(const Tn of it)Tn.identifier===St.identifier&&(Tn.cur=fr(St,b));if(ut&&!nt&&!ot&&it.length===1){const St=it[0];vd(St.cur[0]-St[0])>vd(St.cur[1]-St[1])?ot=!0:nt=!0}for(const St of it)St.cur&&(St[0]=St.cur[0],St[1]=St.cur[1]);et=!0,Ks(j),Tt(j)}function Tt(j){const St=it[0],Tn=St.point0;var Ve;switch($=St[0]-Tn[0],W=St[1]-Tn[1],y){case Qs:case gd:{w&&($=me(A-k,ye(R-I,$)),E=k+$,F=I+$),O&&(W=me(P-B,ye(G-L,W)),N=B+W,z=L+W);break}case Ar:{it[1]?(w&&(E=me(A,ye(R,it[0][0])),F=me(A,ye(R,it[1][0])),w=1),O&&(N=me(P,ye(G,it[0][1])),z=me(P,ye(G,it[1][1])),O=1)):(w<0?($=me(A-k,ye(R-k,$)),E=k+$,F=I):w>0&&($=me(A-I,ye(R-I,$)),E=k,F=I+$),O<0?(W=me(P-B,ye(G-B,W)),N=B+W,z=L):O>0&&(W=me(P-L,ye(G-L,W)),N=B,z=L+W));break}case Dr:{w&&(E=me(A,ye(R,k-$*w)),F=me(A,ye(R,I+$*w))),O&&(N=me(P,ye(G,B-W*O)),z=me(P,ye(G,L+W*O)));break}}F<E&&(w*=-1,Ve=k,k=I,I=Ve,Ve=E,E=F,F=Ve,m in _d&&at.attr("cursor",Sn[m=_d[m]])),z<N&&(O*=-1,Ve=B,B=L,L=Ve,Ve=N,N=z,z=Ve,m in bd&&at.attr("cursor",Sn[m=bd[m]])),x.selection&&(S=x.selection),nt&&(E=S[0][0],F=S[1][0]),ot&&(N=S[0][1],z=S[1][1]),(S[0][0]!==E||S[0][1]!==N||S[1][0]!==F||S[1][1]!==z)&&(x.selection=[[E,N],[F,z]],u.call(b),Z.brush(j,y.name))}function gt(j){if(u3(j),j.touches){if(j.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else KN(j.view,et),pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);tt.attr("pointer-events","all"),at.attr("cursor",Sn.overlay),x.selection&&(S=x.selection),g3(S)&&(x.selection=null,u.call(b)),Z.end(j,y.name)}function q(j){switch(j.keyCode){case 16:{ut=w&&O;break}case 18:{y===Ar&&(w&&(I=F-$*w,k=E+$*w),O&&(L=z-W*O,B=N+W*O),y=Dr,Tt(j));break}case 32:{(y===Ar||y===Dr)&&(w<0?I=F-$:w>0&&(k=E-$),O<0?L=z-W:O>0&&(B=N-W),y=Qs,at.attr("cursor",Sn.selection),Tt(j));break}default:return}Ks(j)}function Q(j){switch(j.keyCode){case 16:{ut&&(nt=ot=ut=!1,Tt(j));break}case 18:{y===Dr&&(w<0?I=F:w>0&&(k=E),O<0?L=z:O>0&&(B=N),y=Ar,Tt(j));break}case 32:{y===Qs&&(j.altKey?(w&&(I=F-$*w,k=E+$*w),O&&(L=z-W*O,B=N+W*O),y=Dr):(w<0?I=F:w>0&&(k=E),O<0?L=z:O>0&&(B=N),y=Ar),at.attr("cursor",Sn[m]),Tt(j));break}default:return}Ks(j)}}function p(v){c(this,arguments).moved(v)}function d(v){c(this,arguments).ended(v)}function g(){var v=this.__brush||{selection:null};return v.extent=yd(n.apply(this,arguments)),v.dim=e,v}return l.extent=function(v){return arguments.length?(n=typeof v=="function"?v:Zs(yd(v)),l):n},l.filter=function(v){return arguments.length?(t=typeof v=="function"?v:Zs(!!v),l):t},l.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Zs(!!v),l):r},l.handleSize=function(v){return arguments.length?(o=+v,l):o},l.keyModifiers=function(v){return arguments.length?(i=!!v,l):i},l.on=function(){var v=a.on.apply(a,arguments);return v===a?l:v},l}var m3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y3=function(e){m3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid-brush",t.renderType=ht.SVG,t.selectionSelector="rect.selection",t.frontSelectionSelector="rect.frontSelection",t}return n.prototype.render=function(t){var r=this,i=this.parent,a=this.getComponentContainer(),o=U.appendOrSelect(i,"svg.chart-grid-backdrop"),s=U.appendOrSelect(o,"g."+this.type),l=U.appendOrSelect(s,this.selectionSelector),u=U.getSVGElementSize(o,{useAttrs:!0}),c=u.width,h=u.height,f=this.services.cartesianScales,p=f.getMainXScaleType(),d=f.getMainXScale(),g=d.range(),v=g[0];g[1],a.attr("transform","translate("+v+",0)");var b=U.appendOrSelect(a,this.frontSelectionSelector);if(d&&p===st.TIME){var m=this.model.get("zoomDomain");m===void 0&&(m=this.services.zoom.getDefaultZoomBarDomain(),m&&this.model.set({zoomDomain:m},{animate:!1}));var y=function(A){for(var k=A[1]-A[0],E="0,"+k.toString(),P=Math.floor(h/n.DASH_LENGTH),B=P*n.DASH_LENGTH,N=0;N<P;N++)E+=","+n.DASH_LENGTH;E+=","+(h-B),P%2===1&&(E+=",0"),E+=","+k.toString(),E+=","+h.toString(),b.attr("stroke-dasharray",E)},w=function(A){var k=A.selection;k===null||k[0]===k[1]||(b.attr("x",parseFloat(l.attr("x"))+parseFloat(o.attr("x"))).attr("y",l.attr("y")).attr("width",l.attr("width")).attr("height",l.attr("height")).style("cursor","pointer").style("display",null),y(k))},O=function(A,k){var E=Ug().range([0,c]).domain(m),P=[E.invert(A),E.invert(k)];P[0].valueOf()===P[1].valueOf()&&(P=r.services.zoom.getDefaultZoomBarDomain()),(m[0].valueOf()!==P[0].valueOf()||m[1].valueOf()!==P[1].valueOf())&&r.services.zoom.handleDomainChange(P)},x=function(A){var k=A.selection;k!==null&&(O(k[0],k[1]),s.call(M.move,null),b.style("display","none"))},M=Hv().extent([[0,0],[c-1,h]]).on("start brush end",w).on("end.brushed",x);s.call(M);var S=this.services.zoom.getZoomRatio();o.on("click",function(A){if(A.shiftKey){var k=this.services.domUtils.getHolder(),E=fr(s.node(),k)[0],P=E-c*S/2;P<0&&(P=0);var B=E+c*S/2;B>c&&(B=c),O(P,B)}})}},n.DASH_LENGTH=4,n}(Ct),_3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),He=function(e){_3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid",t.renderType=ht.SVG,t}return n.prototype.render=function(t){t===void 0&&(t=!0);var r=_.getProperty(this.getOptions(),"grid","x","enabled"),i=_.getProperty(this.getOptions(),"grid","y","enabled");this.drawBackdrop(r,i),!(!r&&!i)&&(r&&(U.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(t)),i&&(U.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(t)))},n.prototype.drawXGrid=function(t){var r=this,i=this.parent,a=this.backdrop.attr("height"),o=this.services.cartesianScales.getMainXScale(),s=Bc(o).tickSizeInner(-a).tickSizeOuter(0),l=_.getProperty(this.getOptions(),"grid","x","alignWithAxisTicks");if(l){var u=this.services.cartesianScales.getDomainAxisPosition(),c=_.getProperty(this.getOptions(),"axes",u,"ticks","values");c&&s.tickValues(c)}else{var h=_.getProperty(this.getOptions(),"grid","x","numberOfTicks");s.ticks(h)}var f=i.select(".x.grid").attr("transform","translate("+-this.backdrop.attr("x")+", "+a+")");t?f.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"grid-update",animate:t})}).call(s):f.call(s),this.cleanGrid(f)},n.prototype.drawYGrid=function(t){var r=this,i=this.parent,a=this.backdrop.attr("width"),o=this.services.cartesianScales.getMainYScale(),s=fv(o).tickSizeInner(-a).tickSizeOuter(0),l=_.getProperty(this.getOptions(),"grid","y","alignWithAxisTicks");if(l){var u=this.services.cartesianScales.getRangeAxisPosition(),c=_.getProperty(this.getOptions(),"axes",u,"ticks","values");c&&s.tickValues(c)}else{var h=_.getProperty(this.getOptions(),"grid","y","numberOfTicks");s.ticks(h)}var f=i.select(".y.grid").attr("transform","translate(0, "+-this.backdrop.attr("y")+")");t?f.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"grid-update",animate:t})}).call(s):f.call(s),this.cleanGrid(f)},n.prototype.getGridlineThreshold=function(t){var r=this.parent,i=r.selectAll(".x.grid .tick").nodes().sort(function(p,d){return Number(_.getTranslationValues(p).tx)-Number(_.getTranslationValues(d).tx)}),a=-1,o;if(!!i.length){i.forEach(function(p,d){t[0]>=+_.getTranslationValues(p).tx&&a++}),o=a+1<i.length?a+1:i.length;var s=i[a],l=i[o],u;if(!s)u=+_.getTranslationValues(l).tx;else if(l)u=+_.getTranslationValues(l).tx-+_.getTranslationValues(s).tx;else{var c=r.select("rect.chart-grid-backdrop").node(),h=U.getSVGElementSize(c).width;u=h-+_.getTranslationValues(s).tx}var f=this.getOptions().tooltip.gridline.threshold;return u*f}},n.prototype.getActiveGridline=function(t){var r=_.getProperty(this.getOptions,"tooltip","gridline","threshold"),i=r||this.getGridlineThreshold(t),a=this.parent,o=a.selectAll(".x.grid .tick").filter(function(){var s=_.getTranslationValues(this),l={min:Number(s.tx)-i,max:Number(s.tx)+i};return l.min<=t[0]&&t[0]<=l.max});return o},n.prototype.drawBackdrop=function(t,r){var i=this.parent,a=this.services.cartesianScales.getMainXScale(),o=this.services.cartesianScales.getMainYScale(),s=a.range(),l=s[0],u=s[1],c=o.range(),h=c[0],f=c[1];this.backdrop=U.appendOrSelect(i,"svg.chart-grid-backdrop");var p=U.appendOrSelect(this.backdrop,t||r?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(p).attr("x",l).attr("y",f).attr("width",Math.abs(u-l)).attr("height",Math.abs(h-f)).lower(),p.attr("width","100%").attr("height","100%")},n.prototype.cleanGrid=function(t){t.selectAll("text").remove(),t.select(".domain").remove()},n}(Ct),b3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xd=5;function x3(e,n){return e>n-xd&&e<n+xd}var qn=function(e){b3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ruler",t.renderType=ht.SVG,t.isXGridEnabled=_.getProperty(t.getOptions(),"grid","x","enabled"),t.isYGridEnabled=_.getProperty(t.getOptions(),"grid","y","enabled"),t.isEventListenerAdded=!1,t}return n.prototype.render=function(){var t=_.getProperty(this.getOptions(),"ruler","enabled");this.drawBackdrop(),t&&!this.isEventListenerAdded?this.addBackdropEventListeners():!t&&this.isEventListenerAdded&&this.removeBackdropEventListeners()},n.prototype.removeBackdropEventListeners=function(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)},n.prototype.formatTooltipData=function(t){return t},n.prototype.showRuler=function(t,r){var i=this,a=r[0],o=r[1],s=this.parent,l=this.services.cartesianScales.getOrientation(),u=this.model.getDisplayData(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],p=h[1],d=l===ae.HORIZONTAL?o:a,g=U.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),v=U.appendOrSelect(g,"line.ruler-line"),b=s.selectAll("[role=graphics-symbol]"),m=u.map(function(S){return{domainValue:i.services.cartesianScales.getDomainValue(S),originalData:S}}).filter(function(S){return x3(S.domainValue,d)});if(this.pointsWithinLine&&m.length===this.pointsWithinLine.length&&m.map(function(S){return S.domainValue}).join()===this.pointsWithinLine.map(function(S){return S.domainValue}).join())return this.pointsWithinLine=m,this.services.events.dispatchEvent(C.Tooltip.MOVE,{mousePosition:[a,o]});this.pointsWithinLine=m;var y=this.pointsWithinLine.reduce(function(S,A){if(S.length===0)return S.push(A),S;var k=S[0].domainValue,E=Math.abs(d-A.domainValue),P=Math.abs(d-k);return E>P||(E<P?S=[A]:S.push(A)),S},[]);if(y.length>0){var w=y.map(function(S){return S.originalData}).filter(function(S){var A=i.services.cartesianScales.getRangeIdentifier(S),k=S[A];return k!=null}),O=y.map(function(S){return S.domainValue}),x=b.filter(function(S){var A=i.services.cartesianScales.getDomainValue(S);return O.includes(A)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!_.isEqual(this.elementsToHighlight,x)&&this.hideRuler(),x.dispatch("mouseover"),this.elementsToHighlight=x,this.services.events.dispatchEvent(C.Tooltip.SHOW,{mousePosition:[a,o],hoveredElement:v,data:this.formatTooltipData(w)}),g.attr("opacity",1);var M=y[0];l==="horizontal"?v.attr("x1",p).attr("x2",f).attr("y1",M.domainValue).attr("y2",M.domainValue):v.attr("y1",p).attr("y2",f).attr("x1",M.domainValue).attr("x2",M.domainValue)}else this.hideRuler()},n.prototype.hideRuler=function(){var t=this.parent,r=U.appendOrSelect(t,"g.ruler"),i=t.selectAll("[role=graphics-symbol]");i.dispatch("mouseout"),this.services.events.dispatchEvent(C.Tooltip.HIDE),r.attr("opacity",0)},n.prototype.addBackdropEventListeners=function(){this.isEventListenerAdded=!0;var t=this,r=this.services.domUtils.getHolder(),i=this.model.getDisplayData(),a=function(s){var l=fr(s,t.parent.node());t.showRuler(s,l)};if(i.length>100){var o=i.length%50*12.5;a=_.debounceWithD3MousePosition(function(s){var l=this.mousePosition;t.showRuler(s,l)},o,r)}this.backdrop.on("mousemove mouseover",a).on("mouseout",this.hideRuler.bind(this))},n.prototype.drawBackdrop=function(){var t=this.parent;this.backdrop=U.appendOrSelect(t,"svg.chart-grid-backdrop")},n}(Ct),O3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w3=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},T3=function(e){O3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ruler-binned",t.renderType=ht.SVG,t}return n.prototype.showRuler=function(t,r){var i=this,a=r[0],o=r[1],s=this.parent,l=this.model.getOptions(),u=this.services.cartesianScales.getOrientation(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],p=h[1],d=this.services.cartesianScales.getDomainScale(),g=d.invert(u===ae.VERTICAL?a:o),v=U.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),b=U.appendOrSelect(v,"line.ruler-line"),m=s.selectAll("[role=graphics-symbol]"),y=m.filter(function(E){if(parseFloat(zt(E,"data.x0"))<=g&&parseFloat(zt(E,"data.x1"))>=g)return!0});if(y.size()>0){this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!_.isEqual(this.elementsToHighlight,y)&&this.hideRuler(),y.dispatch("mouseover"),this.elementsToHighlight=y;var w=H(y.nodes()[0]).datum(),O=parseFloat(zt(w,"data.x0")),x=parseFloat(zt(w,"data.x1")),M=this.model.getActiveDataGroupNames(),S=M.reverse().map(function(E){return{label:E,value:zt(w,"data."+E),class:i.model.getColorClassName({classNameTypes:[dt.TOOLTIP],dataGroupName:E})}}).filter(function(E){return E.value!==0}),A=S.length>0;if(A){this.services.events.dispatchEvent(C.Tooltip.SHOW,{mousePosition:[a,o],hoveredElement:b,items:w3([{label:zt(l,"bins.rangeLabel")||"Range",value:O+" \u2013 "+x}],S,_.getProperty(l,"tooltip","showTotal")===!0?[{label:zt(l,"tooltip.totalLabel")||"Total",value:M.reduce(function(E,P){return E+parseFloat(zt(w,"data."+P))},0)}]:[])}),v.attr("opacity",1);var k=d((O+x)/2);u==="horizontal"?b.attr("x1",p).attr("x2",f).attr("y1",k).attr("y2",k):b.attr("y1",p).attr("y2",f).attr("x1",k).attr("x2",k)}else this.hideRuler()}else this.hideRuler()},n}(qn),E3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vo=function(e){E3(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.formatTooltipData=function(t){return t.reverse()},n}(qn),S3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jc=function(e){S3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="toolbar",t.renderType=ht.HTML,t}return n.prototype.init=function(){var t=this,r=function(){return t.updateOverflowMenu(!1)};this.services.events.addEventListener(C.Toolbar.SHOW_OVERFLOW_MENU,function(){t.renderOverflowMenu(),document.body.addEventListener("click",r)}),this.services.events.addEventListener(C.Toolbar.HIDE_OVERFLOW_MENU,function(){document.body.removeEventListener("click",r)})},n.prototype.render=function(t){var r=this,i=this.getComponentContainer().attr("role","toolbar"),a=_.getProperty(this.getOptions(),"data","loading");if(a)i.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=i.append("div").attr("class","bx--overflow-menu-options bx--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip").attr("tabindex",-1).attr("role","menu").html("<ul></ul>"));var o=this.getControlConfigs(),s=o.buttonList,l=o.overflowMenuItemList;l&&s.push(this.getOverflowButtonConfig());var u=i.selectAll("div.toolbar-control").data(s,function(f){return f.id});u.exit().remove();var c=u.enter().append("div").attr("class","toolbar-control bx--overflow-menu cds--overflow-menu").attr("role","button"),h=this;c.merge(u).classed("disabled",function(f){return f.shouldBeDisabled()}).attr("aria-disabled",function(f){return f.shouldBeDisabled()}).attr("aria-label",function(f){return f.title}).html(function(f){return`
			<button
				class="bx--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="`+r.services.domUtils.generateElementIDString("control-"+f.id)+'" aria-label="'+f.title+`">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform; width: `+(f.iconSVG.width!==void 0?f.iconSVG.width:"20px")+"; height: "+(f.iconSVG.height!==void 0?f.iconSVG.height:"20px")+`" xmlns="http://www.w3.org/2000/svg" class="bx--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					`+f.iconSVG.content+`
				</svg>
			</button>`}).each(function(f,p){var d=this;H(this).select("button").on("click",function(g){f.shouldBeDisabled()||h.triggerFunctionAndEvent(f,g,d)}).on("keydown",function(g){g.key&&g.key==="Enter"||g.key===" "?(g.preventDefault(),h.triggerFunctionAndEvent(f,g,d)):g.key&&g.key==="ArrowLeft"?h.focusOnPreviousEnabledToolbarItem(p):g.key&&g.key==="ArrowRight"&&h.focusOnNextEnabledToolbarItem(p)})}),this.overflowButton=this.getComponentContainer().select("button.bx--overflow-menu__trigger#"+this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu"))}},n.prototype.renderOverflowMenu=function(){var t=this,r=this.getControlConfigs().overflowMenuItemList,i=this.overflowMenu.select("ul").selectAll("li.bx--overflow-menu-options__option").data(r,function(o){return _.getProperty(o,"id")});i.exit().remove();var a=i.enter().append("li").attr("id",function(o){return t.services.domUtils.generateElementIDString("control-"+o.id)}).attr("class","bx--overflow-menu-options__option cds--overflow-menu-options__option").attr("role","menuitem");a.append("button").attr("class","bx--overflow-menu-options__btn cds--overflow-menu-options__btn"),a.merge(i).classed("bx--overflow-menu-options__option--disabled",function(o){return o.shouldBeDisabled()}).classed("cds--overflow-menu-options__option--disabled",function(o){return o.shouldBeDisabled()}).attr("aria-disabled",function(o){return o.shouldBeDisabled()}).selectAll("button").text(function(o){return o.text})},n.prototype.isOverflowMenuOpen=function(){return this.overflowMenu.classed("is-open")},n.prototype.updateOverflowMenu=function(t){!this.overflowMenu||(this.overflowMenu.classed("is-open",t),this.overflowButton&&(this.overflowButton.attr("aria-expanded",t),H(this.overflowButton.node().parentNode).classed("bx--overflow-menu--open",t).classed("cds--overflow-menu--open",t)),t?this.services.events.dispatchEvent(C.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(C.Toolbar.HIDE_OVERFLOW_MENU))},n.prototype.focusOnPreviousEnabledToolbarItem=function(t){for(var r=this.getToolbarButtonItems(),i=r.length,a=t-1;a>=0;a--){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i<r.length){var s=H("button#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)).node();"focus"in s&&s.focus()}},n.prototype.focusOnNextEnabledToolbarItem=function(t){for(var r=this.getToolbarButtonItems(),i=-1,a=t+1;a<r.length;a++){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i>-1){var s=H("button#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)).node();"focus"in s&&s.focus()}},n.prototype.focusOnPreviousEnabledMenuItem=function(t){for(var r=this.getOverflowMenuItems(),i=r.length,a=t-1;a>=0;a--){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i<r.length){var s=H("#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)+" button").node();"focus"in s&&s.focus()}},n.prototype.focusOnNextEnabledMenuItem=function(t){for(var r=this.getOverflowMenuItems(),i=-1,a=t+1;a<r.length;a++){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i>-1){var s=H("#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)+" button").node();"focus"in s&&s.focus()}},n.prototype.toggleOverflowMenu=function(t){var r=this;if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);var i=this,a=this.getOverflowMenuItems();a.forEach(function(o,s){var l=H("#"+r.services.domUtils.generateElementIDString("control-"+o.id));l!==null&&(l.on("click",function(){i.triggerFunctionAndEvent(o,t,l.node()),i.updateOverflowMenu(!1)}),l.on("keydown",function(u){u&&u.key==="Enter"?i.triggerFunctionAndEvent(o,t,l.node()):u&&u.key==="ArrowUp"?i.focusOnPreviousEnabledMenuItem(s):u&&u.key==="ArrowDown"?i.focusOnNextEnabledMenuItem(s):u&&u.key==="Escape"&&i.updateOverflowMenu(!1),u.preventDefault()}))}),i.focusOnNextEnabledMenuItem(-1)}t&&t.stopImmediatePropagation()},n.prototype.triggerFunctionAndEvent=function(t,r,i){typeof t.clickFunction=="function"&&t.clickFunction(r),this.services.events.dispatchEvent(C.Toolbar.BUTTON_CLICK,{control:t,event:r,element:i})},n.prototype.getControlConfigs=function(){var t=this,r=_.getProperty(this.getOptions(),"toolbar","numberOfIcons")-1,i=_.getProperty(this.getOptions(),"toolbar","controls"),a=[],o=[],s=[];return i.forEach(function(l){var u=null;l.type===Yt.CUSTOM?(_.getProperty(l,"id")===null&&(l.id="toolbar-button-"+n.buttonID++),_.getProperty(l,"shouldBeDisabled")===null&&(l.shouldBeDisabled=function(){return!1}),u=l):u=t.getControlConfigByType(l.type),u&&(u.text=l.text?l.text:l.type,u.id.indexOf("toolbar-export")!==-1?a.push(u):o.length<r?_.getProperty(u,"iconSVG","content")===null?s.push(u):o.push(u):s.push(u))}),s.push.apply(s,a),s.length?{buttonList:o,overflowMenuItemList:s}:{buttonList:o}},n.prototype.getToolbarButtonItems=function(){var t=this.getControlConfigs(),r=t.buttonList,i=t.overflowMenuItemList;return i&&r.push(this.getOverflowButtonConfig()),r||[]},n.prototype.getOverflowMenuItems=function(){var t=this.getControlConfigs().overflowMenuItemList;return t||[]},n.prototype.getOverflowButtonConfig=function(){var t=this;return{id:"toolbar-overflow-menu",title:"More options",shouldBeDisabled:function(){return!1},iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:function(r){return t.toggleOverflowMenu(r)}}},n.prototype.getControlConfigByType=function(t){var r=this,i=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),a=this.model.getDisplayData(),o;switch(t){case Yt.ZOOM_IN:i&&(o={id:"toolbar-zoomIn",title:"Zoom in",shouldBeDisabled:function(){return r.services.zoom.isMinZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return r.services.zoom.zoomIn()}});break;case Yt.ZOOM_OUT:i&&(o={id:"toolbar-zoomOut",title:"Zoom out",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return r.services.zoom.zoomOut()}});break;case Yt.RESET_ZOOM:i&&(o={id:"toolbar-resetZoom",title:"Reset zoom",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return r.services.zoom.resetZoomDomain()}});break;case Yt.MAKE_FULLSCREEN:o={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(t),width:"15px",height:"15px"},title:"Make fullscreen",shouldBeDisabled:function(){return!1},clickFunction:function(){r.services.domUtils.toggleFullscreen()}};break;case Yt.SHOW_AS_DATATABLE:o={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(t)},title:"Show as table",shouldBeDisabled:function(){return a.length===0},clickFunction:function(){return r.services.events.dispatchEvent(C.Modal.SHOW)}};break;case Yt.EXPORT_CSV:o={id:"toolbar-export-CSV",title:"Export as CSV",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return r.model.exportToCSV()}};break;case Yt.EXPORT_PNG:o={id:"toolbar-export-PNG",title:"Export as PNG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return r.services.domUtils.exportToPNG()}};break;case Yt.EXPORT_JPG:o={id:"toolbar-export-JPG",title:"Export as JPG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return r.services.domUtils.exportToJPG()}};break;default:throw Error("Not supported toolbar control type: "+t)}return o},n.prototype.getControlIconByType=function(t){switch(t){case Yt.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Yt.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Yt.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Yt.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case Yt.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case Yt.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Yt.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Yt.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+t)}},n.buttonID=0,n}(Ct),M3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),li=function(e){M3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="zero-line",t.renderType=ht.SVG,t}return n.prototype.render=function(t){var r=this,i=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),a=this.services.cartesianScales.getScaleByPosition(i),o=a.domain(),s=o[0],l=o[1],u=s>0&&l<0||s<0&&l>0,c=this.getComponentContainer();if(!u){c.selectAll("line.domain").remove();return}var h=this.services.cartesianScales.getDomainScale().range(),f=h[0],p=h[1],d=+a(0)+.5;d||(d=a.range()[0]);var g=_.flipSVGCoordinatesBasedOnOrientation({x0:f,x1:p,y0:d,y1:d},this.services.cartesianScales.getOrientation()),v=U.appendOrSelect(c,"line.domain");v.transition().call(function(b){return r.services.transitions.setupTransition({transition:b,name:"zero-line-update",animate:t})}).attr("y1",g.y0).attr("y2",g.y1).attr("x1",g.x0).attr("x2",g.x1)},n}(Ct),C3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A3=function(e){C3(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="zoom-bar",t.renderType=ht.SVG,t.MIN_SELECTION_DIFF=9e-10,t.brushSelector="g.zoom-bar-brush",t.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),t.brush=Hv(),t.highlightStrokeWidth=1,t}return n.prototype.init=function(){this.services.events.addEventListener(C.ZoomBar.UPDATE,this.render.bind(this));var t=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"data");this.model.setZoomBarData(t)},n.prototype.render=function(t){var r=this,i=this.getComponentContainer(),a=this.services.zoom.isZoomBarLoading(K.TOP),o=this.services.zoom.isZoomBarLocked(K.TOP),s=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"type"),l=_.getProperty(this.getOptions(),"axes",K.BOTTOM,"highlights"),u=Me.height[s],c=U.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(c!==0){var h=0,f=this.model.get("axesMargins");f&&f.left&&(h=f.left);var p=U.appendOrSelect(i,"svg.zoom-container").attr("width","100%").attr("height",u).attr("opacity",1);if(U.appendOrSelect(i,"rect.zoom-spacer").attr("x",0).attr("y",u).attr("width","100%").attr("height",Me.spacerHeight).attr("opacity",1).attr("fill","none"),s===Xe.GRAPH_VIEW?U.appendOrSelect(p,"rect.zoom-bg").attr("x",h).attr("y",0).attr("width",c-h).attr("height","100%").classed("zoom-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null):s===Xe.SLIDER_VIEW&&U.appendOrSelect(p,"rect.zoom-slider-bg").attr("x",h).attr("y",u/2-1).attr("width",c-h).attr("height",2).classed("zoom-slider-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null),a){this.renderSkeleton(p,h,c);return}var d=this.services.cartesianScales,g=d.getMainXScale(),v=d.getMainYScale(),b=d.getMainXScaleType();if(g&&b===st.TIME){var m=this.services.zoom.getZoomBarData();if(_.isEmpty(m)||m.length===1)return;this.xScale=g.copy(),this.yScale=v.copy();var y=this.services.zoom.getDefaultZoomBarDomain(m);m=this.compensateDataForDefaultDomain(m,y);var w=this.model.get("initialZoomDomain"),O=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"initialZoomDomain");O&&O[0]&&O[1]&&(O[0]=new Date(O[0]),O[1]=new Date(O[1])),O&&!(w&&w[0].valueOf()===O[0].valueOf()&&w[1].valueOf()===O[1].valueOf())?this.model.set({initialZoomDomain:_.merge([],O),zoomDomain:O?_.merge([],O):y},{skipUpdate:!0}):O===null&&w!==null&&this.model.set({initialZoomDomain:null,zoomDomain:_.merge([],y)},{skipUpdate:!0}),this.xScale.range([h,c]).domain(y),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,u-6]).domain(hn(m,function(B){return B.value}));var x=this.model.get("zoomDomain");if(s===Xe.GRAPH_VIEW&&(this.renderZoomBarArea(p,"path.zoom-graph-area-unselected",m,null),this.updateClipPath(i,this.clipId,0,0,0,0),this.renderZoomBarArea(p,"path.zoom-graph-area",m,this.clipId),this.renderZoomBarBaseline(p,h,c),l)){var M=l.highlightStartMapsTo,S=l.highlightEndMapsTo,A=l.color,k=l.labelMapsTo;l.data.forEach(function(B,N){U.appendOrSelect(p,"rect.highlight-"+N).attr("height",u-2*r.highlightStrokeWidth).attr("y",r.highlightStrokeWidth).attr("x",r.xScale(B[M])).attr("width",r.xScale(B[S])-r.xScale(B[M])).style("fill",A&&A.scale[B[k]]?A.scale[B[k]]:null).style("fill-opacity",.1).style("stroke",A&&A.scale[B[k]]?A.scale[B[k]]:null).style("stroke-dasharray","2, 2").attr("stroke-width",1+"px")})}this.addBrushEventListener(x,h,c);var E=U.appendOrSelect(i,this.brushSelector).call(this.brush);if(x!==void 0)if(x[0].valueOf()===x[1].valueOf())E.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range(),this.xScale.domain());else{var P=x.map(function(B){return r.xScale(B)});P[1]-P[0]<this.MIN_SELECTION_DIFF||(E.call(this.brush.move,P),this.updateBrushHandle(this.getComponentContainer(),P,x))}o&&(this.brush.filter(function(){return!1}),E.selectAll("rect").attr("cursor","auto"))}}},n.prototype.addBrushEventListener=function(t,r,i){var a=this,o=function(u){var c=u.selection;c===null?a.handleBrushedEvent(u,t,a.xScale,a.xScale.range()):c[0]===c[1]||a.handleBrushedEvent(u,t,a.xScale,c)},s=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"type"),l=Me.height[s];this.brush.extent([[r,0],[i,l]]).on("start brush end",null).on("start brush end",o)},n.prototype.handleBrushedEvent=function(t,r,i,a){var o=[i.invert(a[0]),i.invert(a[1])];if(this.updateBrushHandle(this.getComponentContainer(),a,o),t.sourceEvent!=null&&(t.sourceEvent.type==="mousemove"||t.sourceEvent.type==="mouseup"||t.sourceEvent.type==="mousedown"||t.sourceEvent.type==="touchstart"||t.sourceEvent.type==="touchmove"||t.sourceEvent.type==="touchend")){(r===void 0||r[0]!==o[0]||r[1]!==o[1])&&this.services.zoom.handleDomainChange(o,{dispatchEvent:!1});var s=void 0;t.type==="start"?s=C.ZoomBar.SELECTION_START:t.type==="brush"?s=C.ZoomBar.SELECTION_IN_PROGRESS:t.type==="end"&&(s=C.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(C.ZoomDomain.CHANGE,{newDomain:o})),this.services.events.dispatchEvent(s,{selection:a,newDomain:o})}},n.prototype.updateBrushHandle=function(t,r,i){var a=this,o=Me.handleWidth,s=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"type"),l=Me.height[s],u=-o/2,c=Me.handleBarWidth,h=s===Xe.GRAPH_VIEW?Me.handleBarHeight:6,f=-c/2,p=(l-h)/2;t.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(g){if(g.type==="w")return Math.max(r[0]+u,a.maxSelectionRange[0]);if(g.type==="e")return Math.min(r[1]+u,a.maxSelectionRange[1]-o)}).attr("y",0).attr("width",o).attr("height",l).attr("cursor","ew-resize").style("display",null);var d=t.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);d.enter().append("rect").attr("class",function(g){return"handle-bar handle-bar--"+g.type}),d.attr("x",function(g){if(g.type==="w")return Math.max(r[0]+f,a.maxSelectionRange[0]-u+f);if(g.type==="e")return Math.min(r[1]+f,a.maxSelectionRange[1]+u+f)}).attr("y",p).attr("width",c).attr("height",h).attr("cursor","ew-resize"),s===Xe.SLIDER_VIEW&&this.updateSliderSelectedArea(r),this.updateClipPath(t,this.clipId,r[0],0,r[1]-r[0],l)},n.prototype.updateSliderSelectedArea=function(t){var r=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"type"),i=Me.height[r];U.getSVGElementSize(this.parent,{useAttrs:!0}).width;var a=this.model.get("axesMargins");a&&a.left;var o=this.getComponentContainer(),s=o.select("svg.zoom-container");U.appendOrSelect(s,"rect.zoom-slider-selected-area").attr("x",t[0]).attr("y",i/2-1).attr("width",t[1]-t[0]).attr("height",2)},n.prototype.renderZoomBarArea=function(t,r,i,a){var o=this.services.cartesianScales,s=o.getMainXAxisPosition(),l=o.getMainYAxisPosition(),u=o.getMainXScaleType(),c=o.getMainYScaleType(),h=function(m,y,w){return function(O,x){return o.getValueFromScale(m,y,w,O,x)}},f=h(this.xScale,u,s),p=h(this.yScale,c,l),d=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"type"),g=Me.height[d],v=Sc().x(function(m,y){return f(m,y)}).y0(g).y1(function(m,y){return g-p(m,y)}),b=U.appendOrSelect(t,r).datum(i).attr("d",v);a&&b.attr("clip-path","url(#"+a+")")},n.prototype.updateClipPath=function(t,r,i,a,o,s){var l=U.appendOrSelect(t,"clipPath").attr("id",r);U.appendOrSelect(l,"rect").attr("x",i).attr("y",a).attr("width",o).attr("height",s)},n.prototype.compensateDataForDefaultDomain=function(t,r){if(!(!t||t.length<2)){var i=_.clone(t),a=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier();if(Number(r[0])<Number(i[0][a])){var s={};s[a]=r[0],s[o]=0,i.unshift(s)}if(Number(r[1])>Number(i[i.length-1][a])){var s={};s[a]=r[1],s[o]=0,i.push(s)}return i}},n.prototype.renderZoomBarBaseline=function(t,r,i,a){a===void 0&&(a=!1);var o=_.getProperty(this.model.getOptions(),"zoomBar",K.TOP,"type"),s=Me.height[o],l=rs()([[r,s],[i,s]]);U.appendOrSelect(t,"path.zoom-bg-baseline").attr("d",l).classed("zoom-bg-baseline-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.renderSkeleton=function(t,r,i){this.renderZoomBarArea(t,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(t,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),U.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null);var a=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"type");a===Xe.GRAPH_VIEW&&this.renderZoomBarBaseline(t,r,i,!0)},n.prototype.destroy=function(){this.brush.on("start brush end",null),this.services.events.removeEventListener(C.ZoomBar.UPDATE,this.render.bind(this))},n}(Ct),Od=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},wn=function(){function e(n,t){this.services={domUtils:U,files:yA,events:vA,gradientUtils:bu,transitions:bA,canvasZoom:iP},this.model=new Nn(this.services)}return e.prototype.init=function(n,t){var r=this;this.model.set({holder:n},{skipUpdate:!0}),Object.keys(this.services).forEach(function(i){var a=r.services[i];r.services[i]=new a(r.model,r.services)}),this.services.events.addEventListener(C.Model.UPDATE,function(i){var a=!!_.getProperty(i,"detail","animate");r.update(a)}),this.model.setData(t.data),this.services.events.addEventListener(C.Chart.RESIZE,function(){r.update(!1)}),this.components=this.getComponents(),this.update()},e.prototype.getComponents=function(){return console.error("getComponents() method is not implemented"),null},e.prototype.update=function(n){var t=this;if(n===void 0&&(n=!0),!!this.components){Object.keys(this.services).forEach(function(a){var o=t.services[a];o.update()}),this.components.forEach(function(a){return a.render(n)});var r=this.services.transitions.getPendingTransitions(),i=Object.keys(r).map(function(a){var o=r[a];return o.end().catch(function(s){return s})});Promise.all(i).then(function(){return t.services.events.dispatchEvent(C.Chart.RENDER_FINISHED)})}},e.prototype.destroy=function(){this.components.forEach(function(n){return n.destroy()}),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})},e.prototype.getChartComponents=function(n,t){var r=this.model.getOptions(),i=_.getProperty(r,"toolbar","enabled"),a={id:"legend",components:[new Nc(this.model,this.services)],growth:Et.PREFERRED},o=_.getProperty(r,"canvasZoom","enabled");o&&o===!0&&n.push(new F2(this.model,this.services));var s=!!this.model.getOptions().title,l={id:"title",components:[new cs(this.model,this.services)],growth:Et.STRETCH},u={id:"toolbar",components:[new jc(this.model,this.services)],growth:Et.PREFERRED},c={id:"header",components:[new gn(this.model,this.services,Od([l],i?[u]:[]),{direction:Xt.ROW,alignItems:qr.CENTER})],growth:Et.PREFERRED},h={id:"graph-frame",components:n,growth:Et.STRETCH,renderType:_.getProperty(t,"graphFrameRenderType")||ht.SVG},f=_.getProperty(t,"excludeLegend")!==!0&&r.legend.enabled!==!1,p=Xt.COLUMN;if(f){var d=_.getProperty(r,"legend","position");d==="left"?(p=Xt.ROW,r.legend.orientation||(r.legend.orientation=Yr.VERTICAL)):d==="right"?(p=Xt.ROW_REVERSE,r.legend.orientation||(r.legend.orientation=Yr.VERTICAL)):d==="bottom"&&(p=Xt.COLUMN_REVERSE)}var g={id:"spacer",components:[new vr(this.model,this.services)],growth:Et.PREFERRED},v={id:"full-frame",components:[new gn(this.model,this.services,Od(f?[a]:[],f?[g]:[],[h]),{direction:p})],growth:Et.STRETCH},b=[];if(s||i){b.push(c);var m={id:"spacer",components:[new vr(this.model,this.services,i?{size:15}:void 0)],growth:Et.PREFERRED};b.push(m)}return b.push(v),[new gv(this.model,this.services),new Fc(this.model,this.services),new gn(this.model,this.services,b,{direction:Xt.COLUMN})]},e}(),D3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),el=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Tr=function(e){D3(n,e);function n(t){var r=e.call(this,t)||this;return r.axisFlavor=Vi.DEFAULT,r}return n.prototype.assignRangeAndDomains=function(){var t=this.services.cartesianScales,r=this.getOptions(),i=t.isDualAxes(),a={primaryDomain:t.domainAxisPosition,primaryRange:t.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return i&&(a.secondaryDomain=t.secondaryDomainAxisPosition,a.secondaryRange=t.secondaryRangeAxisPosition),Object.keys(a).forEach(function(o){var s=a[o];t.scales[s]?a[o]={position:s,label:t.getScaleLabel(s),identifier:_.getProperty(r,"axes",s,"mapsTo")}:a[o]=null}),a},n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=this.services.cartesianScales,o=this.assignRangeAndDomains(),s=o.primaryDomain,l=o.primaryRange,u=o.secondaryDomain,c=o.secondaryRange,h=a.getDomainAxisScaleType(),f;h===st.TIME&&(f=function(d){return Ji(d,"MMM d, yyyy")});var p=el([el(["Group",s.label,l.label],u?[u.label]:[],c?[c.label]:[])],t.map(function(d){return el([d[i],d[s.identifier]===null?"&ndash;":f?f(d[s.identifier]):d[s.identifier],d[l.identifier]===null||isNaN(d[l.identifier])?"&ndash;":d[l.identifier].toLocaleString()],u?[d[u.identifier]===null?"&ndash;":d[u.identifier]]:[],c?[d[c.identifier]===null||isNaN(d[c.identifier])?"&ndash;":d[c.identifier]]:[])}));return p},n.prototype.setData=function(t){var r;if(t&&(r=e.prototype.setData.call(this,t),_.getProperty(this.getOptions(),"zoomBar",K.TOP,"enabled"))){var i=_.getProperty(this.getOptions(),"zoomBar",K.TOP,"data");this.setZoomBarData(i)}return r},n.prototype.setZoomBarData=function(t){var r=t?this.sanitize(_.clone(t)):this.getDisplayData(),i=r,a=this.services.cartesianScales;if(r&&a.domainAxisPosition&&a.rangeAxisPosition){var o=a.getDomainIdentifier(),s=a.getRangeIdentifier(),l=r.map(function(u){return u[o].getTime()});l=_.removeArrayDuplicates(l).sort(),i=l.map(function(u){var c=0,h={};return r.forEach(function(f){f[o].getTime()===u&&(c+=f[s])}),h[o]=new Date(u),h[s]=c,h})}this.set({zoomBarData:i})},n.prototype.getZoomBarData=function(){return this.get("zoomBarData")},n.prototype.sanitizeDateValues=function(t){var r=this.getOptions();if(!r.axes)return t;var i=[];return Object.keys(K).forEach(function(a){var o=K[a],s=r.axes[o];if(s&&s.scaleType===st.TIME){var l=s.mapsTo;(l!==null||l!==void 0)&&i.push(l)}}),i.length>0&&t.forEach(function(a){i.forEach(function(o){_.getProperty(a,o,"getTime")===null&&(a[o]=new Date(a[o]))})}),t},n.prototype.sanitize=function(t){return t=e.prototype.sanitize.call(this,t),t=this.sanitizeDateValues(t),t},n}(Nn),P3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wd=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Pe=function(e){P3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.services=Object.assign(i.services,{cartesianScales:ZD,curves:tP,zoom:nP}),i.model=new Tr(i.services),i}return n.prototype.getAxisChartComponents=function(t,r){var i=this.model.getOptions(),a=_.getProperty(i,"zoomBar",K.TOP,"enabled"),o=_.getProperty(i,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var s=this.services.cartesianScales.getMainXAxisPosition(),l=_.getProperty(i,"axes",s,"scaleType"),u=a&&s===K.BOTTOM&&l===st.TIME,c=this.services.zoom.isZoomBarLocked(K.TOP),h=!!this.model.getOptions().title,f={id:"title",components:[new cs(this.model,this.services)],growth:Et.STRETCH},p={id:"toolbar",components:[new jc(this.model,this.services)],growth:Et.PREFERRED},d={id:"header",components:[new gn(this.model,this.services,wd([f],o?[p]:[]),{direction:Xt.ROW,alignItems:qr.CENTER})],growth:Et.PREFERRED},g={id:"legend",components:[new Nc(this.model,this.services)],growth:Et.PREFERRED};u&&!c&&t.push(new mv(this.model,this.services),new y3(this.model,this.services)),t.push(new A2(this.model,this.services)),t.push(new H2(this.model,this.services));var v={id:"graph-frame",components:t,growth:Et.STRETCH,renderType:ht.SVG},b=_.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,m=Xt.COLUMN;if(b){var y=_.getProperty(this.model.getOptions(),"legend","position");y===Vr.LEFT?(m=Xt.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=Yr.VERTICAL)):y===Vr.RIGHT?(m=Xt.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=Yr.VERTICAL)):y===Vr.BOTTOM&&(m=Xt.COLUMN_REVERSE)}var w={id:"spacer",components:[new vr(this.model,this.services)],growth:Et.PREFERRED},O={id:"full-frame",components:[new gn(this.model,this.services,wd(b?[g]:[],b?[w]:[],[v]),{direction:m})],growth:Et.STRETCH},x={id:"zoom-bar",components:[new A3(this.model,this.services)],growth:Et.PREFERRED,renderType:ht.SVG},M=[];if(h||o){M.push(d);var S={id:"spacer",components:[new vr(this.model,this.services,o?{size:15}:void 0)],growth:Et.PREFERRED};M.push(S)}return u&&M.push(x),M.push(O),[new vv(this.model,this.services),new Fc(this.model,this.services),new gn(this.model,this.services,M,{direction:Xt.COLUMN})]},n}(wn),L3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){L3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(_.clone(Vt.areaChart),r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new qn(this.model,this.services),new $r(this.model,this.services),new yv(this.model,this.services),new pn(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0}),new Se(this.model,this.services,{skeleton:re.GRID})],r=this.getAxisChartComponents(t);return r},n})(Pe);var k3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){k3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.stackedAreaChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new Vo(this.model,this.services),new _v(this.model,this.services),new $r(this.model,this.services,{stacked:!0}),new wv(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0,stacked:!0}),new Se(this.model,this.services,{skeleton:re.GRID})],r=this.getAxisChartComponents(t);return r},n})(Pe);var R3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){R3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.simpleBarChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new bv(this.model,this.services),new li(this.model,this.services),new Se(this.model,this.services,{skeleton:re.VERT_OR_HORIZ})],r=this.getAxisChartComponents(t);return r},n})(Pe);var I3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){I3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.groupedBarChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new xv(this.model,this.services),new li(this.model,this.services),new Se(this.model,this.services,{skeleton:re.VERT_OR_HORIZ})],r=this.getAxisChartComponents(t);return r},n})(Pe);var N3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){N3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.stackedBarChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new Vo(this.model,this.services),new Ov(this.model,this.services),new Se(this.model,this.services,{skeleton:re.VERT_OR_HORIZ}),new li(this.model,this.services)],r=this.getAxisChartComponents(t);return r},n})(Pe);var B3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F3=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},U3=function(e){B3(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getBoxQuartiles=function(t){return{q_25:As(t,.25),q_50:As(t,.5),q_75:As(t,.75)}},n.prototype.getBoxplotData=function(){for(var t=this.getOptions(),r=t.data.groupMapsTo,i=this.getGroupedData(),a=[],o=function(p,d){for(var g,v=s.services.cartesianScales.getRangeIdentifier(),b=d.map(function(R){return R[v]}).sort(ti),m=(g={},g[r]=p,g.counts=b,g.quartiles=s.getBoxQuartiles(b),g.outliers=null,g.whiskers=null,g),y=m.quartiles.q_25,w=m.quartiles.q_75,O=(w-y)*1.5,x=y-O,M=w+O,S=[],A=[],k=0,E=b;k<E.length;k++){var P=E[k];P<x||P>M?S.push(P):A.push(P)}m.outliers=S;var B=jn(A),N=dr(A);m.whiskers={min:B||jn([m.quartiles.q_25,m.quartiles.q_50,m.quartiles.q_75]),max:N||dr([m.quartiles.q_25,m.quartiles.q_50,m.quartiles.q_75])},a.push(m)},s=this,l=0,u=i;l<u.length;l++){var c=u[l],h=c.name,f=c.data;o(h,f)}return a},n.prototype.getTabularDataArray=function(){var t=this.getOptions(),r=t.data.groupMapsTo,i=this.getBoxplotData(),a=F3([["Group","Minimum","Q1","Median","Q3","Maximum","IQR","Outlier(s)"]],i.map(function(o){var s=_.getProperty(o,"outliers");return(s===null||s.length===0)&&(s=["&ndash;"]),[o[r],_.getProperty(o,"whiskers","min")!==null?_.getProperty(o,"whiskers","min").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_25")!==null?_.getProperty(o,"quartiles","q_25").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_50")!==null?_.getProperty(o,"quartiles","q_50").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_75")!==null?_.getProperty(o,"quartiles","q_75").toLocaleString():"&ndash;",_.getProperty(o,"whiskers","max")!==null?_.getProperty(o,"whiskers","max").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_75")!==null&&_.getProperty(o,"quartiles","q_25")!==null?(_.getProperty(o,"quartiles","q_75")-_.getProperty(o,"quartiles","q_25")).toLocaleString():"&ndash;",s.map(function(l){return l.toLocaleString()}).join(",")]}));return a},n.prototype.setColorClassNames=function(){var t=1,r=_.getProperty(this.getOptions(),"color","pairing"),i=_.getProperty(r,"option"),a=Xu.pairingOptions;i=i<=a[t+"-color"]?i:1;var o=this.allDataGroups.map(function(s,l){return t+"-"+i+"-1"});this.colorClassNames=Jo().range(o).domain(this.allDataGroups)},n}(Tr),H3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){H3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new U3(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.boxplotChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new q2(this.model,this.services),new li(this.model,this.services),new Se(this.model,this.services,{skeleton:re.VERT_OR_HORIZ})],r=this.getAxisChartComponents(t,{legend:{enabled:!1}});return r},n})(Pe);var V3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){V3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.bubbleChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new qn(this.model,this.services),new K2(this.model,this.services),new Se(this.model,this.services,{skeleton:re.GRID})],r=this.getAxisChartComponents(t);return r},n})(Pe);var G3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),z3=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},j3=function(e){G3(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getMatchingRangeIndexForDatapoint=function(t){for(var r,i=t.ranges.length-1;i>0;i--){var a=t.ranges[i];if(t.value>=a)return r=i,r}return 0},n.prototype.getTabularDataArray=function(){var t=this,r=this.getDisplayData(),i=this.getOptions(),a=i.data.groupMapsTo,o=this.services.cartesianScales.getRangeIdentifier(),s=_.getProperty(i,"bullet","performanceAreaTitles"),l=z3([["Title","Group","Value","Target","Percentage","Performance"]],r.map(function(u){return[u.title,u[a],u.value===null?"&ndash;":u.value,_.getProperty(u,"marker")===null?"&ndash;":u.marker,_.getProperty(u,"marker")===null?"&ndash;":Math.floor(u[o]/u.marker*100)+"%",s[t.getMatchingRangeIndexForDatapoint(u)]]}));return l},n}(Tr),W3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){W3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new j3(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.bulletChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new J2(this.model,this.services),new Se(this.model,this.services,{skeleton:re.GRID})],r=this.getAxisChartComponents(t);return r},n})(Pe);var $3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nl=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Y3=function(e){$3(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.getTabularDataArray=function(){var t=this.getOptions(),r=t.data.groupMapsTo,i=this.getBinnedStackedData(),a=nl([nl([zt(t,"bins.rangeLabel")||"Range"],i.map(function(o){return zt(o,"0."+r)}))],zt(i,0).map(function(o,s){return nl([zt(o,"data.x0")+" \u2013 "+zt(o,"data.x1")],i.map(function(l){return zt(l[s],"data."+zt(l[s],r))}))}));return a},n}(Tr),q3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){q3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new Y3(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.histogramChart,r.options)),i.init(t,r),i.update(),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new T3(this.model,this.services),new eL(this.model,this.services)],r=this.getAxisChartComponents(t);return r},n})(Pe);var X3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){X3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.lineChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new qn(this.model,this.services),new $r(this.model,this.services),new pn(this.model,this.services,{handleThresholds:!0}),new pL(this.model,this.services),new li(this.model,this.services)],r=this.getAxisChartComponents(t);return r},n})(Pe);var Z3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){Z3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.lollipopChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new qn(this.model,this.services),new iL(this.model,this.services),new pn(this.model,this.services),new Se(this.model,this.services,{skeleton:re.GRID})],r=this.getAxisChartComponents(t);return r},n})(Pe);var K3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){K3(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.scatterChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new He(this.model,this.services),new qn(this.model,this.services),new pn(this.model,this.services),new Se(this.model,this.services,{skeleton:re.GRID})],r=this.getAxisChartComponents(t);return r},n})(Pe);var Q3=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J3=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},tF=function(e){Q3(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getTabularData=function(t){var r=e.prototype.getTabularData.call(this,t);return t!==r&&r.forEach(function(i){i.key&&i.key!==i.group&&(i.group=i.key)}),r},n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=J3([["Group","Value"]],t.map(function(o){return[o[i],o.value===null?"&ndash;":o.value.toLocaleString()]}));return a},n.prototype.sanitize=function(t){var r=this.getTabularData(t);return r.sort(function(i,a){return a.value-i.value})},n}(Nn),eF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nF=function(e){eF(n,e);function n(t,r,i){i===void 0&&(i=!1);var a=e.call(this,t,r)||this;return a.model=new tF(a.services),i||(a.model.setOptions(_.mergeDefaultChartOptions(Vt.pieChart,r.options)),a.init(t,r)),a}return n.prototype.getComponents=function(){var t=[new Tv(this.model,this.services),new Se(this.model,this.services,{skeleton:re.PIE})],r=this.getChartComponents(t);return r},n}(wn),rF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){rF(n,e);function n(t,r){var i=e.call(this,t,r,!0)||this;return i.model.setOptions(_.mergeDefaultChartOptions(Vt.donutChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new fL(this.model,this.services),new Se(this.model,this.services,{skeleton:re.DONUT})],r=this.getChartComponents(t);return r},n})(nF);var iF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rl=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},aF=function(e){iF(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getMaximumDomain=function(t){var r=t.reduce(function(i,a){return i+a.value},0);return r},n.prototype.getFillColor=function(t){var r=this.getOptions(),i=_.getProperty(r,"color","scale"),a=this.getStatus();return i||!a?e.prototype.getFillColor.call(this,t):null},n.prototype.getStatus=function(){var t=this.getOptions(),r=_.getProperty(this.getDisplayData()),i=(r?r.reduce(function(l,u){return{value:l.value+u.value}}):0).value,a=_.getProperty(t,"meter","proportional")?i:i>100?100:i,o=_.getProperty(t,"meter","status","ranges");if(o){var s=o.filter(function(l){return l.range[0]<=a&&a<=l.range[1]});if(s.length>0)return s[0].status}return null},n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=this.getStatus(),o=_.getProperty(r,"meter","proportional"),s=[],l;if(o===null){l=100;var u=t[0];s=[rl(["Group","Value"],a?["Status"]:[]),rl([u[i],u.value],a?[a]:[])]}else{var c=_.getProperty(o,"total");l=c||this.getMaximumDomain(t),s=rl([["Group","Value","Percentage of total"]],t.map(function(h){return[h[i],h.value,(h.value/l*100).toFixed(2)+" %"]}))}return s},n}(Nn),oF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Br=globalThis&&globalThis.__assign||function(){return Br=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Br.apply(this,arguments)},sF=function(e){oF(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="meter",t.renderType=ht.SVG,t}return n.prototype.getStackedBounds=function(t,r){var i=0,a=t.map(function(o,s){return s!==0?(i+=r(o.value),Br(Br({},o),{width:Math.abs(r(o.value)-oe.dividerWidth),x:i-r(o.value)})):(i=r(o.value),Br(Br({},o),{width:Math.abs(r(o.value)-oe.dividerWidth),x:0}))});return a},n.prototype.render=function(t){var r=this;t===void 0&&(t=!0);var i=this,a=this.getComponentContainer(),o=this.getOptions(),s=_.getProperty(o,"meter","proportional"),l=this.model.getDisplayData(),u=this.model.getStatus(),c=U.getSVGElementSize(a,{useAttrs:!0}).width,h=o.data.groupMapsTo,f;if(_.getProperty(o,"meter","proportional")===null)f=100;else{var p=_.getProperty(o,"meter","proportional","total");f=p||this.model.getMaximumDomain(this.model.getDisplayData())}var d=mn().domain([0,f]).range([0,c]),g=this.getStackedBounds(l,d),v=_.getProperty(o,"meter","height");U.appendOrSelect(a,"rect.container").attr("x",0).attr("y",0).attr("width",c).attr("height",v||(s?oe.height.proportional:oe.height.default)),U.appendOrSelect(a,"line.rangeIndicator").attr("x1",c).attr("x2",c).attr("y1",0).attr("y2",v||(s?oe.height.proportional:oe.height.default));var b=a.selectAll("rect.value").data(g),m=u!=null&&!i.model.isUserProvidedColorScaleValid()&&!s?"value status--"+u:"value";b.enter().append("rect").classed("value",!0).merge(b).attr("x",function(x){return x.x}).attr("y",0).attr("height",function(){var x=_.getProperty(o,"meter","height");return x||(s?oe.height.proportional:oe.height.default)}).attr("class",function(x){return r.model.getColorClassName({classNameTypes:[dt.FILL],dataGroupName:x[h],originalClassName:m})}).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"meter-bar-update",animate:t})}).attr("width",function(x,M){return x.value>f?d(f):x.width}).style("fill",function(x){return i.model.getFillColor(x[h])}).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(x){return x.value}),b.exit().remove();var y=_.getProperty(o,"meter","peak"),w=y;y!==null&&(y>f?w=f:y<l[0].value&&(w=l[0].value>f?f:l[0].value));var O=a.selectAll("line.peak").data(w==null?[]:[w]);O.enter().append("line").classed("peak",!0).merge(O).attr("y1",0).attr("y2",function(){var x=_.getProperty(o,"meter","height");return x||(s?oe.height.proportional:oe.height.default)}).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"peak-line-update",animate:t})}).attr("x1",function(x){return d(x)}).attr("x2",function(x){return d(x)}).attr("role",_t.GRAPHICS_SYMBOL).attr("aria-roledescription","peak").attr("aria-label",function(x){return x}),O.exit().remove(),this.services.domUtils.setSVGMaxHeight(),this.addEventListeners()},n.prototype.addEventListeners=function(){var t=this.getOptions(),r=t.data.groupMapsTo,i=this,a=_.getProperty(t,"meter","proportional");this.parent.selectAll("rect.value").on("mouseover",function(o,s){var l=H(this);i.services.events.dispatchEvent(C.Meter.METER_MOUSEOVER,{event:o,element:l,datum:s}),a&&(l.classed("hovered",!0),i.services.events.dispatchEvent(C.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:s[r],value:s.value}]}))}).on("mousemove",function(o,s){var l=H(this);i.services.events.dispatchEvent(C.Meter.METER_MOUSEMOVE,{event:o,element:l,datum:s}),a&&i.services.events.dispatchEvent(C.Tooltip.MOVE,{event:o})}).on("click",function(o,s){i.services.events.dispatchEvent(C.Meter.METER_CLICK,{event:o,element:H(this),datum:s})}).on("mouseout",function(o,s){var l=H(this);i.services.events.dispatchEvent(C.Meter.METER_MOUSEOUT,{event:o,element:l,datum:s}),a&&(l.classed("hovered",!1),i.services.events.dispatchEvent(C.Tooltip.HIDE,{hoveredElement:l}))})},n.prototype.destroy=function(){this.parent.selectAll("rect.value").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null)},n}(Ct),lF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uF=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};(function(e){lF(n,e);function n(t,r){var i=e.call(this,t,r)||this;i.model=new aF(i.services);var a=r.options.meter.proportional?_.merge(_.clone(Vt.proportionalMeterChart),r.options):_.merge(_.clone(Vt.meterChart),r.options);return i.model.setOptions(a),i.init(t,r),i}return n.prototype.getComponents=function(){var t=_.getProperty(this.model.getOptions(),"meter","showLabels"),r=uF(t?[{id:"meter-title",components:[new L2(this.model,this.services)],growth:Et.STRETCH,renderType:ht.SVG},{id:"spacer",components:[new vr(this.model,this.services,{size:8})],growth:Et.STRETCH}]:[],[{id:"meter-graph",components:[new sF(this.model,this.services)],growth:Et.STRETCH,renderType:ht.SVG}]),i=[new gn(this.model,this.services,r,{direction:Xt.COLUMN})],a=this.getChartComponents(i,{graphFrameRenderType:ht.HTML});return a},n})(wn);var cF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),il=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},fF=function(e){cF(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getTabularDataArray=function(){var t=this.getOptions(),r=this.getGroupedData(),i=_.getProperty(t,"radar","axes"),a=i.angle,o=i.value,s=_.getProperty(r,"0","data").map(function(u){return u[a]}),l=il([il(["Group"],s)],r.map(function(u){return il([u.name],s.map(function(c,h){return _.getProperty(u,"data",h,o)!==null?_.getProperty(u,"data",h,o).toLocaleString():"&ndash;"}))}));return l},n}(Tr),hF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){hF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new fF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.radarChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new YI(this.model,this.services)],r=this.getChartComponents(t);return r},n})(wn);var dF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pF=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},gF=function(e){dF(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getDataGroups=function(){return e.prototype.getDataGroups.call(this).filter(function(t){return t.name!=="delta"})},n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=pF([["Group","Value"]],t.map(function(o){return[o[i],o.value===null?"&ndash;":o.value.toLocaleString()]}));return a},n}(Nn),vF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Td=function(e){vF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new gF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.gaugeChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new uL(this.model,this.services)],r=this.getChartComponents(t);return r},n}(wn),mF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yF=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Mn,Ed=(Mn={},Mn[Ie.LINE]=[$r,pn],Mn[Ie.SCATTER]=[pn],Mn[Ie.AREA]=[yv,$r,pn],Mn[Ie.STACKED_AREA]=[_v,$r,wv,Vo],Mn[Ie.SIMPLE_BAR]=[bv],Mn[Ie.GROUPED_BAR]=[xv,li],Mn[Ie.STACKED_BAR]=[Ov,Vo],Mn),Sd=function(e){mF(n,e);function n(t,r){var i=e.call(this,t,r)||this,a=_.mergeDefaultChartOptions(Vt.comboChart,r.options);return r.options.comboChartTypes||(console.error("No comboChartTypes defined for the Combo Chart!"),a.comboChartTypes=[{type:Ie.LINE,correspondingDatasets:[]}]),i.model.setOptions(a),i.init(t,r),i}return n.prototype.getGraphComponents=function(){var t=this,r=this.model.getOptions().comboChartTypes,i=0,a=r.map(function(o){var s=o.type,l;if(typeof o.type=="string"){if(!Object.keys(Ed).includes(o.type))return console.error('Invalid chart type "'+o.type+'" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.'),null;var u;return l=_.merge({},Vt[_.camelCase(o.type)+"Chart"],t.model.getOptions(),o.options),o.type===Ie.STACKED_AREA&&(u=!0),Ed[o.type].map(function(c,h){return new c(t.model,t.services,{groups:o.correspondingDatasets,id:i++,options:l,stacked:u})})}else return l=_.merge({},t.model.getOptions(),o.options),new s(t.model,t.services,{groups:o.correspondingDatasets,id:i++,options:l})}).filter(function(o){return o!==null});return _.flatten(a)},n.prototype.getComponents=function(){var t=this.model.getOptions().comboChartTypes,r=t.some(function(o){return o.type===Ie.STACKED_BAR||o.type===Ie.STACKED_AREA}),i=yF([new De(this.model,this.services),new He(this.model,this.services),new Se(this.model,this.services,{skeleton:re.GRID})],r?[]:[new qn(this.model,this.services)],this.getGraphComponents()),a=this.getAxisChartComponents(i);return a},n}(Pe),_F=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bF=function(e){_F(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getTabularDataArray=function(){var t=this,r=this.getDisplayData(),i=[["Child","Parent"]];return r.forEach(function(a){t.getChildrenDatums(a,i),i.push([a.name,"&ndash;"])}),i},n.prototype.getChildrenDatums=function(t,r){var i=this;r===void 0&&(r=[]),t.children&&t.children.length>0&&t.children.forEach(function(a){i.getChildrenDatums(a,r),r.push([a.name,t.name])})},n}(Nn),xF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){xF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new bF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.treeChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new dk(this.model,this.services)],r=this.getChartComponents(t,{excludeLegend:!0});return r},n})(wn);var OF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wF=function(e){OF(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=[["Child","Group","Value"]];return t.forEach(function(i){Array.isArray(i.children)?i.children.forEach(function(a){r.push([a.name,i.name,a.value])}):_.getProperty(i.name)!==null&&_.getProperty(i.value)&&r.push(["\u2013",i.name,i.value])}),r},n}(Nn),TF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){TF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new wF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.treemapChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new zI(this.model,this.services)],r=this.getChartComponents(t);return r},n})(wn);var EF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fr=globalThis&&globalThis.__assign||function(){return Fr=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fr.apply(this,arguments)},SF=function(e){EF(n,e);function n(t){var r=e.call(this,t)||this;return r.parentNode=!1,r.set({depth:2},{skipUpdate:!0}),r}return n.prototype.setData=function(t){e.prototype.setData.call(this,t),this.setDataGroups(),t.length===1&&(this.parentNode=!0),this.setZoom()},n.prototype.setOptions=function(t){var r=this.getOptions(),i=_.merge({},t,this.getZoomOptions(t));_.updateLegendAdditionalItems(r,i);var a=this.getHierarchyLevel(),o=_.getProperty(r,"circlePack","hierarchyLevel");this.set({options:_.merge(r,i),depth:o&&o<4?o:a})},n.prototype.getZoomOptions=function(t){if(!this.getDisplayData())return{};var r=this.getDisplayData(),i=t||this.getOptions(),a=r.length===1&&_.getProperty(r,0,"children")?_.getProperty(r,0,"children"):r,o=this.getHierarchyLevel();return a.some(function(s){if(s.children&&s.children.some(function(l){return l.children}))return o=3,!1}),_.getProperty(i,"canvasZoom","enabled")===!0&&o>2?{legend:{additionalItems:[{type:ee.ZOOM,name:"Click to zoom"}]}}:null},n.prototype.setZoom=function(t){this.setOptions(this.getZoomOptions(t))},n.prototype.updateHierarchyLevel=function(t){this.set({depth:t})},n.prototype.getHierarchyLevel=function(){return this.get("depth")},n.prototype.hasParentNode=function(){return this.parentNode},n.prototype.setDataGroups=function(){var t=this,r=this.getData(),i=this.getOptions(),a=i.data.groupMapsTo,o=r.map(function(s){var l=s[a];return t.setChildrenDataGroup(s,l)});this.set({data:o},{skipUpdate:!0})},n.prototype.setChildrenDataGroup=function(t,r){var i=this;return t.children?Fr(Fr({},t),{dataGroupName:r,children:t.children.map(function(a,o){return i.setChildrenDataGroup(a,r)})}):Fr(Fr({},t),{dataGroupName:r})},n.prototype.getTabularDataArray=function(){var t=this,r=this.getDisplayData(),i=[["Child","Parent","Value"]];return r.forEach(function(a){var o=a.value?a.value:0;a.children&&(o+=t.getChildrenDatums(a.children,a.name,i,0)),i.push(["&ndash;",a.name,o])}),i},n.prototype.getChildrenDatums=function(t,r,i,a){var o=this;i===void 0&&(i=[]),a===void 0&&(a=0);var s=r;return t.forEach(function(l){var u=l.name,c=0;if(l.children)l.children.length>0&&(typeof l.value=="number"&&(a+=l.value),c+=o.getChildrenDatums(l.children,u,i,c),i.push([u,s,c]),a+=c);else{var h=0;typeof l.value=="number"&&(h=l.value,a+=l.value),i.push([l.name,s,h])}}),a},n}(Nn),MF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){MF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new SF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.circlePackChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new ZI(this.model,this.services)],r=this.getChartComponents(t);return r},n})(wn);var CF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AF=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},DF=function(e){CF(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=this.getOptions(),i=r.wordCloud,a=i.fontSizeMapsTo,o=i.wordMapsTo,s=r.data.groupMapsTo,l=AF([[r.tooltip.wordLabel,"Group",r.tooltip.valueLabel]],t.map(function(u){return[u[o],u[s],u[a]]}));return l},n}(Nn),PF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){PF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new DF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.wordCloudChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new yN(this.model,this.services),new Se(this.model,this.services,{skeleton:re.PIE})],r=this.getChartComponents(t);return r},n})(wn);var LF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kF=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},RF=function(e){LF(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getTabularDataArray=function(){var t=this.getDisplayData();t.sort(function(i,a){return i.source.localeCompare(a.source)});var r=kF([["Source","Target","Value"]],t.map(function(i){return[i.source,i.target,i.value]}));return r},n}(Tr),IF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){IF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new RF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.alluvialChart,r.options)),i.init(t,r),i}return n.prototype.getComponents=function(){var t=[new FN(this.model,this.services)],r=this.getChartComponents(t,{excludeLegend:!0});return r},n})(wn);var NF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BF=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},FF=function(e){NF(n,e);function n(t){var r=e.call(this,t)||this;r.axisFlavor=Vi.HOVERABLE,r._colorScale=void 0,r._domains=[],r._ranges=[],r._matrix={};var i=_.getProperty(r.getOptions(),"axes");if(!!_.getProperty(i,"left","scaleType")&&_.getProperty(i,"left","scaleType")!==st.LABELS||!!_.getProperty(i,"right","scaleType")&&_.getProperty(i,"right","scaleType")!==st.LABELS||!!_.getProperty(i,"top","scaleType")&&_.getProperty(i,"top","scaleType")!==st.LABELS||!!_.getProperty(i,"bottom","scaleType")&&_.getProperty(i,"bottom","scaleType")!==st.LABELS)throw Error("Heatmap only supports label scaletypes.");return r}return n.prototype.getValueDomain=function(){var t=hn(this.getDisplayData(),function(i){return i.value}),r=mn().domain(t).nice().domain();return r[0]>0&&(r[0]=0),r[0]<0&&r[1]>0&&(Math.abs(r[0])>r[1]?r[1]=Math.abs(r[0]):r[0]=-r[1]),r},n.prototype.getFillColor=function(t){return this._colorScale(t)},n.prototype.getUniqueDomain=function(){if(_.isEmpty(this._domains)){var t=this.getDisplayData(),r=this.services.cartesianScales,i=r.getDomainIdentifier(),a=r.getMainXAxisPosition(),o=r.getCustomDomainValuesByposition(a);if(o)return o;this._domains=Array.from(new Set(t.map(function(s){return s[i]})))}return this._domains},n.prototype.getUniqueRanges=function(){if(_.isEmpty(this._ranges)){var t=this.getDisplayData(),r=this.services.cartesianScales,i=r.getRangeIdentifier(),a=r.getMainYAxisPosition(),o=r.getCustomDomainValuesByposition(a);if(o)return o;this._ranges=Array.from(new Set(t.map(function(s){return s[i]})))}return this._ranges},n.prototype.getMatrix=function(){var t=this;if(_.isEmpty(this._matrix)){var r=this.getUniqueDomain(),i=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier(),s={};i.forEach(function(l){s[l]={value:null,index:-1}}),r.forEach(function(l){t._matrix[l]=_.clone(s)}),this.getDisplayData().forEach(function(l,u){t._matrix[l[a]][l[o]]={value:l.value,index:u}})}return this._matrix},n.prototype.setData=function(t){var r=this.sanitize(_.clone(t)),i=this.generateDataGroups(r);return this.set({data:r,dataGroups:i}),this._domains=[],this._ranges=[],this._matrix={},r},n.prototype.getMatrixAsArray=function(){var t=this;_.isEmpty(this._matrix)&&this.getMatrix();var r=this.getUniqueDomain(),i=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier(),s=[];return r.forEach(function(l){i.forEach(function(u){var c={value:t._matrix[l][u].value,index:t._matrix[l][u].index};c[a]=l,c[o]=u,s.push(c)})}),s},n.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),r=this.assignRangeAndDomains(),i=r.primaryDomain,a=r.primaryRange;r.secondaryDomain,r.secondaryRange;var o=BF([[i.label,a.label,"Value"]],t.map(function(s){return[s[i.identifier]===null?"&ndash;":s[i.identifier],s[a.identifier]===null?"&ndash;":s[a.identifier].toLocaleString(),s.value]}));return o},n.prototype.getColorClassName=function(t){return t.originalClassName+" "+this._colorScale(t.value)},n.prototype.setColorClassNames=function(){var t=this.getOptions(),r=_.getProperty(t,"color","gradient","colors"),i=!_.isEmpty(r),a=_.getProperty(t,"color","pairing","option"),o=this.getValueDomain(),s=o[0]<0&&o[1]>0?"diverge":"mono";(a<1&&a>4&&s==="mono"||a<1&&a>2&&s==="diverge")&&(a=1);var l=i?r:[];if(!i)for(var u=s==="diverge"?17:11,c=1;c<u+1;c++)l.push("fill-"+s+"-"+a+"-"+c);this._colorScale=Eg().domain(this.getValueDomain()).range(l)},n}(Tr),UF=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Md=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};(function(e){UF(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.model=new FF(i.services),i.model.setOptions(_.mergeDefaultChartOptions(Vt.heatmapChart,r.options)),i.init(t,r),i}return n.prototype.getAxisChartComponents=function(t,r){var i=this.model.getOptions(),a=_.getProperty(i,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var o=!!this.model.getOptions().title,s={id:"title",components:[new cs(this.model,this.services)],growth:Et.STRETCH},l={id:"toolbar",components:[new jc(this.model,this.services)],growth:Et.PREFERRED},u={id:"header",components:[new gn(this.model,this.services,Md([s],a?[l]:[]),{direction:Xt.ROW,alignItems:qr.CENTER})],growth:Et.PREFERRED},c={id:"legend",components:[new gP(this.model,this.services)],growth:Et.PREFERRED,renderType:ht.SVG},h={id:"graph-frame",components:t,growth:Et.STRETCH,renderType:ht.SVG},f=_.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,p=Xt.COLUMN_REVERSE,d={id:"spacer",components:[new vr(this.model,this.services,{size:15})],growth:Et.PREFERRED},g={id:"full-frame",components:[new gn(this.model,this.services,Md(f?[c]:[],f?[d]:[],[h]),{direction:p})],growth:Et.STRETCH},v=[];if(o||a){v.push(u);var b={id:"spacer",components:[new vr(this.model,this.services,a?{size:15}:void 0)],growth:Et.PREFERRED};v.push(b)}return v.push(g),[new vv(this.model,this.services),new Fc(this.model,this.services),new gn(this.model,this.services,v,{direction:Xt.COLUMN})]},n.prototype.getComponents=function(){var t=[new De(this.model,this.services),new HN(this.model,this.services)],r=this.getAxisChartComponents(t);return r},n})(Pe);function HF(e){let n,t=[e[2],{id:e[1]}],r={};for(let i=0;i<t.length;i+=1)r=At(r,t[i]);return{c(){n=Dt("div"),se(n,r)},m(i,a){mt(i,n,a),e[7](n)},p(i,[a]){se(n,r=Je(t,[a&4&&i[2],a&2&&{id:i[1]}]))},i:ao,o:ao,d(i){i&&vt(n),e[7](null)}}}function VF(e,n,t){const r=["Chart","chart","data","options","id","ref"];let i=te(n,r),{Chart:a=void 0}=n,{chart:o=null}=n,{data:s=[]}=n,{options:l={}}=n,{id:u="chart-"+Math.random().toString(36)}=n,{ref:c=null}=n;const h=Ld();Pd(()=>{const p=c||document.getElementById(u);return p&&(t(3,o=new a(p,{data:s,options:l})),h("load",o)),()=>{o&&(o.components.forEach(d=>d.destroy()),t(3,o=null),h("destroy"))}});function f(p){be[p?"unshift":"push"](()=>{c=p,t(0,c)})}return e.$$set=p=>{n=At(At({},n),$e(p)),t(2,i=te(n,r)),"Chart"in p&&t(4,a=p.Chart),"chart"in p&&t(3,o=p.chart),"data"in p&&t(5,s=p.data),"options"in p&&t(6,l=p.options),"id"in p&&t(1,u=p.id),"ref"in p&&t(0,c=p.ref)},e.$$.update=()=>{e.$$.dirty&104&&o&&(o.model.setData(s),o.model.setOptions(l),h("update",{data:s,options:l}))},[c,u,i,o,a,s,l,f]}class Vv extends Ee{constructor(n){super();Te(this,n,VF,HF,we,{Chart:4,chart:3,data:5,options:6,id:1,ref:0})}}function GF(e){let n,t,r,i;const a=[e[2],{Chart:Sd}];function o(u){e[3](u)}function s(u){e[4](u)}let l={};for(let u=0;u<a.length;u+=1)l=At(l,a[u]);return e[1]!==void 0&&(l.ref=e[1]),e[0]!==void 0&&(l.chart=e[0]),n=new Vv({props:l}),be.push(()=>fn(n,"ref",o)),be.push(()=>fn(n,"chart",s)),n.$on("load",e[5]),n.$on("update",e[6]),n.$on("destroy",e[7]),{c(){Ht(n.$$.fragment)},m(u,c){Nt(n,u,c),i=!0},p(u,[c]){const h=c&4?Je(a,[c&4&&Rd(u[2]),c&0&&{Chart:Sd}]):{};!t&&c&2&&(t=!0,h.ref=u[1],cn(()=>t=!1)),!r&&c&1&&(r=!0,h.chart=u[0],cn(()=>r=!1)),n.$set(h)},i(u){i||(yt(n.$$.fragment,u),i=!0)},o(u){bt(n.$$.fragment,u),i=!1},d(u){Bt(n,u)}}}function zF(e,n,t){const r=["chart","ref"];let i=te(n,r),{chart:a=null}=n,{ref:o=null}=n;function s(f){o=f,t(1,o)}function l(f){a=f,t(0,a)}function u(f){ne.call(this,e,f)}function c(f){ne.call(this,e,f)}function h(f){ne.call(this,e,f)}return e.$$set=f=>{n=At(At({},n),$e(f)),t(2,i=te(n,r)),"chart"in f&&t(0,a=f.chart),"ref"in f&&t(1,o=f.ref)},[a,o,i,s,l,u,c,h]}class jF extends Ee{constructor(n){super();Te(this,n,zF,GF,we,{chart:0,ref:1})}}function WF(e){let n,t,r,i;const a=[e[2],{Chart:Td}];function o(u){e[3](u)}function s(u){e[4](u)}let l={};for(let u=0;u<a.length;u+=1)l=At(l,a[u]);return e[1]!==void 0&&(l.ref=e[1]),e[0]!==void 0&&(l.chart=e[0]),n=new Vv({props:l}),be.push(()=>fn(n,"ref",o)),be.push(()=>fn(n,"chart",s)),n.$on("load",e[5]),n.$on("update",e[6]),n.$on("destroy",e[7]),{c(){Ht(n.$$.fragment)},m(u,c){Nt(n,u,c),i=!0},p(u,[c]){const h=c&4?Je(a,[c&4&&Rd(u[2]),c&0&&{Chart:Td}]):{};!t&&c&2&&(t=!0,h.ref=u[1],cn(()=>t=!1)),!r&&c&1&&(r=!0,h.chart=u[0],cn(()=>r=!1)),n.$set(h)},i(u){i||(yt(n.$$.fragment,u),i=!0)},o(u){bt(n.$$.fragment,u),i=!1},d(u){Bt(n,u)}}}function $F(e,n,t){const r=["chart","ref"];let i=te(n,r),{chart:a=null}=n,{ref:o=null}=n;function s(f){o=f,t(1,o)}function l(f){a=f,t(0,a)}function u(f){ne.call(this,e,f)}function c(f){ne.call(this,e,f)}function h(f){ne.call(this,e,f)}return e.$$set=f=>{n=At(At({},n),$e(f)),t(2,i=te(n,r)),"chart"in f&&t(0,a=f.chart),"ref"in f&&t(1,o=f.ref)},[a,o,i,s,l,u,c,h]}class YF extends Ee{constructor(n){super();Te(this,n,$F,WF,we,{chart:0,ref:1})}}function Wu(e,n,t){return e**(n*t)}const qF="\\(p^{ct}\\)";function XF(e){let n,t,r,i;return r=new jF({props:{data:e[0],options:e[1]}}),{c(){n=Dt("p"),n.textContent="Note that the more topics you include in your pull request and the more collaborators you have the more rapidly the chance that your PR gets accepted declines.",t=It(),Ht(r.$$.fragment)},m(a,o){mt(a,n,o),mt(a,t,o),Nt(r,a,o),i=!0},p(a,[o]){const s={};o&1&&(s.data=a[0]),r.$set(s)},i(a){i||(yt(r.$$.fragment,a),i=!0)},o(a){bt(r.$$.fragment,a),i=!1},d(a){a&&vt(n),a&&vt(t),Bt(r,a)}}}function ZF(e,n,t){let{p:r,topics:i,collaborators:a}=n,o=[...Array(11).keys()],s=o.map(u=>0),l={axes:{bottom:{title:"Topics",mapsTo:"t",scaleType:"linear"},left:{title:"Chance",mapsTo:"value",scaleType:"linear",thresholds:[{value:.5,label:"Threshold"}]}},comboChartTypes:[{type:"line",correspondingDatasets:["Chance"]},{type:"scatter",options:{points:{radius:7}},correspondingDatasets:["Your PR"]}],color:{scale:{Chance:"var(--cds-ui-03, #ddd)"}},height:"400px",animations:!1};return e.$$set=u=>{"p"in u&&t(2,r=u.p),"topics"in u&&t(3,i=u.topics),"collaborators"in u&&t(4,a=u.collaborators)},e.$$.update=()=>{e.$$.dirty&29&&(t(0,s=o.map(u=>({t:u,value:Wu(r,u,a),group:"Chance"}))),s.push({t:i,value:Wu(r,i,a),group:"Your PR"}))},[s,l,r,i,a]}class KF extends Ee{constructor(n){super();Te(this,n,ZF,XF,we,{p:2,topics:3,collaborators:4})}}function QF(e){let n,t,r;t=new YF({props:{data:e[1],options:e[0]}});let i=[e[2]],a={};for(let o=0;o<i.length;o+=1)a=At(a,i[o]);return{c(){n=Dt("figure"),Ht(t.$$.fragment),se(n,a)},m(o,s){mt(o,n,s),Nt(t,n,null),r=!0},p(o,[s]){const l={};s&2&&(l.data=o[1]),s&1&&(l.options=o[0]),t.$set(l),se(n,a=Je(i,[s&4&&o[2]]))},i(o){r||(yt(t.$$.fragment,o),r=!0)},o(o){bt(t.$$.fragment,o),r=!1},d(o){o&&vt(n),Bt(t)}}}function JF(e,n,t){let r;const i=["value"];let a=te(n,i),{value:o}=n,s="#ddd",l={};return e.$$set=u=>{n=At(At({},n),$e(u)),t(2,a=te(n,i)),"value"in u&&t(3,o=u.value)},e.$$.update=()=>{e.$$.dirty&8&&(o>60?t(4,s="var(--traffic-light-green)"):o>40?t(4,s="var(--traffic-light-yellow)"):t(4,s="var(--traffic-light-red)")),e.$$.dirty&8&&t(1,r=[{group:"value",value:o}]),e.$$.dirty&16&&t(0,l={color:{scale:{value:s}},height:"200px",gauge:{arcWidth:30,alignment:"center"}})},[l,r,a,o,s]}class tU extends Ee{constructor(n){super();Te(this,n,JF,QF,we,{value:3})}}function eU(e){let n,t,r,i,a,o,s,l,u,c,h,f,p,d;function g(M){e[9](M)}let v={class:"mb-05",labelText:"Features",max:5};e[0]!==void 0&&(v.value=e[0]),r=new kr({props:v}),be.push(()=>fn(r,"value",g));function b(M){e[10](M)}let m={class:"mb-05",labelText:"Refactorings",max:5};e[1]!==void 0&&(m.value=e[1]),o=new kr({props:m}),be.push(()=>fn(o,"value",b));function y(M){e[11](M)}let w={class:"mb-05",labelText:"Design Decisions",max:5};e[2]!==void 0&&(w.value=e[2]),u=new kr({props:w}),be.push(()=>fn(u,"value",y));function O(M){e[12](M)}let x={labelText:"Surprises",max:5};return e[3]!==void 0&&(x.value=e[3]),f=new kr({props:x}),be.push(()=>fn(f,"value",O)),{c(){n=Dt("p"),n.textContent="How many topics does the pull request involve?",t=It(),Ht(r.$$.fragment),a=It(),Ht(o.$$.fragment),l=It(),Ht(u.$$.fragment),h=It(),Ht(f.$$.fragment),ft(n,"class","mb-06")},m(M,S){mt(M,n,S),mt(M,t,S),Nt(r,M,S),mt(M,a,S),Nt(o,M,S),mt(M,l,S),Nt(u,M,S),mt(M,h,S),Nt(f,M,S),d=!0},p(M,S){const A={};!i&&S&1&&(i=!0,A.value=M[0],cn(()=>i=!1)),r.$set(A);const k={};!s&&S&2&&(s=!0,k.value=M[1],cn(()=>s=!1)),o.$set(k);const E={};!c&&S&4&&(c=!0,E.value=M[2],cn(()=>c=!1)),u.$set(E);const P={};!p&&S&8&&(p=!0,P.value=M[3],cn(()=>p=!1)),f.$set(P)},i(M){d||(yt(r.$$.fragment,M),yt(o.$$.fragment,M),yt(u.$$.fragment,M),yt(f.$$.fragment,M),d=!0)},o(M){bt(r.$$.fragment,M),bt(o.$$.fragment,M),bt(u.$$.fragment,M),bt(f.$$.fragment,M),d=!1},d(M){M&&vt(n),M&&vt(t),Bt(r,M),M&&vt(a),Bt(o,M),M&&vt(l),Bt(u,M),M&&vt(h),Bt(f,M)}}}function nU(e){let n,t,r,i,a;function o(l){e[13](l)}let s={max:5};return e[4]!==void 0&&(s.value=e[4]),r=new kr({props:s}),be.push(()=>fn(r,"value",o)),{c(){n=Dt("p"),n.textContent="How many collaborators do you have (excluding yourself)?",t=It(),Ht(r.$$.fragment)},m(l,u){mt(l,n,u),mt(l,t,u),Nt(r,l,u),a=!0},p(l,u){const c={};!i&&u&16&&(i=!0,c.value=l[4],cn(()=>i=!1)),r.$set(c)},i(l){a||(yt(r.$$.fragment,l),a=!0)},o(l){bt(r.$$.fragment,l),a=!1},d(l){l&&vt(n),l&&vt(t),Bt(r,l)}}}function rU(e){let n,t,r,i,a;function o(l){e[14](l)}let s={max:1,step:.1};return e[5]!==void 0&&(s.value=e[5]),r=new kr({props:s}),be.push(()=>fn(r,"value",o)),{c(){n=Dt("p"),n.textContent="What is the likelihood that your collaborators accept any topic?",t=It(),Ht(r.$$.fragment)},m(l,u){mt(l,n,u),mt(l,t,u),Nt(r,l,u),a=!0},p(l,u){const c={};!i&&u&32&&(i=!0,c.value=l[5],cn(()=>i=!1)),r.$set(c)},i(l){a||(yt(r.$$.fragment,l),a=!0)},o(l){bt(r.$$.fragment,l),a=!1},d(l){l&&vt(n),l&&vt(t),Bt(r,l)}}}function iU(e){let n,t,r,i,a,o;return n=new Ts({props:{legendText:"Pull request topics \\(t\\)",$$slots:{default:[eU]},$$scope:{ctx:e}}}),r=new Ts({props:{legendText:"Number of collaborators \\(c\\)",$$slots:{default:[nU]},$$scope:{ctx:e}}}),a=new Ts({props:{legendText:"Probability of acceptance \\(p\\)",$$slots:{default:[rU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment),t=It(),Ht(r.$$.fragment),i=It(),Ht(a.$$.fragment)},m(s,l){Nt(n,s,l),mt(s,t,l),Nt(r,s,l),mt(s,i,l),Nt(a,s,l),o=!0},p(s,l){const u={};l&524303&&(u.$$scope={dirty:l,ctx:s}),n.$set(u);const c={};l&524304&&(c.$$scope={dirty:l,ctx:s}),r.$set(c);const h={};l&524320&&(h.$$scope={dirty:l,ctx:s}),a.$set(h)},i(s){o||(yt(n.$$.fragment,s),yt(r.$$.fragment,s),yt(a.$$.fragment,s),o=!0)},o(s){bt(n.$$.fragment,s),bt(r.$$.fragment,s),bt(a.$$.fragment,s),o=!1},d(s){Bt(n,s),s&&vt(t),Bt(r,s),s&&vt(i),Bt(a,s)}}}function aU(e){let n,t,r,i;return r=new ym({props:{$$slots:{default:[iU]},$$scope:{ctx:e}}}),{c(){n=Dt("h4"),n.textContent="Your pull request",t=It(),Ht(r.$$.fragment),ft(n,"class","mb-06")},m(a,o){mt(a,n,o),mt(a,t,o),Nt(r,a,o),i=!0},p(a,o){const s={};o&524351&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(yt(r.$$.fragment,a),i=!0)},o(a){bt(r.$$.fragment,a),i=!1},d(a){a&&vt(n),a&&vt(t),Bt(r,a)}}}function oU(e){let n,t,r,i,a,o,s,l;return a=new tU({props:{value:e[7],class:"mb-10"}}),s=new KF({props:{p:e[5],topics:e[6],collaborators:e[4]}}),{c(){n=Dt("h4"),n.textContent="Result",t=It(),r=Dt("p"),r.textContent=`The probability of acceptance ${qF} is:`,i=It(),Ht(a.$$.fragment),o=It(),Ht(s.$$.fragment),ft(n,"class","mb-06")},m(u,c){mt(u,n,c),mt(u,t,c),mt(u,r,c),mt(u,i,c),Nt(a,u,c),mt(u,o,c),Nt(s,u,c),l=!0},p(u,c){const h={};c&128&&(h.value=u[7]),a.$set(h);const f={};c&32&&(f.p=u[5]),c&64&&(f.topics=u[6]),c&16&&(f.collaborators=u[4]),s.$set(f)},i(u){l||(yt(a.$$.fragment,u),yt(s.$$.fragment,u),l=!0)},o(u){bt(a.$$.fragment,u),bt(s.$$.fragment,u),l=!1},d(u){u&&vt(n),u&&vt(t),u&&vt(r),u&&vt(i),Bt(a,u),u&&vt(o),Bt(s,u)}}}function sU(e){let n,t,r,i;return n=new so({props:{lg:8,$$slots:{default:[aU]},$$scope:{ctx:e}}}),r=new so({props:{lg:8,$$slots:{default:[oU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment),t=It(),Ht(r.$$.fragment)},m(a,o){Nt(n,a,o),mt(a,t,o),Nt(r,a,o),i=!0},p(a,o){const s={};o&524351&&(s.$$scope={dirty:o,ctx:a}),n.$set(s);const l={};o&524528&&(l.$$scope={dirty:o,ctx:a}),r.$set(l)},i(a){i||(yt(n.$$.fragment,a),yt(r.$$.fragment,a),i=!0)},o(a){bt(n.$$.fragment,a),bt(r.$$.fragment,a),i=!1},d(a){Bt(n,a),a&&vt(t),Bt(r,a)}}}function lU(e){let n;return{c(){n=Dt("p"),n.innerHTML="<em>Disclaimer: This is a theory. As every theory\u2014it is limited. A theory only models reality to some degree.</em>",ft(n,"class","disclaimer svelte-l8jckb")},m(t,r){mt(t,n,r)},d(t){t&&vt(n)}}}function uU(e){let n,t;return n=new so({props:{$$slots:{default:[lU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment)},m(r,i){Nt(n,r,i),t=!0},p(r,i){const a={};i&524288&&(a.$$scope={dirty:i,ctx:r}),n.$set(a)},i(r){t||(yt(n.$$.fragment,r),t=!0)},o(r){bt(n.$$.fragment,r),t=!1},d(r){Bt(n,r)}}}function cU(e){let n,t,r,i;return n=new cl({props:{class:"mb-08",$$slots:{default:[sU]},$$scope:{ctx:e}}}),r=new cl({props:{$$slots:{default:[uU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment),t=It(),Ht(r.$$.fragment)},m(a,o){Nt(n,a,o),mt(a,t,o),Nt(r,a,o),i=!0},p(a,[o]){const s={};o&524543&&(s.$$scope={dirty:o,ctx:a}),n.$set(s);const l={};o&524288&&(l.$$scope={dirty:o,ctx:a}),r.$set(l)},i(a){i||(yt(n.$$.fragment,a),yt(r.$$.fragment,a),i=!0)},o(a){bt(n.$$.fragment,a),bt(r.$$.fragment,a),i=!1},d(a){Bt(n,a),a&&vt(t),Bt(r,a)}}}function fU(e,n,t){const r=new URL(window.location);let i=r.searchParams;const a=(x,M=0,S=parseInt)=>S(i.get(x)||M),o=(x,M)=>{r.searchParams.set(x,M),window.history.pushState({},"",r)};let s=a("f",1),l=a("r"),u=a("d"),c=a("s"),h=a("c",2),f=a("p",.8,parseFloat),p,d,g;Pd(()=>{MathJax.typeset()});function v(x){s=x,t(0,s)}function b(x){l=x,t(1,l)}function m(x){u=x,t(2,u)}function y(x){c=x,t(3,c)}function w(x){h=x,t(4,h)}function O(x){f=x,t(5,f)}return e.$$.update=()=>{e.$$.dirty&15&&t(6,p=s+l+u+c),e.$$.dirty&112&&t(8,d=Wu(f,h,p)),e.$$.dirty&256&&t(7,g=Math.round(d*100)),e.$$.dirty&1&&o("f",s),e.$$.dirty&2&&o("r",l),e.$$.dirty&4&&o("d",u),e.$$.dirty&8&&o("s",c),e.$$.dirty&16&&o("c",h),e.$$.dirty&32&&o("p",f)},[s,l,u,c,h,f,p,g,d,v,b,m,y,w,O]}class hU extends Ee{constructor(n){super();Te(this,n,fU,cU,we,{})}}function dU(e,n,t){const r={light:"white",dark:"g100"};let i=r.light;const a=window.matchMedia("(prefers-color-scheme: dark)"),o=s=>{const l=localStorage.getItem("theme")||(s.matches?"dark":"light");t(0,i=r[l])};return a.addEventListener("change",o),o(a),e.$$.update=()=>{e.$$.dirty&1&&document.documentElement.setAttribute("theme",i)},[i]}class pU extends Ee{constructor(n){super();Te(this,n,dU,null,we,{})}}function gU(e){let n,t,r;return{c(){n=Dt("p"),n.textContent="What is the chance that your pull request gets accepted?",t=It(),r=Dt("p"),r.textContent="As effective software engineers we want our pull requests to get accepted quickly such that we can ship incremental changes to production and increase the value of our software to our users.",ft(n,"class","mb-05")},m(i,a){mt(i,n,a),mt(i,t,a),mt(i,r,a)},d(i){i&&vt(n),i&&vt(t),i&&vt(r)}}}function vU(e){let n,t;return n=new so({props:{lg:8,$$slots:{default:[gU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment)},m(r,i){Nt(n,r,i),t=!0},p(r,i){const a={};i&1&&(a.$$scope={dirty:i,ctx:r}),n.$set(a)},i(r){t||(yt(n.$$.fragment,r),t=!0)},o(r){bt(n.$$.fragment,r),t=!1},d(r){Bt(n,r)}}}function mU(e){let n,t,r,i,a,o;return r=new cl({props:{class:"mb-08",$$slots:{default:[vU]},$$scope:{ctx:e}}}),a=new hU({}),{c(){n=Dt("h1"),n.textContent="PR Math",t=It(),Ht(r.$$.fragment),i=It(),Ht(a.$$.fragment),xi(n,"margin-bottom","2rem")},m(s,l){mt(s,n,l),mt(s,t,l),Nt(r,s,l),mt(s,i,l),Nt(a,s,l),o=!0},p(s,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:s}),r.$set(u)},i(s){o||(yt(r.$$.fragment,s),yt(a.$$.fragment,s),o=!0)},o(s){bt(r.$$.fragment,s),bt(a.$$.fragment,s),o=!1},d(s){s&&vt(n),s&&vt(t),Bt(r,s),s&&vt(i),Bt(a,s)}}}function yU(e){let n,t;return n=new Sm({props:{noGutter:!0,$$slots:{default:[mU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment)},m(r,i){Nt(n,r,i),t=!0},p(r,i){const a={};i&1&&(a.$$scope={dirty:i,ctx:r}),n.$set(a)},i(r){t||(yt(n.$$.fragment,r),t=!0)},o(r){bt(n.$$.fragment,r),t=!1},d(r){Bt(n,r)}}}function _U(e){let n,t,r,i;return n=new pU({}),r=new zm({props:{class:"full-height",$$slots:{default:[yU]},$$scope:{ctx:e}}}),{c(){Ht(n.$$.fragment),t=It(),Ht(r.$$.fragment)},m(a,o){Nt(n,a,o),mt(a,t,o),Nt(r,a,o),i=!0},p(a,[o]){const s={};o&1&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(yt(n.$$.fragment,a),yt(r.$$.fragment,a),i=!0)},o(a){bt(n.$$.fragment,a),bt(r.$$.fragment,a),i=!1},d(a){Bt(n,a),a&&vt(t),Bt(r,a)}}}class bU extends Ee{constructor(n){super();Te(this,n,null,_U,we,{})}}new bU({target:document.body,props:{name:"world"}})});export default xU();
